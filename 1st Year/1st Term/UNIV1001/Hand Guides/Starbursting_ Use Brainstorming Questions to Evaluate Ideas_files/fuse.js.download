!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var t={fuse_blocked_url:[],fuse_breakpoints:{m:1024,s:768,xs:0},fuse_cdn:"//cdn.fuseplatform.net/publift/tags/",fuse_id:1007,fuse_industry:["IAB19"],fuse_settings:{adblock:!1,amazonUam:{enabled:!1},blockthrough:!0,cmp:!1,confiant:!1,headerbidding:0,identity:{enabled:!1},lazy:!1,prebid:{breakpoint_options:{},defaultTimeout:1e3,enabled:!1,sendAllBids:!1},quickstart:!1,responsive:!0},fuse_slots:[{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764347423",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[320,50],[320,100]]},sizes:[[300,50],[300,100],[320,50],[320,100]],slot:"/71161633,11757429/ENV_envato/mob_tutorial_1"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:1,s:1,xl:!1,xs:1},id:"21764347426",sizeMapping:{m:[[300,250],"fluid",[336,280],[728,90]],s:[[300,250],"fluid",[336,280],[468,60],[728,90]],xs:[]},sizes:[[300,250],[336,280],[468,60],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_mid_1"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764354922",sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid",[120,600]],s:[[300,250],[468,60],[728,90],"fluid"],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[120,600],[160,600],[300,50],[300,100],[300,250],[300,600],[320,50],[320,100],[468,60],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/tutorial_rhs_2"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764354925",sizeMapping:{m:[],s:[],xs:[[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_tutorial_4"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:1,s:1,xl:!1,xs:1},id:"21764354928",sizeMapping:{m:[[300,250],"fluid",[336,280],[728,90]],s:[[300,250],"fluid",[336,280],[468,60],[728,90]],xs:[]},sizes:[[300,250],[336,280],[468,60],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_mid_2"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764354931",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_article_3"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355504",sizeMapping:{m:[[728,90],[970,90],[970,250]],s:[[468,60],[728,90]],xs:[]},sizes:[[468,60],[728,90],[970,90],[970,250]],slot:"/71161633,11757429/ENV_envato/tutorial_top"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355507",sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid",[120,600]],s:[[300,250],[468,60],[728,90],"fluid"],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[120,600],[160,600],[300,50],[300,100],[300,250],[300,600],[320,50],[320,100],[468,60],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/tutorial_rhs_1"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355510",sizeMapping:{m:[[728,90],[970,90],[970,250],"fluid"],s:[[728,90],"fluid"],xs:[[300,250],[320,50],[320,100]]},sizes:[[300,250],[320,50],[320,100],[728,90],[970,90],[970,250],["fluid"]],slot:"/71161633,11757429/ENV_envato/tutorial_bottom"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355513",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_tutorial_2"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355516",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_tutorial_3"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355519",sizeMapping:{m:[[728,90],[970,90],[970,250]],s:[[468,60],[728,90]],xs:[]},sizes:[[468,60],[728,90],[970,90],[970,250]],slot:"/71161633,11757429/ENV_envato/article_top"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:1,s:1,xl:!1,xs:1},id:"21764355522",sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid",[120,600]],s:[[300,250],"fluid"],xs:[]},sizes:[[120,600],[160,600],[300,250],[300,600],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_rhs_1"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:25},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355525",sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid",[120,600]],s:[[300,250],"fluid"],xs:[]},sizes:[[120,600],[160,600],[300,250],[300,600],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_rhs_2"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355528",sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid",[120,600]],s:[[300,250],"fluid",[336,280],[468,60],[728,90]],xs:[]},sizes:[[120,600],[160,600],[300,250],[300,600],[336,280],[468,60],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_rhs_3"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355531",sizeMapping:{m:[[728,90],[970,90],[970,250]],s:[[728,90]],xs:[]},sizes:[[728,90],[970,90],[970,250]],slot:"/71161633,11757429/ENV_envato/article_bottom"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355534",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_article_1"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355537",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_article_2"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21764355540",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_article_4"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21883893312",sizeMapping:{m:[],s:[],xs:[[320,50]]},sizes:[[320,50]],slot:"/71161633,11757429/ENV_envato/mobile_sticky_footer"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21884282942",sizeMapping:{m:[[300,250],"fluid",[728,90]],s:[[300,250],"fluid",[728,90]],xs:[]},sizes:[[300,250],[728,90],["fluid"]],slot:"/71161633,11757429/ENV_envato/article_mid_3"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],customLazy:{l:!1,m:!1,s:!1,xl:!1,xs:!1},id:"21884282945",sizeMapping:{m:[[300,250],[728,90]],s:[[300,250],[728,90]],xs:[]},sizes:[[300,250],[728,90]],slot:"/71161633,11757429/ENV_envato/article_mid_4"},{attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},bids:[],id:"22018374233",sizeMapping:{m:[],s:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},sizes:[[300,50],[300,100],[300,250],[320,50],[320,100],["fluid"]],slot:"/71161633,11757429/ENV_envato/mob_article_top"}],fuse_tenant:"publift",fuse_uuid:"3c50a890-6818-42dd-9048-0b389894087c",supported_sizes:{l:[],m:[[160,600],[300,250],[300,600],"fluid",[120,600],[336,280],[728,90],[970,90],[970,250]],s:[[300,250],"fluid",[160,600],[336,280],[468,60],[728,90]],xl:[],xs:[[300,50],[300,100],[300,250],[320,50],[320,100],"fluid"]},tenantId:"DGKSPXNV53"};function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u=void 0;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<u.length;n++)e.call(t,u[n],n,u)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;for(var o,r,t=0|t,s=Math.max(0<=t?t:i-Math.abs(t),0);s<i;){if((o=n[s])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;s++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var d=function(){function t(e){o(this,t),this.pubID=e.pubID,this.adServer=e.adServer,this.logger=e.logger,this.browserWindow=e.browserWindow,this.gdpr={},this.params={},this.sco=e.sco||{}}return n(t,[{key:"loadAmazonUam",value:function(n,i,e,t,o,r,s){function a(e,t){i[n]._Q.push([e,t])}i[n]||(i[n]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=e.createElement(t)).async=!0,r.src=o,(s=e.getElementsByTagName(t)[0]).parentNode.insertBefore(r,s))}},{key:"applyCCPA",value:function(e){this.params={us_privacy:e},this.logger.log("[CONSENT]: CCPA config passed onto UAM")}},{key:"applyGDPR",value:function(){this.gdpr={cmpTimeout:1e4},this.logger.log("[CONSENT]: GDPR config passed onto UAM")}},{key:"getUamConfig",value:function(){var e={pubID:this.pubID,adServer:this.adServer};return Object.getOwnPropertyNames(this.gdpr).length&&(e.gdpr=this.gdpr),Object.getOwnPropertyNames(this.params).length&&(e.params=this.params),Object.getOwnPropertyNames(this.sco).length&&(e.schain={ver:"1.0",complete:1,nodes:[{asi:this.sco.asi,sid:this.sco.sellerId,hp:1}]}),e}},{key:"load",value:function(){if(this.loadAmazonUam("apstag",this.browserWindow,this.browserWindow.document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),!this.browserWindow.apstag)return this.logger.error("[LOAD]: 0. UAM script loading failed.")}},{key:"init",value:function(e){this.browserWindow.apstag.init(this.getUamConfig()),this.logger.log("[LOAD]: 0. UAM script loaded"),this.logger.log("[TIME]: time in ms it took UAM script to load",new Date-e)}},{key:"makeBids",value:function(e,t){var n=this;this.browserWindow.apstag.fetchBids({slots:e},function(e){n.browserWindow.googletag.cmd.push(function(){n.browserWindow.apstag.setDisplayBids(),t(e)})})}}]),t}(),g=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow,this.versionLoader=e.versionLoader,this.logger=e.logger,this.versionNumber=1,this.version=null,this.gdprApplies=!1,this.ccpaApplies=!1,this.ccpaPrivacyString=null,this.stubFunctionsGenerator=e.stubFunctionsGenerator,this.scriptLoader=e.scriptLoader,this.consentUIPrompt=e.consentUIPrompt}return n(t,[{key:"init",value:function(){this.scriptLoader.load(),this.stubFunctionsGenerator.generate(),this.loadVersion()}},{key:"loadVersion",value:function(){this.checkForVersion1(),this.checkForVersion2()}},{key:"versionHandler",value:function(e){var t=this,n=e.found,e=e.versionNumber;null===this.version&&(n?this.setVersion(e):setTimeout(function(){t.loadVersion()},500))}},{key:"checkForVersion1",value:function(){var n=this;this.browserWindow.__cmp("ping",null,function(e,t){n.versionHandler({found:t,versionNumber:1})})}},{key:"checkForVersion2",value:function(){var t=this;this.browserWindow.__tcfapi("ping",null,function(e){t.versionHandler({found:e.cmpLoaded,versionNumber:2})})}},{key:"setVersion",value:function(e){this.versionNumber=e,this.version=this.versionLoader.getVersion(e)}},{key:"checkForCCPA",value:function(e){this.version.checkForCCPA(e)}},{key:"cmpLoaded",value:function(e){if(this.logger.log("[CONSENT]: Check if CMP has been loaded"),null===this.version)return e(!1);this.version.cmpLoaded(e)}},{key:"getConsentData",value:function(e){this.version.getConsentData(e)}},{key:"setGDPR",value:function(e){this.gdprApplies=e}},{key:"setCCPA",value:function(e){this.ccpaApplies=e}},{key:"setPrivacyString",value:function(e){this.ccpaPrivacyString=e}},{key:"setGDPRConsentPrompt",value:function(){this.version.setGDPRConsentPrompt()}},{key:"setCCPAConsentPrompt",value:function(){this.version.setCCPAConsentPrompt()}},{key:"setNonPrivacyRegionsPrompt",value:function(){this.consentUIPrompt.setup("You are outside the CCPA jurisdiction.")}}]),t}(),f=function(){function i(e,t,n){o(this,i),this.browserWindow=e,this.domSelector=t||"div[data-fuse-privacy-tool]",this.elementId=n||"fuse-privacy-tool"}return n(i,[{key:"setup",value:function(e,t){var n,i=this.browserWindow.document.querySelector(this.domSelector);i&&(t?((n=document.createElement("a")).href="javascript:void(0)",n.id=this.elementId,n.innerHTML=e,n.addEventListener("click",t),i.appendChild(n)):i.textContent=e)}}]),i}(),p=function(){function t(e){o(this,t),this.logger=e.logger,this.targetAdSlotNodeIdPrefix=e.targetAdSlotNodeIdPrefix,this.packageVersion=e.packageVersion,this.browserWindow=e.browserWindow,this.adSlotRegistry=e.adSlotRegistry,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"getActiveModules",value:function(){return["no-module"]}}]),t}(),b=function(){function t(e){o(this,t),this.slots={},this.logger=e.logger,this.getMatchedFuseSlot=e.getMatchedFuseSlot,this.destroySlotsFunc=e.destroySlotsFunc}return n(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");e=e.toLowerCase();Array.isArray(this.slots[e])||(this.slots[e]=[]),this.slots[e].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t;e&&"string"==typeof e&&(t=e.toLowerCase(),(e=this.getMatchedFuseSlot(t))&&(e.targeting={}),e=this.slots[t],Array.isArray(e)&&(this.destroySlotsFunc(e),this.slots[t]=[]))}},{key:"getSlots",value:function(e){if(e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()]))return this.slots[e.toLowerCase()]}},{key:"setSlotTargetingById",value:function(t,n,i){var e,o=this;t&&"string"==typeof t&&((e=this.getMatchedFuseSlot(t))&&(e.targeting||(e.targeting={}),e.targeting[n]=i),(e=o.slots[t.toLowerCase()])&&Array.isArray(e)&&e.length&&e.forEach(function(e){try{e.setTargeting(n,i)}catch(e){o.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}}))}}]),t}(),h=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow}return n(t,[{key:"load",value:function(){var e=new XMLHttpRequest,t=this.browserWindow.document.location.hostname,n=this.browserWindow.document.createElement("script"),i=this.browserWindow.document.getElementsByTagName("script")[0],o=(new Date).getTime(),r="https://quantcast.mgr.consensu.org".concat("/choice/","PRrmquD1Ggcb1","/",t,"/choice.js").concat("?timestamp=",o);e.onreadystatechange=function(){var e;4===this.readyState&&(n.async=!0,n.type="text/javascript",200===this.status?n.src=r:(e="https://quantcast.mgr.consensu.org".concat("/choice.js"),n.src=e,r=e),i.parentNode.insertBefore(n,i))},e.open("GET",r,!0),e.send()}}]),t}(),m=function(){function t(e){o(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow}return n(t,[{key:"generate",value:function(){this.createStubFunctionV1(),this.createStubFunctionV2()}},{key:"createStubFunctionV1",value:function(){var t;void 0===this.browserWindow.__cmp&&(t=this.browserWindow,this.browserWindow.__cmp=function(){var e=arguments;"object"!==r(t.__cmp.a)&&setTimeout(function(){t.__cmp.apply(t.__cmp,e)},400)})}},{key:"createStubFunctionV2",value:function(){function e(){for(var e,o="__tcfapiLocator",n=[],r=s.browserWindow,t=function e(){var t,n=r.document,i=!!r.frames[o];return i||(n.body?((t=n.createElement("iframe")).style.cssText="display:none",t.name=o,n.body.appendChild(t)):setTimeout(e,5)),!i};r;){try{if(r.frames[o]){e=r;break}}catch(e){"{}"!==JSON.stringify(e)&&s.logger.error("[CONSENT]:",JSON.stringify(e))}if(r===s.browserWindow.top)break;r=r.parent}e||(s.logger.log(" !cmpFrame "),t(),r.__tcfapi=function(){var e,t=arguments;if(!t.length)return n;"setGdprApplies"===t[0]?3<t.length&&2===t[2]&&"boolean"==typeof t[3]&&(e=t[3],"function"==typeof t[2]&&t[2]("set",!0)):"ping"===t[0]?"function"==typeof t[2]&&t[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):n.push(t)},r.addEventListener("message",function(n){var i="string"==typeof n.data,e={};try{e=i?JSON.parse(n.data):n.data}catch(e){"{}"!==JSON.stringify(e)&&s.logger.error("[CONSENT]:",JSON.stringify(e))}var o=e.__tcfapiCall;o&&s.browserWindow.__tcfapi(o.command,o.version,function(e,t){t={__tcfapiReturn:{returnValue:e,success:t,callId:o.callId}};i&&(t=JSON.stringify(t)),n.source.postMessage(t,"*")},o.parameter)},!1))}var s=this;"undefined"!=typeof module?module.exports=e:e()}}]),t}(),y=function(){function i(e){o(this,i),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt,this.uspTries=0,this.uspTriesLimit=3,this.createUspStub()}return n(i,[{key:"checkForCCPA",value:function(n){var i=this;this.browserWindow.__uspapi("uspPing",1,function(e,t){t&&e.mode.includes("USP")&&e.jurisdiction.includes(e.location.toUpperCase())?(i.logger.log("[CONSENT]: CCPA Region"),i.browserWindow.__uspapi("setUspDftData",1,function(e,t){i.logger.log("[CONSENT]: Setting up data for USP API",JSON.stringify(e),t),i.browserWindow.__uspapi("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(i.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__tcfapi("displayConsentUi",2,function(){return e.logger.log("[CONSENT]: GDPR Consent UI displayed")})})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__uspapi("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__tcfapi("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){this.browserWindow.__tcfapi("getTCData",2,function(e,t){return t&&e?e.gdprApplies?i.CONSENT_RECEIVED_STATES.includes(e.eventStatus.toLowerCase())?n({consentReceived:!0,personalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],googlePersonalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],gdprApplies:e.gdprApplies}):n({consentReceived:!1,gdprApplies:e.gdprApplies}):n({consentReceived:!0,gdprApplies:!1}):n({consentReceived:!1})})}},{key:"createUspStub",value:function(){function t(){var e=arguments;r(o.__uspapi)!==t?setTimeout(function(){void 0!==o.__uspapi&&o.__uspapi.apply(o.__uspapi,e)},400):(i.warn("[CONSENT] USP is still in stub mode. Calling to ".concat(e[0]," API will be unsuccessful")),"function"==typeof e[2]&&e[2](void 0,!1))}var e,n=this,i=this.logger,o=this.browserWindow;void 0===o.__uspapi&&(o.__uspapi=t,e=setInterval(function(){n.uspTries++,o.__uspapi===t&&n.uspTries<n.uspTriesLimit?i.warn("USP is not accessible"):clearInterval(e)},300))}}]),i}();y.CONSENT_RECEIVED_STATES=["useractioncomplete","tcloaded"];function v(t){return c(Q.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}function w(e,t){var n;e.hasOwnProperty("url")&&((n=H.document.createElement("script")).async=!0,n.type="text/javascript","function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src="https:".concat(e.url).concat(e.file),(e=H.document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,e))}function S(t,n,i){function o(){var e=Date.now()-c;e<n&&0<=e?r=setTimeout(o,n-e):(r=null,i||(l=t.apply(a,s),r||(a=s=null)))}var r,s,a,c,l;return function(){a=this,s=arguments,c=Date.now();var e=i&&!r;return r=r||setTimeout(o,n),e&&(l=t.apply(a,s),a=s=null),l}}function e(e){X.addEventListener("resize",S(e||function(){Y.log("resized",X.innerWidth,X.innerHeight)},500))}function k(e){var n,i=V.fuse_breakpoints,o=e||X.innerWidth;return Object.keys(i).forEach(function(e){var t=i[e];t<o&&(!n||o<n)&&(n={size:t,name:e})}),n}function A(){return ne.performance.timing.navigationStart}function _(){return ie}function P(e){return!0===e?0:e}function C(e,t){return t=t.name,e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(t)&&!1!==e.customLazy[t]?e.customLazy[t]:e.attributes.lazy}function I(e,t,n){if(!e)return!1;var i,o,r=e.getBoundingClientRect(),s=ne.document.hidden,a=ne.innerWidth||ne.document.documentElement.clientWidth,c=ne.innerHeight||ne.document.documentElement.clientHeight,l=P(n),u=(u=a,i=c,o=l,e=t?t/100:1,a=(n=r).top,c=n.bottom,l=n.left,t=n.right,r=n.width,n=n.height*e,e*=r,0<=a+n+o&&0<=l+e&&c-n<=i&&t-e<=u);return!s&&u}function N(e){if(!e)return Z.error("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1}function E(t){if(!t)return Z.error("missing parameter fuseSlotID");if("string"!=typeof t)return Z.error("fuseSlotId should be of type string");var n=RegExp("".concat(t.toLowerCase(),"$"));return c(ie.filter(function(e){return e.id===t||n.test(e.slot.toLowerCase())}),1)[0]||!1}function O(e){return e.filter(function(e){return!oe(e)})}function T(){var e=Ce.host;return e.substring(e.length-40,e.length)}function D(){var e=Ce.pathname;return e.substring(e.length-40,e.length)}function z(){var e=Ce.search;return e.substring(e.length-40,e.length)}function L(){for(var e=[],t=Ce.pathname.split("/"),n=0;n<t.length;n+=1)t[n].length&&-1===t[n].indexOf(".")&&e.push(t[n]);return e}function x(e){if(W&&W.cmd)return W.cmd.push(e);_e.log("googletag or googletag.cmd not exists")}function M(t){if(W&&t){var e=W.pubads().getSlots();return Array.isArray(t)?e.filter(function(e){return 0<=t.indexOf(e.getSlotElementId())}):e.filter(function(e){return e.getSlotElementId()===t})}}var B,W,j=function(){function t(e){o(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt}return n(t,[{key:"checkForCCPA",value:function(n){var i=this;this.browserWindow.__cmp("uspPing",null,function(e,t){t&&e&&e.location&&"ca"===e.location.toLowerCase()?(i.logger.log("[CONSENT]: CCPA Region"),i.browserWindow.__cmp("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(i.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__cmp("displayConsentUi")})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__cmp("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__cmp("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){var i=this;this.browserWindow.__cmp("getVendorConsents",null,function(t,e){e&&t?i.browserWindow.__cmp("getGooglePersonalization",function(e){n({consentReceived:!0,personalisedAdsConsent:t.purposeConsents&&t.purposeConsents[2]&&t.purposeConsents[3],googlePersonalisedAdsConsent:e&&e.googlePersonalizationData&&1===e.googlePersonalizationData.consentValue,gdprApplies:t.gdprApplies})}):n({consentReceived:!1,gdprApplies:t&&t.gdprApplies})})}}]),t}(),U=function(){function t(e){o(this,t),this.options=e}return n(t,[{key:"getVersion",value:function(e){var t;switch(e){case 1:t=new j(this.options);break;case 2:t=new y(this.options);break;default:t=new j(this.options)}return t}}]),t}(),V=t,F={gpt:{name:"Google Publisher Tag",url:"//securepubads.g.doubleclick.net/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:V.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"},confiant:{name:"Confiant",url:"//confiant-integrations.global.ssl.fastly.net/ZVeqITFg3t0RVj7Gh41kEbdx9DA/gpt_and_prebid/",file:"config.js"},blockthrough:{name:"Blockthrough",url:"//publift-com.videoplayerhub.com/",file:"galleryplayer.js"}},G=function(){function t(e){o(this,t),this.console=e.console,this.logName=e.logName,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"callLogMethod",value:function(e){if(this.isInDebugMode){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n[0]="[".concat(this.logName,"]-").concat(n[0]),this.console[e].apply(null,n)}}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("error",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("warn",t)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("log",t)}}]),t}(),R="2.16.3",q="2",J=new(function(){function e(){o(this,e);try{this.location=this.getBrowserWindowObject().top.location}catch(e){this.location=this.getBrowserWindowObject().location}}return n(e,[{key:"getWindowLocation",value:function(){return this.location}},{key:"getPackageVersion",value:function(){return R}},{key:"getPackageMajorVersion",value:function(){return q}},{key:"getEnvironmentType",value:function(){return"undefined"!=typeof module&&module.exports?"node":"browser"}},{key:"isNodeEnvironment",value:function(){return"node"===this.getEnvironmentType()}},{key:"getBrowserWindowObject",value:function(){return window}},{key:"getPrebidGlobal",value:function(){return this.getBrowserWindowObject().fusePbjs||(this.getBrowserWindowObject().fusePbjs={que:[]}),this.getBrowserWindowObject().fusePbjs}},{key:"getQueryParam",value:function(t){return c(this.getWindowLocation().search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}},{key:"isInDebugMode",value:function(){return this.isNodeEnvironment()||"true"===this.getQueryParam("fuse_debug")[1]}},{key:"getMainLogPrefix",value:function(){return"FUSE"}},{key:"getAdSlotQuerySelectorElement",value:function(){return"div"}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return"fuse-slot-"}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return"fuse-slot"}},{key:"getLogger",value:function(){if(this.logger)return this.logger;var e=this.isInDebugMode();return this.logger=new G({isInDebugMode:e,console:this.getBrowserWindowObject().console,logName:this.getMainLogPrefix()}),this.logger}}]),e}()),H=J.getBrowserWindowObject(),Q=J.getWindowLocation(),Y=J.getLogger(),X=J.getBrowserWindowObject(),K={watchForBreakpoints:function(t){var n=X.innerWidth,i=k(n).size;e(function(){n=X.innerWidth;var e=k(n).size;return e!==i?(i=e,Y.log("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",n,e),t(!0)):t(!1)})},setResizeListener:e,getCurrentBreakpoint:k},Z=J.getLogger(),ee=J.getAdSlotQuerySelectorElement(),te=J.getTargetAdSlotNodeMainClassName(),ne=J.getBrowserWindowObject(),ie=JSON.parse(JSON.stringify(V.fuse_slots)),oe=function(e){return Array.isArray(e)?"fluid"===e[0]:"fluid"===e},re=function(e,t){var n;return Z.log("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-A()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),ne.document.getElementById(e.code)||((n=ne.document.createElement("div")).setAttribute("id","".concat(e.code)),n.className=te,t.appendChild(n)),t},se=I,ae=function(e,t,n){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!I(e,50,C(t,n)))},ce=function(){for(var e=ne.document.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},le=function(e){return e.map(function(e){return oe(e)&&Array.isArray(e)?e[0]:e})},ue=function(t){var e=K.getCurrentBreakpoint().name,n=c(_().filter(function(e){return e.id===t})||[],1)[0];return n?n.sizeMapping&&n.sizeMapping[e]?O(n.sizeMapping[e]):(Z.warn('Fuse slot "'.concat(t,'" does not have sizemaps configured, sizeless prebid units may act strangely.')),O(n.sizes||[])):[]},de=A,ge=function(){return ne.fusetag.que||[]},fe=function(e){var t=ne.document.querySelectorAll("".concat(ee,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&Z.warn("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},pe=function(e){e=ne.document.querySelectorAll("".concat(ee,'[data-fuse="').concat(e,'"]'));return e[e.length-1]},be=function(e){if(e.prebid&&e.prebid.enabled&&e.prebid.breakpoint_options){var t=K.getCurrentBreakpoint().name,t=e.prebid.breakpoint_options[t];if(t)return t}return{enabled:0<e.headerbidding,sendAllBids:e&&e.prebid&&!0===e.prebid.sendAllBids,timeout:e.headerbidding}},he=E,me=function(){return B},ye=function(){return Array.prototype.slice.call(ne.document.querySelectorAll("".concat(ee,"[data-fuse]")))},ve=C,we=function(e){if(!e)return Z.error("missing parameter fuseSlotNode");var t=e.getAttribute("data-fuse"),n=E(t);return n||Z.warn("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(t)),n&&(N(n),t=e.getAttribute("data-targeting-key"),e=e.getAttribute("data-targeting-value"),t&&t.length&&e&&e.length&&(n.targeting||(n.targeting={}),n.targeting[t]=e)),n},Se=function(e){return B=e},ke=function(){return/[E]dge/.test(ne.navigator.userAgent)},Ae=F.gpt,_e=J.getLogger(),Pe=J.getBrowserWindowObject(),Ce=J.getWindowLocation();function Ie(e,t){x(function(){W.pubads().setTargeting(e,t)})}function Ne(){var t,n,i;Ie("fuse_profanity",(t=Ce.host,n=Ce.pathname,i="false",V.fuse_blocked_url&&V.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+n)&&(i="true")}),i)),Ie("fuse_site",T()),Ie("fuse_path",D()),Ie("fuse_query",z()),Ie("fuse_category",L()),Ie("fuse_industry",V.fuse_industry);var e="false";375<=Pe.screen.width&&(e="true"),Ie("inskin_yes",e),Ie("fuse_uuid",V.fuse_uuid)}var Ee=Ne,Oe=function(){Pe.googletag&&Pe.googletag._loadStarted_?_e.log("[LOAD]: 3. GPT v".concat(W.getVersion()," is already on the page, skip loading another copy")):w(Ae,function(){_e.log("[LOAD]: 3. GPT ".concat(Pe.googletag&&Pe.googletag._loadStarted_?"v".concat(W.getVersion()," is loaded and ready"):"not loaded")),_e.log("[TIME]: time in ms it took GPT to load",new Date-de())})},Te=function(e){var t,n,i,o,r,s=W.defineSlot(e.slot,e.sizes,e.code),a=Math.ceil(100*Math.random());return s&&(i=s,(o=e).sizeMapping&&0!==Object.keys(o.sizeMapping).length&&(r=W.sizeMapping(),Object.keys(o.sizeMapping).forEach(function(e){var t=V.fuse_breakpoints[e],n=o.sizeMapping[e];void 0!==t&&(_e.log("[EVENT] Setting breakpoint for slot ".concat(o.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(n)),r.addSize([t,0],le(n)))}),i.defineSizeMapping(r.build())),t=s=i,(n=e).targeting&&Object.keys(n.targeting).length&&Object.keys(n.targeting).forEach(function(e){t.setTargeting(e,n.targeting[e])}),s=t,a=10<a?"optimized":a%10==0?"benchmark":"exploration".concat(a%10),!1!==V.fuse_settings.adomik&&s.setTargeting("publift_mv_testing",a),s.addService(W.pubads())),s},De=function(){return W=Pe.googletag||(Pe.googletag={cmd:[]})},ze=Ie,Le=x,xe=function(e){if(W){e=!e&&0<W.pubads().getSlots().length?W.pubads().getSlots()[W.pubads().getSlots().length-1].getSlotElementId():e?e.code:null;return _e.log("[BIDS]: Initialising DFP call at",new Date-(me()||de())),W.display(e)}},Me=function(e){var t,n=e?M(e):null;return _e.log("[BIDS]: Making DFP call for ".concat(e&&e.length?JSON.stringify(e):"all units")),!0===ke()?(_e.log("[GC] will trigger GC for iFrames in Edge browser"),t=$("div[data-fuse] iframe"),e=$.Deferred(),t.one("load",function(){try{$(this.contentWindow).empty(),_e.log("[GC]: cleaned iFrame contentWindow")}catch(e){_e.error("[GC]: error in cleaning iFrame contentWindow => ".concat(e))}}),t.attr("src","about:blank"),setTimeout(e.resolve,5),void e.promise().then(function(){try{CollectGarbage()}catch(e){_e.error("[GC]: error in CollectGarbage => ".concat(e))}W.cmd.push(function(){W.pubads().refresh(n)})})):(_e.log("[GC] didn't trigger GC for iFrames in non-Edge browser"),W.pubads().refresh(n))},Be=function(){W.pubads().disableInitialLoad(),W.pubads().collapseEmptyDivs(!0),W.pubads().setCentering(!0),W.pubads().enableSingleRequest(),Ne()},We=function(t){W.pubads().addEventListener("slotRenderEnded",function(e){_e.log("[BIDS]: Adserver responded ".concat(e.isEmpty?"without":"with"," creative for ").concat(e.slot.getSlotElementId())),_e.log("[TIME]: time in ms it took for adserver to respond",new Date-(me()||de())),t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},je=function(){W.pubads().addEventListener("impressionViewable",function(e){_e.log("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(me()||de()))})},Ue=function(){Pe.googletag.enableServices()},Ve=function(){Pe.googletag.pubads().disableInitialLoad(),Pe.googletag.pubads().setRequestNonPersonalizedAds(1)},Fe=function(e){!e||(e=W.defineOutOfPageSlot(e.slot,W.enums.OutOfPageFormat.INTERSTITIAL))&&(e.addService(W.pubads()),W.pubads().disableInitialLoad(),W.enableServices(),W.display(e),W.pubads().refresh([e]))},Ge=function(){function e(){o(this,e)}return n(e,[{key:"code",value:function(e){return"1---"}}]),e}(),Re=new(function(){function e(){o(this,e)}return n(e,[{key:"getCcpaPrivacyStringCoder",value:function(){return new Ge}},{key:"getUamPubID",value:function(){return t.fuse_settings.amazonUam&&t.fuse_settings.amazonUam.enabled?t.fuse_settings.amazonUam.pubID:""}},{key:"getUamAdServer",value:function(){return"googletag"}},{key:"getSco",value:function(){return t.sco}}]),e}()),qe=new(function(){function e(){o(this,e)}return n(e,[{key:"getPackageVersion",value:function(){return J.getPackageVersion()}},{key:"getPackageMajorVersion",value:function(){return J.getPackageMajorVersion()}},{key:"isInDebugMode",value:function(){return J.isInDebugMode()}},{key:"getAdSlotQuerySelectorElement",value:function(){return J.getAdSlotQuerySelectorElement()}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return J.getTargetAdSlotNodeIdPrefix()}},{key:"getBrowserWindowObject",value:function(){return J.getBrowserWindowObject()}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return J.getTargetAdSlotNodeMainClassName()}},{key:"getPrebidGlobal",value:function(){return J.getPrebidGlobal()}},{key:"getLogger",value:function(){return J.getLogger()}},{key:"getGptSlotRegistry",value:function(){var t=this;return new b({logger:this.getLogger(),getMatchedFuseSlot:function(e){return he(e)},pushToGoogleTagQueueFunc:function(e){return e},destroySlotsFunc:function(e){return Le(function(){t.getBrowserWindowObject().googletag.destroySlots(e)})}})}},{key:"getFuseTag",value:function(){return new p({logger:this.getLogger(),targetAdSlotNodeIdPrefix:this.getTargetAdSlotNodeIdPrefix(),packageVersion:this.getPackageVersion(),browserWindow:this.getBrowserWindowObject(),adSlotRegistry:this.getGptSlotRegistry(),isInDebugMode:this.isInDebugMode()})}},{key:"getUamPubID",value:function(){return Re.getUamPubID()}},{key:"getUamAdServer",value:function(){return Re.getUamAdServer()}},{key:"getSco",value:function(){return Re.getSco()}},{key:"getAmazonUam",value:function(){return new d({pubID:this.getUamPubID(),adServer:this.getUamAdServer(),logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),sco:this.getSco()})}},{key:"getCmpVersionLoader",value:function(){return new U({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),consentUIPrompt:new f(this.getBrowserWindowObject())})}},{key:"getStubFunctionsGenerator",value:function(){return new m({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpScriptLoader",value:function(){return new h({browserWindow:this.getBrowserWindowObject()})}},{key:"getConsentManger",value:function(){return new g({browserWindow:this.getBrowserWindowObject(),logger:this.getLogger(),versionLoader:this.getCmpVersionLoader(),stubFunctionsGenerator:this.getStubFunctionsGenerator(),scriptLoader:this.getCmpScriptLoader(),consentUIPrompt:new f(this.getBrowserWindowObject())})}}]),e}()),Je=qe.getLogger(),He=qe.getBrowserWindowObject(),Qe=F.adblock,Ye={loadAdBlocklLibrary:function(){return w(Qe,function(){Je.log("[LOAD]: 3. Adblock script loaded."),Je.log("[TIME]: time in ms to load Adblock script",new Date-de())})},createAdBlockObj:function(){return He.Criteo||(He.Criteo={events:[]})},buildAdBlockSlots:function(e,t){var n,i,o,r;0<t.querySelectorAll('[id^="crt"]').length||e.attributes&&e.attributes.adblock&&(o=He.document.createElement("DIV"),n=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",i={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:n,callbacksuccess:function(e){log("[SLOTS]: Adblock slots ".concat(i.containerid," loaded")),log("[TIME]: time in ms it took Adblock Slot ".concat(i.containerid," to load"),new Date-de()),e.target.parentNode.style.display="block"}},o.id=i.containerid,o.className="fuse-adblock",t.appendChild(o),o=i,He.Criteo?(r=o,He.Criteo.events.push(function(){Je.log("[SLOTS]: Adblock slots ".concat(r.containerid," set up")),He.Criteo.DisplayAcceptableAdIfAdblocked(r),He.document.getElementById(r.containerid).style.height=r.height,He.document.getElementById(r.containerid).style.display="none"})):Je.warn("You need to declare the global Criteo Object first"))}},$e=qe.getLogger();var Xe={enable:function(){w(F.blockthrough,function(){$e.log("[LOAD]: 0. Blockthrough tag loaded"),$e.log("[TIME]: time in ms it took Blockthrough tag to load",new Date-de())})}},Ke=qe.getLogger(),Ze=qe.getBrowserWindowObject();function et(e){var t=e/.835;return at.log("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}function tt(e){var t={};return pt(t),t.enableSendAllBids=e&&!0===e.sendAllBids,gt(t,V),bt(t,V),ft(t),ht(t),mt(t,V.sco),t}var nt={enable:function(){Ze.confiant=Ze.confiant||{},w(F.confiant,function(){Ke.log("[LOAD]: 0. Confiant tag loaded"),Ke.log("[TIME]: time in ms it took Confiant tag to load",new Date-de())})}},it=function(){function i(e,t){var n=this;o(this,i),this.log=t,this.registry={},e.forEach(function(e){n.registry[e]=[]})}return n(i,[{key:"on",value:function(e,t){return!!this.registry[e]&&(this.registry[e].push(t),!0)}},{key:"off",value:function(e,n){return!!this.registry[e]&&(this.registry[e].forEach(function(e,t){e===n&&(i=t)}),!(!i&&0!==i)&&(this.registry[e].splice(i,1),!0));var i}},{key:"once",value:function(e,t){function n(){t.apply(null,Array.prototype.slice.call(arguments)),i.off(e,n)}var i=this;return i.on(e,n)}},{key:"emit",value:function(e){if(!this.registry[e])return!1;var t=Array.prototype.slice.call(arguments);t.shift(),this.log("[EVENT] ".concat(e," triggered with ").concat(this.registry[e].length," in the registry")),this.registry[e].forEach(function(e){e.apply(null,t)})}}]),i}(),ot=qe.getBrowserWindowObject(),rt={capture:!0,passive:!0},st=function(n,i,o){ot.addEventListener("scroll",function e(){var t=K.getCurrentBreakpoint();se(n,null,ve(i,t))&&(ve(i,t)||0===ve(i,t))&&(o(),ot.removeEventListener("scroll",e,rt))},rt)},at=qe.getLogger(),ct=qe.getPackageMajorVersion(),lt=qe.getBrowserWindowObject(),ut=qe.getPrebidGlobal(),dt=F.prebid,gt=function(e){"function"!=typeof lt.__tcfapi&&"function"!=typeof lt.__cmp&&!(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).cmp||(e.consentManagement={gdpr:{cmpApi:"iab",timeout:1e4},usp:{cmpApi:"iab",timeout:100}},"function"==typeof lt.__tcfapi?e.consentManagement.gdpr.defaultGdprScope=!0:e.consentManagement.gdpr.allowAuctionWithoutConsent=!1,at.log("[CONSENT]: prebid consent management module in place"))},ft=function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},pt=function(e){e.priceGranularity={buckets:[{max:3,increment:.01,precision:2},{max:10,increment:.1,precision:2},{max:50,increment:1,precision:2},{max:100,increment:10,precision:2}]}},bt=function(t,n){var i;n&&n.fuse_settings&&n.fuse_settings.responsive&&(i=null,t.sizeConfig=[],Object.keys(n.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(n.fuse_breakpoints[e],"px)").concat(i?" and (max-width: ".concat(i-1,"px)"):""),sizesSupported:n.supported_sizes[e],labels:[e]}),i=n.fuse_breakpoints[e]}))},ht=function(e){e.bidderSettings={ix:{bidCpmAdjustment:et}}},mt=function(e,t){t&&(e.schain={validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:t.asi,sid:t.sellerId,hp:1}]}},e.bidderSettings.schain=e.schain)},yt={loadPrebidLibrary:function(){if(!ut||!ut.libLoaded){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},dt);return"true"===v("local_prebid")[1]?(at.warn("[LOAD]: local version of prebid in use"),e.url="./"):e.url+="".concat(ct,"/").concat(V.fuse_id,"/"),v("originId")[1]&&(e.file+="?originId="+v("originId")[1]),w(e,function(){at.log("[LOAD]: 3. Prebid ".concat(ut&&ut.libLoaded?"".concat(ut.version," is loaded and ready"):"not loaded")),at.log("[TIME]: time in ms it took Prebid to load",new Date-de()),lt.pbjs&&lt.pbjs.libLoaded?lt.pbjs.renderAd||(lt.pbjs.renderAd=ut.renderAd):lt.pbjs=ut})}at.log("[LOAD]: 3. Prebid ".concat(ut.version," is already loaded skip loading it again"))},pushToPrebidQue:function(e){ut&&ut.que&&ut.que.push(e)},setPrebidAdUnits:function(e){var t=ue(e.id);at.log("[BIDS]: Setting Prebid ad units for ".concat(e.code," with sizes ").concat(JSON.stringify(t))),ut.addAdUnits({code:e.code,mediaTypes:{banner:{sizes:t}},bids:e.bids})},getPrebidDefaultConfig:tt,setPrebidConfig:function(e){var t;return e=e||tt(),at.log("[BIDS]: Setting Prebid Config"),ut.setConfig(e),(t=V).prebid_analytics&&t.prebid_analytics.length&&t.prebid_analytics.forEach(function(e,t){0!==t&&at.warn("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),ut.enableAnalytics(e),at.log("[ANALYTICS]: Analytics enabled for ".concat(e.provider))}),e}};var vt=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow,this.userIdentityGlobal=e.userIdentityGlobal,this.placementId=e.placementId}return n(t,[{key:"setup",value:function(){var e,t=this,n=this.browserWindow[this.userIdentityGlobal];n&&("object"===r(i=n)&&null!==i)&&(n.email||n.phoneNumber||n.emailHashes)?(e={placementID:this.placementId},n.email?e.email=n.email:n.phoneNumber?e.phoneNumber=n.phoneNumber:e.emailHashes=n.emailHashes):e={placementID:this.placementId,storageType:"localStorage",detectionType:"scrapeAndUrl",cssSelectors:["input[type=text]","input[type=email]"],detectionSubject:"all",urlParameter:"user_id",logging:"debug"};var i=document.createElement("script");i.src="https://ats.rlcdn.com/ats.js",i.onload=function(){t.browserWindow.ats.start(e)};n=this.browserWindow.document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}},{key:"configPrebid",value:function(e){return e.userSync||(e.userSync={}),e.userSync.userIds=[{name:"identityLink",params:{pid:this.placementId},storage:{type:"cookie",name:"idl_env",expires:7}}],e}}]),t}(),wt=qe.getLogger(),St=qe.getTargetAdSlotNodeIdPrefix(),kt=qe.getPackageVersion(),At=qe.isInDebugMode(),_t=qe.getPrebidGlobal(),Pt=qe.getGptSlotRegistry(),Ct=qe.getBrowserWindowObject(),It=qe.getAmazonUam(),Nt=qe.getConsentManger(),Et=t,Ot=Et.fuse_settings;Ot.pageTargeting=[];var Tt=Ct.fusetag||(Ct.fusetag={que:[]});Tt.fuseUUID=Et.fuse_uuid,Tt.initialised=Tt.initialised||!1,Tt.states=Tt.states||[{loaded:!0,ts:Date.now()}],At&&(Tt.version=kt);var Dt={},zt={},Lt={},xt={},Mt="onTagInitialised",Bt="onSlotsInitialised",Wt="onSlotCreated",jt=new it([Mt,Bt,Wt],function(){return wt.log.apply(wt,arguments)});Tt.edgeHtmlMaxAdsRefreshLimit=Ot.edgeHtmlMaxAdsRefreshLimit||60;function Ut(){var e=Math.random().toString(16).slice(2);return Object.prototype.hasOwnProperty.call(tn,e)?Ut():e}function Vt(e){tn[e]={aps:!1,prebid:!1}}function Ft(e){Me(e)}function Gt(e,t){Ot.prebid.enabled&&Ot.amazonUam.enabled?tn[t].aps&&tn[t].prebid&&(Ft(e),delete tn[t]):Ft(e)}function Rt(){return Dt}function qt(){return zt}function Jt(){Object.keys(Lt).forEach(function(e){return clearInterval(Lt[e])}),Lt={}}function Ht(e){var t;return Tt.states.push((s(t={},"".concat(e,"_loaded"),!0),s(t,"ts",Date.now()),t))}function Qt(e){var t=Ut();Vt(t);var n,i=e||Object.keys(zt),o=be(Ot);wt.log("[BIDS][".concat(t,"]: Going to refresh slots with Prebid options - enabled: ").concat(o.enabled," Amazon UAM - enabled: ").concat(Ot.amazonUam.enabled," -- timeout: ").concat(o.timeout)),o&&o.enabled||Ot.amazonUam.enabled?(o.enabled&&yt.pushToPrebidQue(function(){_t&&_t.adUnits&&(_t.adUnits=_t.adUnits.map(function(e){var t=zt[e.code];if(!t)return e;t=ue(t.id);return e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=t),e})),_t.requestBids({timeout:o.timeout,bidsBackHandler:function(e){wt.log("[BIDS][".concat(t,"]: Prebid bid response for all"),JSON.stringify(e)),wt.log("[TIME][".concat(t,"]: time it took for Prebid bids to return"),new Date-(me()||de())),_t.setTargetingForGPTAsync(),ce(),tn[t].prebid=!0,Gt(i,t)}})}),Ot.amazonUam.enabled&&zt&&((n=Object.values(zt).map(function(e){return{slotID:e.code,slotName:e.slot,sizes:ue(e.id)}}).filter(function(e){return e.sizes.length})).length&&It.makeBids(n,function(e){wt.log("[BIDS][".concat(t,"]: UAM slots "),JSON.stringify(n)),wt.log("[BIDS][".concat(t,"]: UAM bid response for all "),JSON.stringify(e)),wt.log("[TIME][".concat(t,"]: time it took for UAM bids to return"),new Date-(me()||de())),tn[t].aps=!0,Gt(i,t)}))):Le(function(){ce(),Me(i)})}function Yt(n){var i,o,r,e;n&&(i=Ut(),Vt(i),wt.log("[REFRESH][".concat(i,"]: Refreshing ").concat(n," at: "),new Date-(me()||de())),o=be(Ot),(r=zt[n])&&(o&&o.enabled||Ot.amazonUam.enabled?(o.enabled&&yt.pushToPrebidQue(function(){var e,t;_t&&_t.adUnits&&((e=_t.adUnits[n])&&(t=ue(r.id),e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=t),_t.adUnits[n]=e)),_t.requestBids({timeout:o.timeout,adUnitCodes:[n],bidsBackHandler:function(e){var t;t=n,wt.log("[BIDS][".concat(i,"]: Prebid bid response for ").concat(t),JSON.stringify(e)),wt.log("[TIME][".concat(i,"]: time it took for Prebid bids to return"),new Date-(me()||de())),_t.setTargetingForGPTAsync([t]),tn[i].prebid=!0,Gt(t,i)}})}),!Ot.amazonUam.enabled||(e=ue(r.id)).length&&(e=[{slotID:r.code,slotName:r.slot,sizes:e}],It.makeBids(e,function(e){wt.log("[BIDS][".concat(i,"]: UAM bid response for ").concat(r.code),JSON.stringify(e)),wt.log("[TIME][".concat(i,"]: time it took for UAM bids to return"),new Date-(me()||de())),tn[i].aps=!0,Gt(r,i)}))):Le(function(){Me(n)})))}function $t(t,e){Lt[t.code]&&clearInterval(Lt[t.code]),Lt[t.code]=setInterval(function(){var e=K.getCurrentBreakpoint();ke()&&(xt[t.code]=xt[t.code]||0,xt[t.code]>Tt.edgeHtmlMaxAdsRefreshLimit||!Ct.document.hasFocus())?wt.log((xt[t.code]>Tt.edgeHtmlMaxAdsRefreshLimit?'will skip refreshing ad(code: "'.concat(t.code,'") as it reached Edge browser ads refresh limit of ').concat(Tt.edgeHtmlMaxAdsRefreshLimit," at the moment - "):"will skip refreshing ad as browser page/tab is NOT active at the moment - ").concat((new Date).toISOString(),".")):t.element&&se(Ct.document.getElementById(t.code)||t.element,50,ve(t,e))&&(ke()&&(xt[t.code]+=1),Yt(t.code))},1e3*e)}function Xt(e){e.attributes.refresh?(wt.log("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-de()),$t(e,e.attributes.refresh)):0===e.attributes.refresh?wt.log("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-de()):Ot.refresh&&0<Ot.refresh?(wt.log("[LOAD]: Setting global refresh time of ".concat(Ot.refresh," seconds for ").concat(e.code," at: "),new Date-de()),$t(e,Ot.refresh)):wt.log("[LOAD]: No refresh timer exists in account settings.")}function Kt(e,t){var n=t?Ct.document.getElementById(t):pe(e);if(!n)return wt.warn("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));if((t=n.getAttribute("data-fuse-code"))&&Dt[t]===n)return wt.log("[SLOTS]: ".concat(e," has already with been bootstrapped and showing ad with ad slot ID ").concat(t));var i=JSON.parse(JSON.stringify(we(n)));i&&(i.code="".concat(St).concat(i.id,"-").concat(i.matched),re(i,n),i.attributes&&i.attributes.adblock&&Ye.buildAdBlockSlots(i,n),zt[i.code]=i,zt[i.code].element=n,Dt[i.code]=n,Le(function(){var e=Te(i);return Pt.add(i.id,e),e}),0<Ot.headerbidding&&yt.pushToPrebidQue(function(){yt.setPrebidAdUnits(i)}),Le(function(){xe(i)}),Xt(i),jt.emit(Wt,i),Yt(i.code))}function Zt(){wt.log("[EVENT]: resetSlots"),Se(new Date),Pt.purgeAll(),Dt={},zt={},ce(),Jt(),Object.keys(Ot.pageTargeting).forEach(function(e){Le(function(){Ct.googletag.pubads().clearTargeting(e.key)})}),0<Ot.headerbidding&&_t&&_t.adUnits&&(_t.adUnits.length=0)}function en(){wt.log("[EVENT]: loadSlots started"),Zt();var e=ye(),i=[],o=[];e.forEach(function(e){var t,n=we(e);n&&(n.code||((n=JSON.parse(JSON.stringify(n))).code="".concat(St).concat(n.id,"-").concat(n.matched)),re(n,e),n.attributes&&n.attributes.adblock&&Ye.buildAdBlockSlots(n,e),zt[n.code]=n,zt[n.code].element=e,Dt[n.code]=e,o.push(n.code),i.push(n),t=K.getCurrentBreakpoint(),ae(e,n,t)?(wt.log("[SLOTS]: Adding lazy listener for ".concat(n.code)),st(e,n,function(){!function(e){wt.log("[LOAD]: Loading ".concat(e," at ").concat(new Date-(me()||de())));var t=fe(e).getAttribute("data-fuse-code");t||wt.warn("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var n=qt()[t];n&&(Le(function(){var e=Te(n);return Pt.add(n.id,e),e}),0<Ot.headerbidding&&yt.pushToPrebidQue(function(){yt.setPrebidAdUnits(n)}),Le(function(){xe(n)}),Yt(n.code),Xt(n))}(n.code)})):(Le(function(){var e=Te(n);return Pt.add(n.id,e),e}),0<Ot.headerbidding&&n.bids&&0<n.bids.length&&yt.pushToPrebidQue(function(){yt.setPrebidAdUnits(n)}),Le(function(){xe(n)}),Xt(n)))}),jt.emit(Bt,i),Le(function(){Ee(),Ot.pageTargeting.forEach(function(e){ze(e.key,e.value)}),o.length&&Qt()})}var tn={},At=function(){return JSON.parse(JSON.stringify(Et))},nn=["main","experiment"],it=function(e,t){Tt.initialised?Kt(e,t):Tt.onTagInitialised(function(){Kt(e,t)})};Tt.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return Pt.getSlots("".concat(e))},Tt.setSlotTargetingById=function(e,t,n){!e||"string"!=typeof e&&"number"!=typeof e||Pt.setSlotTargetingById(e,t,n)},Tt.onSlotRenderEnded=function(e){Le(function(){return We(e)})},Tt.onTagInitialised=function(e){jt.once(Mt,e)},Tt.onSlotsInitialised=function(e){jt.once(Bt,e)},Tt.onSlotInitialised=function(e){jt.once(Wt,e)},Tt.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&Lt[e]?(wt.log("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(Lt[e])):(wt.log("[REFRESH]: Disabling refresh for all units"),Jt())},Tt.setTargeting=function(n,e){var i=-1;Ot.pageTargeting.forEach(function(e,t){-1===i&&e.key===n&&(i=t)}),-1<i?(Ot.pageTargeting[i].value=e,wt.log("[LOAD]: Updating custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))):(Ot.pageTargeting.push({key:n,value:e}),wt.log("[LOAD]: Adding custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))),Tt.initialised&&Le(function(){wt.log("[GPT]: Setting targeting for [key: ".concat(n,", value: ").concat(e,"]")),ze(n,e)})},Tt.getTargeting=function(){return Ot.pageTargeting},Tt.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){wt.error("Error processing command :",e.message,e.stack)}else wt.error("Commands written into fusetag.que.push must be wrapped in a function")};function on(){Tt.initialised?wt.log("[LOAD]: Fuse tag has been initialised, skip the remaining of the process"):(wt.log("[TIME]: time in ms it took the page to load: ",new Date-de()),Tt.loaded||(Tt.loaded=!0,ge().forEach(function(e){if(wt.log("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){wt.error("Error processing command :",e.message,e.stack)}else wt.error("Commands written into fusetag.que.push must be wrapped in a function")})),wt.log("[LOAD]: Calling loadSlots"),en(),jt.emit(Mt),Tt.initialised=!0,Tt.states.push({initialised:!0,ts:Date.now()}))}function rn(e){var t=e.disablePersonalisedAds,e=e.forceDisablePrebid;wt.log("[INIT]: disablePersonalisedAds is ".concat(t?"on":"off")),wt.log("[INIT]: forceDisablePrebid is ".concat(e?"on":"off")),t&&Le(function(){Ve()}),Ot.amazonUam.enabled&&(It.load(),Nt.gdprApplies?It.applyGDPR():Nt.ccpaApplies&&It.applyCCPA(Nt.ccpaPrivacyString),It.init(de()),Ht("amazon")),e&&(Ot.headerbidding=0,Ot.prebid&&Ot.prebid.breakpoint_options&&Object.keys(Ot.prebid.breakpoint_options).forEach(function(e){Ot.prebid.breakpoint_options[e].enabled=!1})),0<Ot.headerbidding&&(yt.loadPrebidLibrary(),yt.pushToPrebidQue(function(){var e=Ot.prebid&&!0===Ot.prebid.sendAllBids,e=yt.getPrebidDefaultConfig({sendAllBids:e});Ot.identity.enabled&&Ot.identity.module&&(e=Ot.identity.module.configPrebid(e)),yt.setPrebidConfig(e)}),Le(function(){Ct.googletag.pubads().disableInitialLoad()}),Ht("prebid"),wt.log("[LOAD]: 2. Headerbidding enabled, settings and ".concat(Ot.headerbidding,"ms timeout added"))),0<Ot.adblock&&(Ye.createAdBlockObj(),Ye.loadAdBlocklLibrary(),Ht("adblock"),wt.log("[LOAD]: 2. Adblock has been enabled."));var n,i=Et.fuse_slots.find(function(e){return e.attributes&&!0===e.attributes.interstitial});Le(function(){Be(),We(function(e){zt[e.slotId]?zt[e.slotId].hasCreative=e.hasCreative:wt.log("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),je(zt),Ue(),Fe(i)}),Ot.responsive&&K.watchForBreakpoints(function(e){e&&Qt()}),Ot.quickstart?on():n=setInterval(function(){"loading"!==Ct.document.readyState&&Ct.googletag&&Ct.googletag.apiReady&&(clearInterval(n),on())},10)}var sn,an,cn;Tt.init=rn,Tt.setDefaultTargeting=Ee,Tt.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Lt))},Tt.getSlots=qt,Tt.getSettings=At,Tt.getUnits=Rt,Tt.loadSlots=en,Tt.loadSlotById=it,Tt.refreshSlots=Qt,Tt.refreshSlotByCode=Yt,Tt.resetSlots=Zt,Tt.enableExperiment=function(e){var t;nn.includes(e)?(t=new Date((new Date).getTime()+2592e6),t="fuse_originId=".concat(e,";expires=").concat(t.toUTCString(),";path=/;"),Ct.document.cookie=t,wt.log("Experiment type [".concat(e,"] set. Expires in ").concat(30," days."))):wt.error("Invalid experiment type. Valid types: ".concat(nn))},Tt.getCookie=function(){var e=Ct.document.cookie.match("(^|;)\\s*fuse_originId\\s*=\\s*([^;]+)")||"";return e=Array.isArray(e)?e.pop():e},Tt.getAdSlotsByFuseId=Tt.getAdSlotsById,Tt.getFuseSlots=qt,Tt.getFuseSettings=At,Tt.getFuseUnits=Rt,Tt.loadFuseSlots=en,Tt.resetFuseSlots=Zt,Tt.loadFuseSlotById=it,Tt.setSlotTargetingByFuseId=Tt.setSlotTargetingById,Tt.loaded&&wt.warn("[LOAD]: Fuse Tag was loaded more than once."),Ot.confiant&&(nt.enable(),Ht("confiant")),Ot.cmp&&(Nt.init(),Ht("cmp")),Ot.blockthrough&&(Xe.enable(),Ht("blockthrough")),Ot.identity&&Ot.identity.enabled&&(Ot.identity.module||(Ot.identity.module=new vt({browserWindow:Ct,userIdentityGlobal:Ot.identity.userIdentityGlobal,placementId:Ot.identity.placementId}),Ot.identity.module.setup())),wt.log("[LOAD]: 1. Fuse Tag v".concat(kt," is loaded and ready")),wt.log("[TIME]: time in ms it took Fuse to load",new Date-de()),Ot.wait_cmp_ready&&"function"==typeof __tcfapi?(sn=!1,wt.log("[LOAD]: 3. Wait for CMP to load before start loading GPT"),setTimeout(function(){sn||(wt.log("[LOAD]: 3. CMP has not been loaded after 3s ignore and continue"),De(),Oe())},3e3),Ct.__tcfapi("addEventListener",2,function(e){sn||(wt.log("[LOAD]: 3. CMP has been loaded, going to load GPT script"),De(),Oe(),sn=!0),e&&e.listenerId&&Ct.__tcfapi("addEventListener",2,function(){},e.listenerId)})):(De(),Oe()),Ot.skip_auto_init?wt.log("[INIT]: auto init is off skip Fuse init"):Ot.cmp?(wt.log("[CONSENT]: Found IAB CMP try to check for CMP status before initiating"),an=1,cn=setInterval(function(){Nt.cmpLoaded(function(e){if(!e)return an<20?void(an+=1):(wt.log("[CONSENT]: Cannot load CMP after 20 seconds, continue as per normal"),clearInterval(cn),void rn({disablePersonalisedAds:!1,forceDisablePrebid:!1}));wt.log("[CONSENT]: CMP loaded version ".concat(Nt.versionNumber,", checking for consent")),clearInterval(cn);e=function e(t){var n=t.consentReceived,i=t.personalisedAdsConsent,o=t.googlePersonalisedAdsConsent,t=t.gdprApplies;if(!1===t){wt.log("[CONSENT]: Not in GDPR region");var r=!1,s=!1;return setTimeout(function(){if(!s)return wt.warn("[CONSENT]: USP API is not responding, continue as if not in CCPA region"),Nt.setNonPrivacyRegionsPrompt(),rn({disablePersonalisedAds:r,forceDisablePrebid:r})},1e3),void Nt.checkForCCPA(function(e){return s=!0,e.applies?(Nt.setCCPAConsentPrompt(),Nt.setCCPA(e.applies),Nt.setPrivacyString(e.privacyString),r="Y"===e.privacyString[2].toUpperCase()):(wt.log("[CONSENT]: Not in CCPA region, continue as normal"),Nt.setNonPrivacyRegionsPrompt()),rn({disablePersonalisedAds:r,forceDisablePrebid:r})})}if(n||!(an<20))return Nt.setGDPR(t),Nt.setGDPRConsentPrompt(),20===an?rn({disablePersonalisedAds:!1,forceDisablePrebid:!1}):(wt.log("[CONSENT]: ".concat(o?"[Y]":"[N]"," Google Personalised Ads")),wt.log("[CONSENT]: ".concat(i?"[Y]":"[N]"," Vendors Personalised Ads")),rn({disablePersonalisedAds:!o,forceDisablePrebid:!i}));setTimeout(function(){an+=1,Nt.getConsentData(e)},1e3)};Nt.getConsentData(e)})},1e3)):(wt.log("[CONSENT]: No CMP found, continue to init Fuse"),rn(!1));qe.getBrowserWindowObject()});
