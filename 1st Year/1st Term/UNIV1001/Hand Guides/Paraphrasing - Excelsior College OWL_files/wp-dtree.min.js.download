function dtNode(t,e,i,s,o,n,d){this.id=t,this.pid=e,this.name=i,this.url=s,this.title=o,this.rsspath=d,this.target=n,this.icon=void 0,this.iconOpen=void 0,this._io=!1,this._is=!1,this._ls=!1,this._hc=!1,this._ai=0,this._p}function wpdTree(t,e,i){this.config={target:null,folderLinks:!1,useSelection:!1,useCookies:!0,useLines:!0,useIcons:!1,useStatusText:!1,closeSameLevel:!1,inOrder:!1},this.icon={root:WPdTreeSettings.imgurl+"dtree-img/empty.gif",folder:WPdTreeSettings.imgurl+"dtree-img/folder.gif",folderOpen:WPdTreeSettings.imgurl+"dtree-img/folderopen.gif",node:WPdTreeSettings.imgurl+"dtree-img/page.gif",empty:WPdTreeSettings.imgurl+"dtree-img/empty.gif",line:WPdTreeSettings.imgurl+"dtree-img/line.gif",join:WPdTreeSettings.imgurl+"dtree-img/join.gif",joinBottom:WPdTreeSettings.imgurl+"dtree-img/joinbottom.gif",plus:WPdTreeSettings.imgurl+"dtree-img/plus.gif",plusBottom:WPdTreeSettings.imgurl+"dtree-img/plusbottom.gif",minus:WPdTreeSettings.imgurl+"dtree-img/minus.gif",minusBottom:WPdTreeSettings.imgurl+"dtree-img/minusbottom.gif",nlPlus:WPdTreeSettings.imgurl+"dtree-img/nolines_plus.gif",nlMinus:WPdTreeSettings.imgurl+"dtree-img/nolines_minus.gif"},this._url=e,this._truncate=i,this._objName=t,this.adtNodes=[],this.aIndent=[],this.root=new dtNode("root"),this.selecteddtNode=null,this.selectedFound=!1,this.completed=!1}wpdTree.prototype.a=function(t,e,i,s,o,n,d){""!=d&&(d="<a class='dtree-rss' href='"+this._url+d+"' title='Feed for "+i+"'></a>");var r=o+="";0!=o.indexOf("https://")&&0!=o.indexOf("http://")&&(r=this._url+o),s||(s=i),this._truncate>0&&(i=this.truncate(i,this._truncate)),this.adtNodes[this.adtNodes.length]=new dtNode(t,e,i,r,s,n,d)},wpdTree.prototype.truncate=function(t,e){e=e||16;return t.length>e?t.slice(0,e-"...".length)+"...":t},wpdTree.prototype.openAll=function(){this.oAll(!0)},wpdTree.prototype.closeAll=function(){this.oAll(!1)},wpdTree.prototype.toString=function(){var t='<div class="dtree_'+this._objName.substr(0,3)+'" id="dtree_'+this._objName+'">\n';return document.getElementById?(this.config.useCookies&&(this.selecteddtNode=this.getSelected()),t+=this.adddtNode(this.root)):t+="Browser not supported.",t+="</div>",this.selectedFound||(this.selecteddtNode=null),this.completed=!0,t},wpdTree.prototype.adddtNode=function(t){var e="",i=0;for(this.config.inOrder&&(i=t._ai);i<this.adtNodes.length;i++)if(this.adtNodes[i].pid==t.id){var s=this.adtNodes[i];if(s._p=t,s._ai=i,this.setCS(s),!s.target&&this.config.target&&(s.target=this.config.target),s._hc&&!s._io&&this.config.useCookies&&(s._io=this.isOpen(s.id)),!this.config.folderLinks&&s._hc&&(s.url=null),this.config.useSelection&&s.id==this.selecteddtNode&&!this.selectedFound&&(s._is=!0,this.selecteddtNode=i,this.selectedFound=!0),e+=this.node(s,i),s._ls)break}return e},wpdTree.prototype.node=function(t,e){var i='<div class="dtNode">'+this.indent(t,e);return this.config.useIcons&&(t.icon||(t.icon=this.root.id==t.pid?this.icon.root:t._hc?this.icon.folder:this.icon.node),t.iconOpen||(t.iconOpen=t._hc?this.icon.folderOpen:this.icon.node),this.root.id!=t.pid&&(i+='<img id="i'+this._objName+e+'" src="'+(t._io?t.iconOpen:t.icon)+'" alt="" />')),this.root.id!=t.pid&&(t.url?(i+='<a id="s'+this._objName+e+'" class="'+(this.config.useSelection&&t._is?"nodeSel":"node")+'" href="'+t.url+'"',t.title&&(i+=' title="'+t.title+'"'),t.target&&(i+=' target="'+t.target+'"'),this.config.useStatusText&&(i+=" onmouseover=\"window.status='"+t.name+"';return true;\" onmouseout=\"window.status='';return true;\" "),this.config.useSelection&&(t._hc&&this.config.folderLinks||!t._hc)&&(i+=' onclick="javascript: '+this._objName+".s("+e+');"'),i+=">"):this.config.folderLinks&&t.url||!t._hc||t.pid==this.root.id||(i+='<a href="javascript: '+this._objName+".o("+e+');"',i+=' title="'+t.title+'"',i+=' class="node">'),i+=t.name,!t.url&&(this.config.folderLinks&&t.url||!t._hc)||(i+="</a>")),t.rsspath&&(i+=t.rsspath),i+=" </div>",t._hc&&(i+='<div id="d'+this._objName+e+'" class="clip" style="display:'+(this.root.id==t.pid||t._io?"block":"none")+';">',i+=this.adddtNode(t),i+="</div>"),this.aIndent.pop(),i},wpdTree.prototype.indent=function(t,e){var i="";if(this.root.id!=t.pid){for(var s=0;s<this.aIndent.length;s++)i+='<img src="'+(1==this.aIndent[s]&&this.config.useLines?this.icon.line:this.icon.empty)+'" alt="" />';t._ls?this.aIndent.push(0):this.aIndent.push(1),t._hc?(i+='<a href="javascript: '+this._objName+".o("+e+');"><img id="j'+this._objName+e+'" src="',this.config.useLines?i+=t._io?t._ls&&this.config.useLines?this.icon.minusBottom:this.icon.minus:t._ls&&this.config.useLines?this.icon.plusBottom:this.icon.plus:i+=t._io?this.icon.nlMinus:this.icon.nlPlus,i+='" alt="" /></a>'):i+='<img src="'+(this.config.useLines?t._ls?this.icon.joinBottom:this.icon.join:this.icon.empty)+'" alt="" />'}return i},wpdTree.prototype.setCS=function(t){for(var e,i=0;i<this.adtNodes.length;i++)this.adtNodes[i].pid==t.id&&(t._hc=!0),this.adtNodes[i].pid==t.pid&&(e=this.adtNodes[i].id);e==t.id&&(t._ls=!0)},wpdTree.prototype.getSelected=function(){var t=this.getCookie("cs"+this._objName);return t||null},wpdTree.prototype.s=function(t){if(this.config.useSelection){var e=this.adtNodes[t];e._hc&&!this.config.folderLinks||this.selecteddtNode!=t&&((this.selecteddtNode||0==this.selecteddtNode)&&(eOld=document.getElementById("s"+this._objName+this.selecteddtNode),eOld&&(eOld.className="node")),eNew=document.getElementById("s"+this._objName+t),eNew&&(eNew.className="nodeSel"),this.selecteddtNode=t,this.config.useCookies&&this.setCookie("cs"+this._objName,e.id))}},wpdTree.prototype.o=function(t){var e=this.adtNodes[t];this.nodeStatus(!e._io,t,e._ls),e._io=!e._io,this.config.closeSameLevel&&this.closeLevel(e),this.config.useCookies&&this.updateCookie()},wpdTree.prototype.oAll=function(t){for(var e=0;e<this.adtNodes.length;e++)this.adtNodes[e]._hc&&this.adtNodes[e].pid!=this.root.id&&(this.adtNodes[e]._io!=t&&this.nodeStatus(t,e,this.adtNodes[e]._ls),this.adtNodes[e]._io=t);this.config.useCookies&&this.updateCookie()},wpdTree.prototype.openTo=function(t,e,i){if(!i)for(var s=0;s<this.adtNodes.length;s++)if(this.adtNodes[s].id==t){t=s;break}var o=this.adtNodes[t];void 0!==o&&o.pid!=this.root.id&&o._p&&(o._io=!0,o._is=e,this.completed&&o._hc&&this.nodeStatus(!0,o._ai,o._ls),this.completed&&e?this.s(o._ai):e&&(this._sn=o._ai),this.openTo(o._p._ai,!1,!0))},wpdTree.prototype.closeLevel=function(t){for(var e=0;e<this.adtNodes.length;e++)this.adtNodes[e].pid==t.pid&&this.adtNodes[e].id!=t.id&&this.adtNodes[e]._hc&&(this.nodeStatus(!1,e,this.adtNodes[e]._ls),this.adtNodes[e]._io=!1,this.closeAllChildren(this.adtNodes[e]))},wpdTree.prototype.closeAllChildren=function(t){for(var e=0;e<this.adtNodes.length;e++)this.adtNodes[e].pid==t.id&&this.adtNodes[e]._hc&&(this.adtNodes[e]._io&&this.nodeStatus(!1,e,this.adtNodes[e]._ls),this.adtNodes[e]._io=!1,this.closeAllChildren(this.adtNodes[e]))},wpdTree.prototype.nodeStatus=function(t,e,i){eDiv=document.getElementById("d"+this._objName+e),eJoin=document.getElementById("j"+this._objName+e),this.config.useIcons&&(eIcon=document.getElementById("i"+this._objName+e),eIcon.src=t?this.adtNodes[e].iconOpen:this.adtNodes[e].icon),eJoin.src=this.config.useLines?t?i?this.icon.minusBottom:this.icon.minus:i?this.icon.plusBottom:this.icon.plus:t?this.icon.nlMinus:this.icon.nlPlus,"1"===WPdTreeSettings.animate&&"function"==typeof jQuery?t?jQuery(eDiv).slideDown(parseInt(WPdTreeSettings.duration)):jQuery(eDiv).slideUp(parseInt(WPdTreeSettings.duration)):eDiv.style.display=t?"block":"none"},wpdTree.prototype.clearCookie=function(){var t=new Date,e=new Date(t.getTime()-864e5);this.setCookie("co"+this._objName,"cookieValue",e),this.setCookie("cs"+this._objName,"cookieValue",e)},wpdTree.prototype.setCookie=function(t,e,i,s,o,n){document.cookie=escape(t)+"="+escape(e)+(i?"; expires="+i.toGMTString():"")+(s?"; path="+s:"; path=/")+(o?"; domain="+o:"")+(n?"; secure":"")},wpdTree.prototype.getCookie=function(t){var e="",i=document.cookie.indexOf(escape(t)+"=");if(-1!=i){var s=i+(escape(t)+"=").length,o=document.cookie.indexOf(";",s);e=-1!=o?unescape(document.cookie.substring(s,o)):unescape(document.cookie.substring(s))}return e},wpdTree.prototype.updateCookie=function(){for(var t="",e=0;e<this.adtNodes.length;e++)this.adtNodes[e]._io&&this.adtNodes[e].pid!=this.root.id&&(t&&(t+="."),t+=this.adtNodes[e].id);this.setCookie("co"+this._objName,t)},wpdTree.prototype.isOpen=function(t){for(var e=this.getCookie("co"+this._objName).split("."),i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},Array.prototype.push||(Array.prototype.push=function(){for(var t=0;t<arguments.length;t++)this[this.length]=arguments[t];return this.length}),Array.prototype.pop||(Array.prototype.pop=function(){return lastElement=this[this.length-1],this.length=Math.max(this.length-1,0),lastElement});