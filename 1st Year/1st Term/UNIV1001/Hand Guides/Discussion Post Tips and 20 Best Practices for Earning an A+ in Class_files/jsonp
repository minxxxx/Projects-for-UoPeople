lpTag.callback({"serviceMap":[{"service":"acCdnDomain","account":"36527772","baseURI":"accdn.lpsnmedia.net"},{"service":"idp","account":"36527772","baseURI":"va.idp.liveperson.net"},{"service":"rtDashboard","account":"36527772","baseURI":"va.realtime.liveperson.net"},{"service":"odinDomain","account":"36527772","baseURI":"va.odin.liveperson.net"},{"service":"redirect","account":"36527772","baseURI":"z1.liveper.sn"},{"service":"visitorFeed","account":"36527772","baseURI":"va.v-feed.liveperson.net"},{"service":"faasGW","account":"36527772","baseURI":"va.faasgw.liveperson.net"},{"service":"accountCreation","account":"36527772","baseURI":"z1.acc-create.liveperson.net"},{"service":"coBrowse","account":"36527772","baseURI":"va.cobrowse.liveperson.net"},{"service":"conversationVep","account":"36527772","baseURI":"va.convep.liveperson.net"},{"service":"openPlatform","account":"36527772","baseURI":"va-s.c.liveperson.net"},{"service":"routingBot","account":"36527772","baseURI":"va.routingbot.ext.liveperson.net"},{"service":"usmsgwDomain","account":"36527772","baseURI":"va-ges-usmsgw.liveperson.net"},{"service":"coreAIFeedbackOnlyDomain","account":"36527772","baseURI":"va.aifeedback.int.liveperson.net"},{"service":"lpEng","account":"36527772","baseURI":"z1.lpEng.liveperson.net"},{"service":"cqmMsg","account":"36527772","baseURI":"va.cqm-msg.liveperson.net"},{"service":"leBilling","account":"36527772","baseURI":"va.le-billing.liveperson.net"},{"service":"msdkgw","account":"36527772","baseURI":"va.v.liveperson.net"},{"service":"visitorFeedV2","account":"36527772","baseURI":"z1.visitorfeedv2.liveperson.net"},{"service":"pusherInt","account":"36527772","baseURI":"va.pushsrv.int.liveperson.net"},{"service":"agentVep","account":"36527772","baseURI":"va.agentvep.liveperson.net"},{"service":"leIntegration","account":"36527772","baseURI":"va.octopus.liveperson.net"},{"service":"msgEwtAPI","account":"36527772","baseURI":"va.lp-msgewt.liveperson.net"},{"service":"predictiveDialer","account":"36527772","baseURI":"va.pd.liveperson.net"},{"service":"appMgmtSvcDomain","account":"36527772","baseURI":"va.appmgmtsvc.liveperson.net"},{"service":"appKeyManagement","account":"36527772","baseURI":"z1.appkey-mgmnt.liveperson.net"},{"service":"accountConfigReadOnly","account":"36527772","baseURI":"z1.acr.liveperson.net"},{"service":"subscription","account":"36527772","baseURI":"va.providersubscription.liveperson.net"},{"service":"whatsappConnector","account":"36527772","baseURI":"va.whatsapp-gw.liveperson.net"},{"service":"mcs","account":"36527772","baseURI":"mcs.liveperson.net"},{"service":"tokenizer","account":"36527772","baseURI":"va.pcigw.liveperson.net"},{"service":"coreAIAutomation","account":"36527772","baseURI":"va.automationlookup.int.liveperson.net"},{"service":"liveEngageVep","account":"36527772","baseURI":"va.batchelor.liveperson.net"},{"service":"leProxyDomain","account":"36527772","baseURI":"va.leproxy.liveperson.net"},{"service":"runtimeFormLogic","account":"36527772","baseURI":"va.rfl.liveperson.net"},{"service":"mtlsGateway","account":"36527772","baseURI":"va.mtls.liveperson.net"},{"service":"loggos","account":"36527772","baseURI":"z1.loggos.liveperson.net"},{"service":"appleConnector","account":"36527772","baseURI":"va.apple-gw.liveperson.net"},{"service":"mTag","account":"36527772","baseURI":"va-s.c.liveperson.net"},{"service":"mobileChat","account":"36527772","baseURI":"dispatch.look.io"},{"service":"staticContent","account":"36527772","baseURI":"va.content.lpsnmedia.net"},{"service":"swift","account":"36527772","baseURI":"z1.objectstorage.liveperson.net"},{"service":"ALL","account":"36527772","baseURI":"va-s.c.liveperson.net"},{"service":"leBiMstr","account":"36527772","baseURI":"z1.bi.liveperson.net"},{"service":"transporter","account":"36527772","baseURI":"va.transporter.liveperson.net"},{"service":"coApp","account":"36527772","baseURI":"z1.coapp.liveperson.net"},{"service":"interactionPlatform","account":"36527772","baseURI":"va.i.liveperson.net"},{"service":"facadeMsg","account":"36527772","baseURI":"va.facade-msg.liveperson.net"},{"service":"marketplaceDomain","account":"36527772","baseURI":"va.marketplace.liveperson.net"},{"service":"facebookConnector","account":"36527772","baseURI":"va1.msg-gw.liveperson.net"},{"service":"socialMsgHistDomain","account":"36527772","baseURI":"va.smmsghistproxy.liveperson.net"},{"service":"etool","account":"36527772","baseURI":"z1.etool.liveperson.net"},{"service":"smsConnector","account":"36527772","baseURI":"va.msg-gw.liveperson.net"},{"service":"leBackofficeInt","account":"36527772","baseURI":"z1.houston.liveperson.net"},{"service":"mobileVisit","account":"36527772","baseURI":"dispatch.look.io"},{"service":"liveEngage","account":"36527772","baseURI":"z1.le.liveperson.net"},{"service":"leadGenerator","account":"36527772","baseURI":"va.lp-leadgenerator-web.liveperson.net"},{"service":"adminArea","account":"36527772","baseURI":"va-s.c.liveperson.net"},{"service":"faasUI","account":"36527772","baseURI":"va.faasui.liveperson.net"},{"service":"connectionPanel","account":"36527772","baseURI":"z1.connection-panel.liveperson.net"},{"service":"asyncMessaging","account":"36527772","baseURI":"va.ams.liveperson.net"},{"service":"liveEngageUI","account":"36527772","baseURI":"va.le1.liveperson.net"},{"service":"connectToMessagingDomain","account":"36527772","baseURI":"va.connect-to-messaging.liveperson.net"},{"service":"nlp","account":"36527772","baseURI":"va.nlp.liveperson.net"},{"service":"rollover","account":"36527772","baseURI":"va.lp-rollover.liveperson.net"},{"service":"lineConnector","account":"36527772","baseURI":"va.line-gw.liveperson.net"},{"service":"routingMsg","account":"36527772","baseURI":"va1.agent4matching.liveperson.net"},{"service":"sentinel","account":"36527772","baseURI":"va.sentinel.liveperson.net"},{"service":"googleConnector","account":"36527772","baseURI":"va.ggl-gw.liveperson.net"},{"service":"smt","account":"36527772","baseURI":"va.v.liveperson.net"},{"service":"keyService","account":"36527772","baseURI":"keyservice.liveperson.net"},{"service":"nls","account":"36527772","baseURI":"va.nls.liveperson.net"},{"service":"accountConfigReadWrite","account":"36527772","baseURI":"va.ac.liveperson.net"},{"service":"engHistDomain","account":"36527772","baseURI":"va.enghist.liveperson.net"},{"service":"leRBMstr","account":"36527772","baseURI":"z1-2.birb.liveperson.net"},{"service":"msgHist","account":"36527772","baseURI":"va.msghist.liveperson.net"},{"service":"coreAIIntent","account":"36527772","baseURI":"va.intentid.liveperson.net"},{"service":"coreAIFeedbackChuteDomain","account":"36527772","baseURI":"va.feedbackchute.int.liveperson.net"},{"service":"coreAIMavenHubDomain","account":"36527772","baseURI":"z1.maven.liveperson.net"},{"service":"leDataReporting","account":"36527772","baseURI":"va.data.liveperson.net"},{"service":"intentAnalyzer","account":"36527772","baseURI":"va.intent.liveperson.net"},{"service":"launchpadDomain","account":"36527772","baseURI":"hub.liveperson.net"},{"service":"cbNluDomain","account":"36527772","baseURI":"va.bc-nlu.liveperson.net"},{"service":"act","account":"36527772","baseURI":"va.act.liveperson.net"},{"service":"provisionGW","account":"36527772","baseURI":"va.register.liveperson.net"},{"service":"socialMsgDomain","account":"36527772","baseURI":"va.smmsgproxy.liveperson.net"},{"service":"pusher","account":"36527772","baseURI":"va.push.liveperson.net"},{"service":"agent","account":"36527772","baseURI":"va-s.c.liveperson.net"},{"service":"uconnDomain","account":"36527772","baseURI":"va-ges-uconn.liveperson.net"},{"service":"agentManagerWorkspace","account":"36527772","baseURI":"va.agentmng.liveperson.net"},{"service":"visitManager","account":"36527772","baseURI":"va.vm.liveperson.net"},{"service":"asyncMessagingEnt","account":"36527772","baseURI":"va.msg.liveperson.net"},{"service":"coreAIFeedback","account":"36527772","baseURI":"va.intentid.liveperson.net"},{"service":"batchelor","account":"36527772","baseURI":"z1.batchelor.liveperson.net"},{"service":"leCdnDomain","account":"36527772","baseURI":"lpcdn.lpsnmedia.net"},{"service":"rtbf","account":"36527772","baseURI":"va.data-mng.liveperson.net"},{"service":"googleRcsConnector","account":"36527772","baseURI":"va.grcs-gw.liveperson.net"},{"service":"botConnectorsDomain","account":"36527772","baseURI":"z1.bot-connectors.liveperson.net"}],"taglets":[{"name":"lpSecureStorage","type":0},{"name":"lp_sdes","type":0},{"name":"cobrowse","type":0},{"name":"scraper","type":0},{"name":"lpActivityMonitor","type":0},{"name":"rendererStub","type":0},{"name":"lp_version_detector","type":0},{"name":"lp_monitoringSDK","type":0},{"name":"lpTransporter","type":0},{"name":"lpUnifiedWindow","type":0},{"name":"SMT","type":0},{"name":"hooks","type":0},{"name":"lp_SMT","type":0},{"name":"authenticator","type":0},{"name":"cleanCCPatterns","type":0},{"name":"lp_global_utils","type":0},{"name":"unAuthMessaging","type":0},{"name":"jsLoader","type":0},{"name":"lp_sms_client_api","type":0}],"site":"36527772","features":{"Common.LiveEngage_2_CrossDomainStorage":true,"Messaging.Auto_Messages":false}});try{window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};lpTag.taglets.lpSecureStorage=lpTag.taglets.lpSecureStorage||function(e){function t(e){r(e);o();n();Et=i(St.getDomain("leCdnDomain"))}function r(e){e&&0!==e.length&&e.forEach(function(e){"legacyGetPath"===e.id&&"true"===e.value?vt=!0:"legacyIframe"===e.id&&"true"===e.value&&(Rt=!0)})}function n(){mt.bind({eventName:"firstPartyMessage",appName:Le,func:J})}function o(){var e=lpTag.protocol+"//"+lpTag.csds.getDomain(lt.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/";we("_loadSiteSettings called with url: "+e);De||lpTag.taglets.jsonp.issueCall({url:e,timeout:5e3,retries:0,success:function(e){if(e&&Array.isArray(e)&&!e.error){we("_loadSiteSettings - got configuration: "+JSON.stringify(e));De=e;xe=a(dt.FIRST_PARTY_STORAGE,"true");yt=!0}else{we("_loadSiteSettings - NO CONFIGURATION FOUND");De=[];xe=!1;yt=!0}},error:function(){be("Loading siteSettings: "+lpTag.site+" failed.");De=[];xe=!1;yt=!0}})}function i(e){return e.indexOf("dev.lprnd.net")>0?location.hostname===e?!0:e.indexOf("qtvr")>0||e.indexOf("lp-cdn-qa")>0?!1:!1:"lpcdn-a.lpsnmedia.net"===e?!1:"lpcdn.lpsnmedia.net"===e?!1:!0}function a(e,t){var r=De.filter(function(t){return t.id===e}),n=r&&r.length>0&&r[0].propertyValue&&r[0].propertyValue.value;return n&&n===t}function s(e){e=Ee(e);return e&&it[e]?it[e]:it}function u(e){g(e);e.type=rt.GET;h(e)}function p(e){g(e);e.type=rt.MULTIGET;h(e)}function f(e){if(!e||-1!==e.expires&&-1!==e.ttl){e.type=rt.SET;h(e)}else l(e)}function c(e){g(e);e.type=rt.TOUCH;h(e)}function l(e){if(e){e.ttl=-1;e.expires=-1}e.type=rt.REMOVE;h(e)}function d(e){var t,r;if(yt){e&&e.debug===!0&&(Xe=!0);for(var n in e)if("object"==typeof e[n]&&e.hasOwnProperty(n)&&e[n].site){e[n].app||(e[n].app=pt);Ot[e[n].app]||(Ot[e[n].app]=e[n]);if(e[n].url&&0===e[n].url.indexOf("http")){var o=S(e[n]);we("Configuring url "+e[n].url);t=Ee(e[n].url);o&&(t=nt.FIRSTPARTYSTORAGE);if(Je[t])if(it[t]&&it[t][e[n].app])te(e[n].chosenStorageHandler,it[t][e[n].app]);else{ae(t,e[n].app,e[n].chosenStorageHandler);T(e[n],t)}else{ae(t,e[n].app,e[n].chosenStorageHandler);r=y(e[n],t);oe(e[n],r,t)}}else e[n].url===_e&&ne(e[n])}}else setTimeout(d.bind(this,e),ht)}function y(e,t){return{type:rt.SELECT_STORAGE,app:e.app,domain:t,site:e.site,initialStorageType:e.initialStorageType,force:e.force,duplicate:e.duplicate,firstParty:e.firstParty,error:e.error}}function T(e,t){h(y(e,t))}function g(e){if(e&&e.value){e.value=null;delete e.value}return e}function S(e){return!e.duplicate&&(xe||e.force)&&e.firstParty}function m(e){var t=e.firstParty;if("undefined"==typeof t){var r=Ot[e.app];r&&!r.disableFirstPartyGlobalConfig&&(t=r.firstParty)}return!e.duplicate&&(xe||e.force)&&t}function E(e){we("DUPLICATED REQUEST: "+e)}function h(e){var t=Ee(e.domain),r=m(e),n=lpTag.taglets.lpUtil&&lpTag.taglets.lpUtil.clone(e)||{};e.success&&(n.success=E.bind(this,"SUCCESS"));e.error&&(n.error=E.bind(this,"ERROR"));if(yt){if(r&&t!==nt.FIRSTPARTYSTORAGE&&e.domain!==_e){var o=t;t=nt.FIRSTPARTYSTORAGE;if(rt.SET===e.type||rt.TOUCH===e.type||rt.REMOVE===e.type){n.firstParty=!1;n.duplicate=!0;if(e.expires&&-1!==e.expires&&e.expires>60*gt){e.expires=gt;n.expires=gt}if(e.ttl&&-1!==e.ttl&&e.ttl>60*gt*1e3){e.ttl=1e3*gt;n.ttl=1e3*gt}rt.SET===e.type?f.call(this,n):rt.TOUCH===e.type?c.call(this,n):rt.REMOVE!==e.type||e.forceFirst||l.call(this,n)}else if(rt.GET===e.type||rt.MULTIGET===e.type){n.success=e.success;n.error=e.error;if(!e.bound){e.bound=!0;e.success=v.bind(this,n.success,n,o,!1);e.error=v.bind(this,n.error,n,o,!0)}}}else if(!(xe||rt.GET!==e.type&&rt.MULTIGET!==e.type||e.domain===_e||Et||!e.firstParty&&!e.clearFirst)){n.firstParty=!0;n.force=!0;n.forceFirst=!0;if(rt.MULTIGET===e.type)for(var i=0;i<e.keys.length;i++){n.type=rt.REMOVE;n.key=e.keys[i];l.call(this,n)}else{n.type=rt.REMOVE;l.call(this,n)}}e.app||(e.app=pt);if(A(e,t))e.alreadyConfigured&&e.error?te(e.error,"Could not configure storage",e.keys||e.key):d(N(e));else{O(e,t)&&(e.alreadyConfigured=!0);I(e,t)}}else setTimeout(h.bind(this,e),ht)}function v(e,t,r,n,o){var i=!1;t.type===rt.MULTIGET&&"object"==typeof o&&(i=R(o));if(o&&!i)te(e,o);else{var a=t.error;t.firstParty=!1;t.domain=r;t.url=r;t.error=function(t){n?te(a,t):te(e,o)};u(t)}}function R(e){for(var t in e)if(null!==e[t])return!1;return!0}function O(e,t){var r=je[t]&&je[t].filter(function(t){return t.type===rt.SELECT_STORAGE&&t.app===e.app}.bind(this)),n=C(e,t),o=e.type===rt.SELECT_STORAGE||n||r&&r.length>0;return o}function A(e,t){var r=O(e,t),n=!(!it[t]||!it[t][e.app]);return!r&&!n}function C(e,t){if(qe)for(var r in qe)if(qe.hasOwnProperty(r)&&qe[r].type===rt.SELECT_STORAGE&&qe[r].domain===t&&qe[r].app===e.app)return!0;return!1}function N(e){var t={};t[e.app]={site:e.site,app:e.app,url:e.domain,initialStorageType:e.initialStorageType,chosenStorageHandler:h.bind(this,e),firstParty:e.firstParty,force:e.force,duplicate:e.duplicate,env:ke()};"function"==typeof e.error&&(t[e.app].error=e.error);return t}function I(e,t){var r=e.domain===_e,n=m(e);if(n){e.url=e.domain||t;t=nt.FIRSTPARTYSTORAGE;e.domain=nt.FIRSTPARTYSTORAGE}r?k(e):ct.get(t)?x(e,t):D(e,t)}function G(){lpTag.storageMethods&&!Fe&&(Fe=lpTag.storageMethods);return Fe?Fe.isSessionStorageEnabled():!1}function k(e){var t,r;if(G())switch(e.type){case rt.GET:case rt.MULTIGET:r=w(e);te(e.success,r,e.keys||e.key);break;case rt.SET:t=""+e.site+e.key;U(t,e);te(e.success,e.value,e.key);break;case rt.TOUCH:r=b(""+e.site+e.key,e);te(r?e.success:e.error,r?r:{error:"No data to touch"},e.key);break;case rt.REMOVE:t=""+e.site+e.key;r={error:"Object not found."};F(t,e)&&(r=void 0);te(r&&r.error&&e.error?e.error:e.success,r&&r.error||r,e.key)}else te(e.error||e.success,{error:"SessionStorage is not active",code:500},e.key)}function P(e){var t=Fe.getSessionData(e);try{t=""===t?"":JSON.parse(t)}catch(r){}return""!==t?t:null}function b(e,t){var r=P(e);t.appName&&null!==r&&"object"==typeof r&&(r=r[t.appName]);return""!==r?r:null}function w(e){var t,r,n=!1,o=!1,i={};if(e.keys&&Array.isArray(e.keys)){n=!0;t=e.keys}else t=[e.key];t.forEach(function(t){r=b(""+e.site+t,e);if(r){i[t]=r;o=!0}});i=o?n?i:i[t[0]]:null;return i}function U(e,t){var r=P(e);null===r&&(r={});if("object"==typeof r){r[t.appName]=t.value;return Fe.setSessionData(e,ee(r))}return!1}function F(e,t){var r=!1,n=!1,o=P(e);if(null!==o&&"object"==typeof o&&o.hasOwnProperty(t.appName)){o[t.appName]=null;delete o[t.appName];for(var i in o)if(o.hasOwnProperty(i)){n=!0;break}r=!0}return r&&n?Fe.setSessionData(e,ee(o)):r?Fe.removeSessionData(e):!1}function D(e,t){var r;if(e&&((e.success||e.error)&&(e.key||e.keys)&&e.appName||e.type===rt.SELECT_STORAGE)&&e.domain&&e.site)if(Ye)if(Je[t]){r=e.app&&it[t]&&it[t][e.app];if(r&&e.type===rt.SELECT_STORAGE){K(e.domain,e.app,r);X(e.domain)}else if(!r||r&&!r.error){Ie(e);Re(e);we("Made request for key: "+e.key+" appName: "+e.appName)}else{te(e.error||e.success,null,e.key);we("No Storage Selected, Blocked request for key: "+e.key+" appName: "+e.appName)}}else oe(e,e,t);else Ve.push(function(){h(e)})}function x(e,t){Ke[t]="undefined"==typeof Ke[t]?[]:Ke[t];Ke[t].push(e)}function L(){var e,t=(new Date).getTime(),r=!1;if(Ue){clearTimeout(Ue);Ue=null}for(var n in qe)if(qe.hasOwnProperty(n)){e=0;e=t-qe[n].startTime;if(e>=Ze){be("iFrame not responding in time to requests, domain: "+qe[n].domain);Q(n,qe[n].key,null,!0)}else r=!0}M(r)}function M(e){e&&!Ue&&(Ue=setTimeout(L,$e))}function _(e,t){Be[e]=t?"undefined"==typeof Be[e]?1:Be[e]+1:0;we("Domain "+e+" error count: "+Be[e],"_manageErrorState");Be[e]>et&&fe(Ke[e],e,"iFrame not responding in time to requests")}function Y(e){if(Je[e]&&Je[e].parentNode){Je[e].parentNode.removeChild(Je[e]);Je[e]=null;delete Je[e];Be[e]=0;be("Removed iFrame for domain","_removeIFrame")}}function V(){document.body?Ce():setTimeout(V,0)}function H(e){e&&e.data&&We[e.origin]&&q(e.data,e.origin)}function J(e){we("firstParty message triggered from client");e&&e.data&&q(e.data,nt.FIRSTPARTYSTORAGE)}function j(e){qe[e]=null;delete qe[e]}function q(e,t){var r,n,o,i,a=$(e);if(a){r=a.id;n=a.key||a.keys;o="undefined"!=typeof a.value?a.value:a.error;if(st===n){B(a,t);i=Ee(t);Q(r,n,o,!!a.error,i)}else{Q(r,n,o,!!a.error);we("Got result for key: "+n+" appName: "+a.appName)}}}function B(e,t){var r,n;if(!e.app){if(qe){for(var o in qe)if(qe.hasOwnProperty(o)&&W(t,qe[o])){r=qe[o].app;n=o;break}n&&j(n)}if(je&&!n)for(var i in je){je.hasOwnProperty(i)&&i===t&&Array.isArray(je[i])&&je[i].every(function(e,o){if(W(t,e)){r=e.app;n=o;return!1}return!0});if("undefined"!=typeof n){je[i].splice(n,1);break}}e.app=r||pt}it[t]=it[t]||{};it[t][e.app]=e.value;we("Got storage type: "+e.value+" for origin: "+t+" appName: "+e.appName);K(t,e.app,e.value)}function W(e,t){return t.type!==rt.SELECT_STORAGE||t.domain!==e||t.app!==pt&&t.app!==ft?!1:!0}function K(e,t,r){if(at[e]&&at[e][t]&&at[e][t].length>0){at[e][t].forEach(function(e){te(e,r)});at[e][t]=[]}}function Q(e,t,r,n,o){var i=z(e),a=o||i&&Ee(i.domain);i&&Z(i,r,t,n);e&&j(e);ct.set(!1,a);_(a,n);X(a)}function X(e){Ke[e]&&Ke[e].length>0&&h(Ke[e].shift())}function z(e){return e&&qe[e]?qe[e]:void 0}function Z(e,t,r,n){n?te(e.error||e.success,t,r):te(e.success,t,r)}function $(e){try{e=decodeURIComponent(e);e=JSON.parse(e)}catch(t){}return e}function ee(e){var t,r;if("function"==typeof Array.prototype.toJSON){r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(n){Array.prototype.toJSON=r;throw n}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function te(e,t,r){if("function"==typeof e)try{e(t,r)}catch(n){}}function re(t,r,n){e.addEventListener?t.addEventListener(r,n,!1):t.attachEvent("on"+r,n)}function ne(e){var t={app:e.app,value:"NONE"};ae(_e,e.app,e.chosenStorageHandler);if(G()){Je[_e]=!0;t.value=nt.STATICSESSIONSTORAGE}B(t,_e)}function oe(e,t,r){var n,o=e.url||e.domain,i=e.site,a=S(e);r=r||Ee(o);if(yt){if(!Je[r])if(je[r])ie(r,t);else if(a){we("Attaching first party methods: "+o+" domain: "+r);n=ue();We[nt.FIRSTPARTYSTORAGE]=!0;n.setAttribute("src",Te(o,i,e));je[nt.FIRSTPARTYSTORAGE]=[];ie(nt.FIRSTPARTYSTORAGE,t);Ye?pe(nt.FIRSTPARTYSTORAGE,n)():He.push(pe(nt.FIRSTPARTYSTORAGE,n))}else{we("Attaching iFrame: "+o+" domain: "+r);n=se();We[r]=!0;n.setAttribute("src",ye(o,i,e));je[r]=[];ie(r,t);Ye?pe(r,n)():He.push(pe(r,n))}return n}setTimeout(oe.bind(this,e,t,r),ht)}function ie(e,t){t&&je[e].push(t)}function ae(e,t,r){if(r){at[e]=at[e]||{};at[e][t]=at[e][t]||[];at[e][t].push(r)}}function se(){var e=document.createElement("iframe"),t=e.style,r="lpSS_"+Math.floor(9e10*Math.random()),n={tabIndex:"-1","aria-hidden":"true",role:"presentation",title:"Intentionally blank",name:r,id:r};t.width="0px";t.height="0px";t.position="absolute";t.top="-1000px";t.left="-1000px";t.display="none";for(var o in n)n.hasOwnProperty(o)&&e.setAttribute(o,n[o]);return e}function ue(){var e=document.createElement("script");e.id="lpSS_"+Math.floor(9e10*Math.random());return e}function pe(e,t){return function(){var r=setTimeout(function(){fe(je[e],e,"unable to load iFrame for key")},ze);re(t,"load",function(){le(t,e,r)});document.body.appendChild(t)}}function fe(e,t,r){for(;e.length>0;){var n=e.shift();n.error&&setTimeout(ce(n.error,r||{error:r,key:n.key},n.key),0)}Y(t)}function ce(e,t,r){return function(){te(e,t,r)}}function le(t,r,n){n&&clearTimeout(n);Je[r]=t.tagName&&"script"===t.tagName.toLowerCase()?{contentWindow:e}:t;we("Loaded frame "+r);de(r)}function de(e){we("Running pending request for frame "+e);if(je[e]){for(;je[e].length>0;)h(je[e].shift());je[e]=null;delete je[e]}}function ye(e,t,r){var n,o,i,a;if(e&&"string"==typeof e){o=ke();i=Se(r);e=ge(e,r);n=0<location.port.length?":"+location.port:"";a=e+"/"+i+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+n)+"&site="+encodeURIComponent(t)+(r.initialStorageType?"&ist="+encodeURIComponent(r.initialStorageType):"")+(r.force?"&force=1":"")+(o?"&env="+encodeURIComponent(o):"")+(Ge()?"&isCrossDomain=true":"")}return a}function Te(e,t,r){var n,o,i,a;if(e&&"string"==typeof e){o=ke();i=me(r);e=ge(e,r);n=0<location.port.length?":"+location.port:"";a=e+"/"+i+"?loc="+encodeURIComponent(location.protocol+"//"+location.hostname+n)+"&site="+encodeURIComponent(t)+(r.initialStorageType?"&ist="+encodeURIComponent(r.initialStorageType):"")+(r.force?"&force=1":"")+(o?"&env="+encodeURIComponent(o):"")+(Ge()?"&isCrossDomain=true":"")}return a}function ge(e){var t,r,n=e.lastIndexOf("/");if(n>8)r=e.substr(0,n);else{t=e.indexOf("?");t>0&&(r=e.substr(0,t))}r||vt||(r=e);return r}function Se(){var e="storage.secure.min.html";Xe?e="storage.html":Rt&&(e="storage.min.html");return e}function me(){var e;e=Xe?"storage.secure.js":"storage.secure.min.js";return e}function Ee(e){var t,r,n=null;if(e===nt.STATICSESSIONSTORAGE)n=e;else{if(e===nt.FIRSTPARTYSTORAGE)return e;t=new RegExp(/(http{1}s{0,1}?:\/\/){0,1}([^\/\?]+)(\/?)/gi);r=t.exec(e);r&&r.length>=3&&""!==r[2]&&(n=r[1]+r[2].toLowerCase())}return n}function he(e){var t={};t.id=e.id;e.key?t.key=e.key:e.keys&&(t.keys=e.keys);t.site=e.site;t.appName=e.appName||"*";t.type=e.type;if(e.type===rt.SELECT_STORAGE){t.initialStorageType=e.initialStorageType;t.force=e.force}isNaN(e.ttl)||(t.ttl=e.ttl);isNaN(e.expires)||(t.expires=e.expires);e.app&&(t.app=e.app);if("undefined"!=typeof e.value){t.value=e.value;t.locations=ve(e.locations)}return t}function ve(e){e=e?e.constructor===Array?e:[e]:[];e.push(document.location.hostname);return e}function Re(e){var t,r=Ee(e.domain);if(Je[r]){e.startTime=(new Date).getTime();t=he(e);ct.set(!0,r);Oe(t,r);M(!0)}}function Oe(e,t){Je[t]&&(t===nt.FIRSTPARTYSTORAGE?lpTag.isUnauthExternalWindow||mt.trigger({appName:Tt,eventName:"firstPartyMessage",data:{data:Ae(e)}}):Je[t].contentWindow.postMessage(Ae(e),t))}function Ae(e){try{e=ee(e);e=encodeURIComponent(e)}catch(t){}return e}function Ce(){Ye=!0;for(;He.length>0;)try{He.shift()()}catch(e){}for(;Ve.length>0;)try{Ve.shift()()}catch(e){}}function Ne(){Qe++;Qe>2e4&&(Qe=0);return"k"+Qe+(new Date).getTime()+parseInt(100*Math.random(),10)}function Ie(e,t){e.id=t?t:Ne();"undefined"!=typeof e.value&&(e.type=rt.SET);qe[e.id]=e}function Ge(){return lpTag.features&&"function"==typeof lpTag.features.getFeature&&lpTag.features.getFeature(ut)}function ke(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function Pe(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,Le)}function be(e){Pe(e,tt.ERROR)}function we(e){Pe(e,tt.DEBUG)}var Ue,Fe,De,xe,Le="lpSecureStorage",Me="3.13.1.0-release_5043",_e="STATICSESSIONSTORAGE",Ye=!1,Ve=[],He=[],Je={},je={},qe={},Be={},We={},Ke={},Qe=0,Xe=!1,ze=7e3,Ze=5e3,$e=1e3,et=10,tt={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},rt={SET:"set",GET:"get",MULTIGET:"multiget",REMOVE:"remove",TOUCH:"touch",SELECT_STORAGE:"selectStorage"},nt={LOCALSTORAGE:"localStorage",SESSIONSTORAGE:"sessionStorage",INDEXEDDB:"indexedDB",COOKIE:"secureSessionCookie",STATICSESSIONSTORAGE:_e,FIRSTPARTYSTORAGE:"firstPartyStorage"},ot={STORAGE:"storage_error"},it={},at={},st="SecureStorageClient/storageType",ut="Common.LiveEngage_2_CrossDomainStorage",pt="default",ft="cobrowse",ct={set:function(e,t){t&&(this[t]=e)},get:function(e){return e?this[e]:void 0}},lt={ACCDN:"acCdnDomain"},dt={FIRST_PARTY_STORAGE:"unified.window.allow.first.party.storage"},yt=!1,Tt="SecureStorageClient",gt=31536e3,St=lpTag.csds,mt=lpTag.events,Et=!1,ht=200,vt=!1,Rt=!1,Ot={};re(e,"message",H);V();if(lpTag.isUnauthExternalWindow){xe=!1;yt=!0}return{storageTypes:nt,getStorageType:s,getValue:u,getValues:p,setValue:f,touchValue:c,removeValue:l,configure:d,sessionStorageStaticDomain:_e,errorTypes:ot,v:Me,name:Le,init:t,inspect:function(){var e={};for(var t in Je)Je.hasOwnProperty(t)&&(e[t]={url:t,storageType:it[t]});return{name:Le,version:Me,configuredFrames:e}}}}(window);}catch(e){lpTag.handleGeneralError("lpSecureStorage",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_sdes=lpTag.taglets.lp_sdes||function(){function e(){var e=lpTag.sdes;lpTag.sdes=lpTag.taglets.lp_sdes;if("undefined"!=typeof e&&e.length)for(var n=0;n<e.length;n++)t(e[n])}function t(e){if("undefined"!=typeof e){"undefined"==typeof e.length&&(e=[e]);for(var t=0;t<e.length;t++)if("object"==typeof e[t]&&e[t].type){var n=s(e[t].type);if("undefined"!=typeof n){n.push(e[t]);f[e[t].type]=n}else f[e[t].type]=[e[t]];d("Added sde type: "+e[t].type);lpTag.events.trigger(o,"VAR_ADDED",e[t])}else g("sde: "+JSON.stringify(e[t])+" is not an Object");lpTag.taglets.lp_monitoringSDK.sdes.push(e)}else g("Called push with no sde")}function n(e,n,s){"undefined"!=typeof e&&t(e);p("called send with sdes: "+JSON.stringify(e),"DEBUG");return lpTag.taglets.lp_monitoringSDK.send(n,s)}function s(e){return e?f[e]:f}function l(){f={};d("sdes store was reset")}function i(){l()}function p(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,o)}function g(e){p(e,"ERROR")}function d(e){p(e,"INFO")}var o="lp_sdes",a="2.21.0",f={};return{v:a,name:o,init:e,get:s,push:t,send:n,reset:l,reinit:i,inspect:function(){return{store:s()}}}}();}catch(e){lpTag.handleGeneralError("lp_sdes",e);}try{!function(){var t,n,i;t=function(){function e(e){return e.lpTag&&e.lpTag.taglets&&e.lpTag.taglets.lp_monitoringSDK}function t(t){var n,i=e(t);i&&(n=i.getSid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_SKEY&&(n=o.FPC_SKEY);return n}function n(e){var t,n=e.lpMTagConfig;n&&n.LPSID_VAR&&(t=n.LPSID_VAR);return t}function i(t){var n,i=e(t);i&&(n=i.getVid());if(n)return n;var o=t.lpMTagConfig;o&&o.FPC_VID&&(n=o.FPC_VID);return n}function o(e){var t,n,i=e&&e.lpMTagConfig,o=["FPC_SKEY_NAME","FPC_VID_NAME"];if(i)for(var r=0;r<o.length;r++){t=i[o[r]];if(t){n=t.match(/((qa|P)?[\d]+)(-[\w])/);if(n&&n.length>0)return n[1]}}}return{getVisitorId:i,getSessionId:t,getVisitorSessionId:n,getRedirectedSiteId:o}}();!function(t){var n,o=window,r=o.document,s=o.lpTag=o.lpTag||{},a=s.taglets=s.taglets||{};s.isDebug&&o.console&&o.console.log&&(s.log=function(e,t){"ERROR"===t?o.console.error(e):o.console.log(e)});a.cobrowse=a.cobrowse||function(){function c(e){P("INITIALIZING");P("CONFIG PARAM="+e);n=a.lpUtil||a.lp_global_utils;e&&e.constructor===Array?n.convertConfig(e,W):W=e||W;W=U(Q,W);W.autoloadApi&&A();f()}function l(){P("STARTING");s.events.trigger(q,"ready",a.cobrowse);T()}function u(){P("_visitorApiReady()");B=j(W.namespace,o);B.removeDefaultFlow();g(B);x(H,function(e){e(B)});H=[]}function f(){P("_addLpTagListeners()");x(Z,s.events.unbind,s.events);Z=[s.events.bind({appName:G,eventName:"cobrowseOffered",func:p}),s.events.bind({appName:G,eventName:"cobrowseAccepted",func:d}),s.events.bind({appName:G,eventName:"cobrowseDeclined",func:m}),s.events.bind({appName:G,eventName:"state",func:I}),s.events.bind({appName:K,eventName:"cobrowseOffered",func:p}),s.events.bind({appName:K,eventName:"cobrowseAccepted",func:d}),s.events.bind({appName:K,eventName:"cobrowseDeclined",func:m})]}function g(e){P("_addSynchroniteListeners()");x(X,function(e){e.remove()});X=[e.on("sessionAccepted",function(){e.removeDefaultFlow();P("sessionAccepted")}),e.on("sessionStart",S)]}function p(e){P("_handleOffered "+(e?JSON.stringify(e):"no event param"));z=!1;J=e.mode;var n=e.serviceId||e.ssid||t.getSessionId();A(e).then(function(t){e.serviceId=n;t.removeDefaultFlow();t.emit("sessionOffered",e)})}function d(e){if(z)P("Chat already ended");else{e&&(e.context="LIVEENGAGE");v(e)}}function v(e){e.svid=e.svid||t.getVisitorId();e.ssid=e.ssid||t.getSessionId();var n=e.serviceId||e.svid||e.ssid||t.getSessionId();A(e).then(function(t){P("_handleAccepted "+(e?JSON.stringify(e):"no event param"));e.channelSegment=e.agentId+"";e.serviceId=n;e.visitorAlias=w(e);e.mode=J;e.type=b(J);t.acceptSupportOffer(e,!0)})}function m(e){if(z)P("Chat already ended");else{P("_handleDeclined "+(e?JSON.stringify(e):"no event param"));var n=e.serviceId||e.svid||e.ssid||t.getSessionId();A(e).then(function(t){var i=JSON.parse(JSON.stringify(e));i.channelSegment=i.agentId+"";i.serviceId=n;i.visitorAlias=w(i);t.removeDefaultFlow();t.cancelSupportOffer(i)})}}function S(e){P("_handleStart() - "+JSON.stringify(e));s.events.trigger(q,"start",a.cobrowse);B.visitorInfo.connectedAgentAlias=null;B.visitorInfo.clearServiceID();if("VOICE_CALL"===J||"VIDEO_CALL"===J){window.callConfig={ticket:e.ticket,mode:J,isAgent:!1,sid:e.sid,username:e.visitorName,comet:B.getComet()};L(V(W.tenantId)+"/js/synchronite/call/run.js?cacheBust="+encodeURIComponent(M))}else{window.proxylessConfig={ticket:e.ticket,master:!0,sid:e.sid,username:e.visitorName,comet:B.getComet()};L(V(W.tenantId)+"/js/synchronite/proxyless/run.js?cacheBust="+encodeURIComponent(M))}B.cometCleanUp()}function I(e){P("_handleChatState() - "+JSON.stringify(e));if("ended"===e.state){z=!0;o.proxyless&&o.proxyless.endSession&&o.proxyless.endSession()}}function y(e){var n=t.getVisitorId(),i=w();A().then(function(t){e=e||function(e){P("ServiceId set: "+e)};t.visitorInfo.setFullname(i);t.createServiceId(n,e)})}function N(){var e=t.getVisitorId(),n=w(),i={agentServiceId:e,fullname:n};P("_requestCobrowse "+JSON.stringify(i));A(event).then(function(e){e.requestSupport(i,function(e){P(e?"REQUESTEDSUPPORT SUCCESS ":"REQUESTEDSUPPORT FAILED - SERVICE ID UNKNOWN")})})}function h(){var e=s.url;window.proxyless&&window.proxyless.newPage&&window.proxyless.newPage(e)}function C(){var e=W.site;if(!e){e=t.getRedirectedSiteId(o);if(e)return e;e=o.lpMTagConfig&&o.lpMTagConfig.lpNumber;if(e)return e;e=o.lpTag&&o.lpTag.site;if(e)return e}e||o.lp&&o.lp.urlParams&&o.urlParams.lpnumber&&(e=o.urlParams.lpnumber);return e}function b(e){return"VOICE_CALL"===e||"VIDEO_CALL"===e?"call":"cobrowse"}function w(e){return e&&e.visitorName?e.visitorName:o.lp&&o.lp.chatApi&&o.lp.chatApi.getVisitorName?o.lp.chatApi.getVisitorName():"Visitor"}function A(e){P("_loadVisitorApi()");e=e||{};if(!B){var t=e.siteId||C();W.tenantId=t;W.readyCallback=u;o.synchroniteConfig=U(o.synchroniteConfig||{},W);L(V(t)+"/js/synchronite/integration.js?cacheBust="+encodeURIComponent(M),"cobrowse-integration")}return{then:function(e){e&&(B?e(B):H.push(e))}}}function T(){_(function(){R(function(e){F("Active Session "+e,"INFO");e&&s.taglets.lpSecureStorage.getValue({site:C(),app:Y,appName:"cobrowse",key:"s.type",domain:k,success:function(e){F("Type from storage "+e,"INFO");"voice"===e||"video"===e?O():E()},error:function(){E()}})})})}function E(){L(V(C())+"/js/synchronite/proxyless/run.js?cacheBust="+encodeURIComponent(M))}function O(){L(V(C())+"/js/synchronite/call/run.js?cacheBust="+encodeURIComponent(M))}function _(e){if(o.lpTag&&o.lpTag.taglets&&o.lpTag.taglets.lpSecureStorage){F("Configure secure storage","INFO");var t=o.lpTag.taglets.lpSecureStorage,n=o.lpTag.getDomain("leCdnDomain");k="https://"+n+"/le_secure_storage/"+(t.v?t.v+"/":"");o.proxyless=o.proxyless||{};o.proxyless.useCdn=!0;var i={url:k,app:Y,site:C(),initialStorageType:"sessionStorage",chosenStorageHandler:e};F("secure storage config "+JSON.stringify(i),"INFO");var r="function"==typeof s.getEnv&&s.getEnv();r&&(i.env=r);try{s.taglets.lpSecureStorage.configure({conf:i,error:function(e){F("Error initializing secure storage: "+e,"ERROR")},success:e})}catch(a){F("Error initializing secure storage: "+a,"ERROR")}}}function R(t){F("app and domain "+Y+" "+k,"INFO");s.taglets.lpSecureStorage.getValue({site:C(),app:Y,appName:"cobrowse",key:"s.tid",domain:k,success:t,error:function(){F("Error getting value from secure storage: "+e,"ERROR")}})}function D(){var e="coBrowse",t=W.domain;return!t&&o.lpTag&&o.lpTag.csds?o.lpTag.csds.getDomain(e):!t&&o.lp&&o.lp.CSDSList?o.lp.CSDSList[e]:t}function V(e,t){e=e||C();t=t||D();return"https://"+e+"."+t}function F(e,t){o.lpTag&&o.lpTag.log&&o.lpTag.log(e,t,q+" taglet")}function P(e){F(e,"INFO")}function L(e,t){if(!t||!r.getElementById(t)){var n=r.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.setAttribute("src",e);t&&n.setAttribute("id",t);var i=r.body||r.getElementsByTagName("body")[0];i.appendChild(n)}}function x(e,t,n){var i=0,o=e&&e.length||0;o&&"string"==typeof e&&(e=e.split(""));if(n)for(;o>i;++i)t.call(n,e[i],i,e);else for(;o>i;++i)t(e[i],i,e)}function U(e,t){if(!e||!t)return e;for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function j(e,t){t=t||o;"string"==typeof e&&(e=e.split("."));var n=t;if(e&&e.length)for(var r=0;r<e.length;r++){if("undefined"==typeof n[e[r]])return i;n=n[e[r]]}return n}var k,B,J,M="3.2.0.0",q="cobrowse",G="lpUnifiedWindow",K="lpCoBrowse",Y="cobrowse",z=!1,Q={debugEvents:!1,autoloadApi:!1,namespace:"lpTag.cobrowse.visitorApi",cobrowseEngine:"proxyless",chatEnabled:!1,skipVisitorConfirmation:!0,visitorNameRequired:!1,checkAgentAvailability:!1,customFlow:!0,realtimeTracking:!1},W={},H=[],Z=[],X=[];return{v:M,name:q,init:c,start:l,config:W,loadApi:function(e){A().then(e)},onBeforeNavigation:function(){h()},includes:[{name:"lp_global_utils"},{name:"lpSecureStorage"}],inspect:function(){return{_setServiceId:y,_requestCobrowse:N,config:W}},accept:function(e){v(e)},testEvent:function(e){o.lpTag.events.trigger(G,e,{svid:t.getVisitorId(),visitorName:w()})}}}()}(t);n=i;i=i}();}catch(e){lpTag.handleGeneralError("cobrowse",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.scraper=lpTag.taglets.scraper||function(){function e(e){if(e)for(var a=0;a<e.length;a++)"object"==typeof e[a]&&(m[e[a].id]=e[a].value)}function a(){lpTag.taglets.jsonp.issueCall({url:lpTag.protocol+"//"+lpTag.csds.getDomain(T.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/zones?fields=id&fields=zoneValue",callbackName:"lpZonesStaticCB",success:function(e){E=e;lpTag.events.trigger("SCRAPER","ZONES_LOADED",E);s()},error:function(){lpTag.log("Loading elements list for scraper failed","ERROR","SCRAPER")}})}function n(){i()}function t(){s()}function r(e){for(var a=0;a<E.length;a++)if(E[a].id===e)return E[a].zoneValue;return null}function l(e,a,n){for(var t=0;t<E.length;t++)if(E[t].id===e){E[t].queuedSpecializedScrapes||(E[t].queuedSpecializedScrapes=[]);E[t].queuedSpecializedScrapes.push({specialization:a,callback:n})}}function c(){return{config:m,zones:E}}function i(){for(var e=0;e<E.length;e++)E[e].scraped=!1}function s(){var e=u();o(e);lpTag.isDom||setTimeout(s,m.scrapeInterval)}function u(){for(var e=[],a=0;a<E.length;a++){var n=!1;if(E[a].queuedSpecializedScrapes&&E[a].queuedSpecializedScrapes.length>0){for(var t=0;t<E[a].queuedSpecializedScrapes.length;t++){var r=E[a].queuedSpecializedScrapes[t],l=p(r.specialization,E[a]);l&&l.length>0&&(n=!0);r.callback&&r.callback(l,r.specialization,E[a])}E[a].queuedSpecializedScrapes=[]}if(!E[a].scraped){var c=document.getElementById(E[a].zoneValue);if(null!=c||n&&E[a].zoneType===A.EMBEDDED){E[a].scraped=!0;e.push({type:"pagediv",divId:E[a].zoneValue})}}}return e}function o(e){if(e.length>0){lpTag.log("zones: "+JSON.stringify(e),"DEBUG","SCRAPER");lpTag.sdes.send(e,function(){lpTag.log("scraper::_send::lpTag.sdes.send success for: "+e.toString(),"DEBUG","SCRAPER")})}}function p(e,a){var n=g(e,a),t=[];n&&(t=d(e.scrapeType,n));return t}function g(e,a){return e.scrapeValueType==v.ZONEVALUE?a.zoneValue:e.scrapeValue}function d(e,a){switch(e){case z.CLASS:return document.getElementsByClassName(a);case z.ATTRIBUTE:var n="["+a+"]";return document.querySelectorAll(n);case z.ID:return document.getElementById(a);case z.NAME:return document.getElementsByName(a);case z.TAG:return document.getElementsByTagName(a)}return[]}var f="0.4.0",S="scraper",T={ACCDN:"acCdnDomain"},E=[],m={scrapeInterval:50},z={CLASS:"class",ATTRIBUTE:"attribute",ID:"id",TAG:"tag",NAME:"name"},v={ZONEVALUE:"zoneValue",CUSTOM:"custom"},A={EMBEDDED:0};return{v:f,name:S,init:e,start:a,reinit:n,restart:t,getElmId:r,queueSpecializedScrape:l,inspect:c}}();}catch(e){lpTag.handleGeneralError("scraper",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpActivityMonitor=lpTag.taglets.lpActivityMonitor||function(){function t(t){lpTag.sdes=lpTag.sdes||[];f(t);s(v)}function e(){c("Starting activity tracking");S=!0;O=setTimeout(E,A.timeout)}function n(){c("Called Stop");if(O){clearTimeout(O);S=!1;p("Stopped activity tracking")}T()}function i(t){c("Called push with type="+t);t&&"number"==typeof t?lpTag.sdes.push({type:A.sdeType,input:t}):r("Did not push sde since type is not a number type="+t,"ERROR")}function o(t){c("Called Reinit");u();f(t);v()}function u(){D=0;U=N.UNDEFINED}function a(){return S}function r(t,e){window.lpTag&&lpTag.log&&lpTag.log(t,e,h)}function c(t){r(t,"DEBUG")}function p(t){r(t,"INFO")}function l(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}function s(t){return setTimeout(t,0)}function f(t){if(t)for(var e=0;e<t.length;e++){var n=t[e].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):r("unable to parse JSON, no JSON object on page ","ERROR"));A[t[e].id]=n}else p("No cfg were given on init")}function m(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function d(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){y&&clearTimeout(y);var e=t.type;y=s(function(){if(I[e]){U=I[e].input;D=(new Date).getTime()}})}function v(){if(!R)for(var t in I)I.hasOwnProperty(t)&&m(I[t].elem,t,g);R=!0}function T(){if(R)for(var t in I)I.hasOwnProperty(t)&&d(I[t].elem,t,g);R=!1}function E(){var t=(new Date).getTime()-D;if(0!==D&&t<=A.timeout){lpTag.events.trigger(h,"ACTIVITY_MONITORED",{inputType:U,time:D});i(U)}O&&clearTimeout(O);O=setTimeout(E,A.timeout)}var O,y,w="2.21.0",h="lpActivityMonitor",S=!1,N={UNDEFINED:0,MOUSE:1,KEYBOARD:2,TOUCH:3,FOCUS:4},D=0,U=N.UNDEFINED,A={timeout:6e4,sdeType:"tabActive"},R=!1,I={click:{elem:document,input:N.MOUSE},mousemove:{elem:document,input:N.MOUSE},wheel:{elem:document,input:N.MOUSE},scroll:{elem:window,input:N.MOUSE},keydown:{elem:document,input:N.KEYBOARD},touchmove:{elem:document,input:N.TOUCH},focus:{elem:window,input:N.FOCUS}};return{v:w,name:h,init:t,start:e,reinit:o,restart:e,stop:n,push:i,reset:u,isActive:a,inputType:N,inspect:function(){return{conf:l(A),lastActivityTime:D,lastInputType:U,intervalId:O}}}}();}catch(e){lpTag.handleGeneralError("lpActivityMonitor",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.rendererStub=lpTag.taglets.rendererStub||function(){function e(e){lpTag.log("rendererStub init called","DEBUG","LP_OFFER");ie=lpTag.taglets.lpUtil;ee(e);W()&&n()}function n(){lpTag.events.bind("LE_ENGAGER","SHOW",d);lpTag.events.bind("lpUnifiedWindow","state",y);lpTag.events.bind("LE_ENGAGER","CHAT",E);lpTag.events.bind("LE_ENGAGER","MESSAGING",T);lpTag.events.bind("LE_ENGAGER","SURVEY",m);lpTag.events.bind("LE_ENGAGER","OPEN",p);lpTag.events.bind("LP_OFFERS","OFFER_REMOVE",c);lpTag.events.bind("lpUnifiedWindow","STORAGE_SELECTED",z)}function t(e){e=e||{};f(e)}function a(e){var n={};if(pe.ids[e]&&pe.ids[e].engData){n=JSON.parse(j(pe.ids[e].engData));n.engagementId=e}return n}function i(e){var n={engagementId:e,state:0,desc:"NA"};if(pe.ids[e]&&pe.ids[e].engData&&"undefined"!=typeof pe.ids[e].engData.state&&"undefined"!=typeof le[pe.ids[e].engData.state]){n.state=pe.ids[e].engData.state;n.desc=le[n.state]}return n}function o(e,n,t){var a={},i=e.engagementWindowId||e.windowId||n.windowId;a.site=lpTag.site;a.scid=e.contextId;a.cid=e.campaignId;a.eid=e.engagementId;a.ename=e.engagementName;a.target=t&&t.target||(ye+lpTag.site).replace(/[^a-z0-9]/gi,"_");a.params=t&&t.params||Oe;a.svid=lpTag.taglets.lp_monitoringSDK.getVid();a.ssid=lpTag.taglets.lp_monitoringSDK.getSid();a.ssuid=lpTag.taglets.lp_monitoringSDK.getSidPrefix();a.isPopOut="boolean"==typeof n.isPopOut||"true"===n.isPopOut?!!n.isPopOut:!1;a.env=t&&t.env||"function"==typeof lpTag.getEnv&&lpTag.getEnv();a.offlineSurveyId=e.offlineSurveyId;a.async=e.conversationType===Ie.MESSAGING||n.conversationType===Ie.MESSAGING;a.allowUnauthMsg=n.allowUnauthMsg;a.identityData=ne=n.identityData;(e.connector||n.connector)&&(a.connector=lpTag.taglets.lpUtil.cloneExtend(e.connector||{},n.connector||{}));n.skillName&&(a.skill=n.skillName);n.skillId&&(a.skillId=n.skillId);i&&(a.lewid=i);n.language&&(a.lang=n.language);(e.forceOffline===!0||e.state===Ne.OFFLINE||e.state===Ne.BUSY&&n.availabilityPolicy===Se.OFFLINE)&&(a.isOffline=!0);if(e.redirect){a.redirect=e.redirect;a.isPopOut=!0}e.ssoKey&&(a.ssoKey=e.ssoKey);e.minimiseOnStart&&(a.minimiseOnStart=!0);e.preChatLines&&(a.preChatLines=e.preChatLines);e.queuePriority&&(a.queuePriority=e.queuePriority);(n.availabilityPolicy===Se.OFFLINE||n.availabilityPolicy===Se.CHAT)&&(a.availabilityPolicy=n.availabilityPolicy);e[Ee]&&(a[Ee]=e[Ee]);e.windowConf&&(a.windowConf=e.windowConf);Z()&&(a.accountSettings=te);if(n.externalTargets&&n.externalTargets.length){a.externalTargets={};n.externalTargets.forEach(function(e){a.externalTargets[e.deflectionTarget]={brandIdentifier:e.brandIdentifier};a.externalTargets[e.deflectionTarget].deflectionTargetProperties=r(e.deflectionTargetProperties)})}e.multiChannelEngagementSelection&&x(e.multiChannelEngagementSelection,a);lpTag.events.trigger("RENDERER_STUB","ENGAGEMENT_CONFIGURATION_CREATED",{engConf:a,data:e,config:n,channel:t});return a}function g(e,n){var t=!1;if(pe.ids[e]&&"function"==typeof pe.ids[e].offerClick){t=!0;n=n||{};l(n)&&(pe.ids[e].engData.preChatLines=n.preChatLines);pe.ids[e].offerClick()}return t}function r(e){var n={};"string"==typeof e&&e.split(",").forEach(function(e){if(e){var t=e.split(":");2===t.length&&t[0]&&t[1]&&(n[t[0]]="true"===t[1]||"false"===t[1]?"true"===t[1]:isNaN(t[1])?t[1]:Number(t[1]))}});return n}function l(e){function n(e){return"string"==typeof e}return e&&e.preChatLines&&Array.isArray(e.preChatLines)&&e.preChatLines.every(n)}function s(e,n){var t;if(e&&n&&n.length)for(var a=0;a<n.length;a++){t=n[a];e[t]=null;delete e[t]}}function f(e){var n,t=[],a=e.idsToKeep||{},i=e.divIdsToKeep||{};for(var o in i)if(i.hasOwnProperty(o)&&pe.divIds.hasOwnProperty(o)){n=pe.divIds[o];a[n]=!0}for(var g in pe.ids)if(pe.ids.hasOwnProperty(g)&&!a[g]){try{pe.ids[g].cleanupOffer({silent:!0})}catch(r){lpTag.log("Failed to remove engagement, might have been removed already. ex="+r.message,"DEBUG","LP_OFFER")}t.push(g)}s(pe.ids,t);de={};Ce={}}function c(e){var n=e.engagementId;if(n&&pe.ids[n]){pe.ids[n]=null;delete pe.ids[n]}}function d(e){if(V(e)){lpTag.log("rendererStub received new smt msg. {id:"+e.engagementId+" ,type:"+e.engagementType+",revision:"+e.engagementRevision+",campaignId "+e.campaignId+"}","DEBUG","LP_OFFER");e[Ee]=Te.SHOW;if("undefined"!=typeof e.controlGroup&&e.controlGroup)O(e);else{P(e);e.customTaglet&&N(e);v(e,L(e).files);R(e);w(e)}}}function p(e){if("object"==typeof e){e[Ee]=Te.OPEN;e.conversationType=ce.MESSAGING;e.minimiseOnStart=!0;w(e);V(e)?R(e,function(n){K(n);n.confKey=H(e);e.confKey=H(e);de[e.confKey]=n;U(n)?A(e):u(n)}):u(e)}}function u(e){e.tglName="conversationInitiator";w(e);if(V(e))R(e,v(e,e.tglName));else{if(!e.windowConf)if(e.windowId){e.confKey=e.confKey||e.windowId;Q(e,D)}else{e.confKey=e.tglName;Ce[e.confKey]={}}v(e,e.tglName)}}function T(e){V(e)&&e.state===Ne.OFFLINE&&"offsite"===re[e.engagementType]?F(e,"messaging"):u(e)}function E(e){V(e)&&e.state===Ne.OFFLINE&&"offsite"===re[e.engagementType]?F(e,"chat"):u(e)}function m(e){e.forceOffline=!0;u(e)}function y(e){lpTag.log("rendererStub received hide engagements event.","DEBUG","LP_OFFER");e&&"chatting"===e.state&&lpTag.events.trigger("LP_OFFERS","HIDE")}function O(e){lpTag.log("rendererStub::controlGroup is true for campaignID: "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER");var n=[{type:"impDisplay",campaign:e.campaignId,engId:e.engagementId,revision:e.engagementRevision,eContext:[{type:"engagementContext",id:e.contextId}]}];lpTag.sdes.send(n,function(){lpTag.log("rendererStub:::impression event send for "+e.campaignId+" - engagementId: "+e.engagementId,"DEBUG","LP_OFFER")});lpTag.events.trigger("LP_OFFERS","CONTROL_GROUP",e)}function v(e,n){lpTag.log("_loadTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");var t=!1,a={},i=lpTag.protocol+"//"+lpTag.csds.getDomain(se.LPCDN)+"/le_re/";oe&&(i+=oe+"/");i+="jsv2/";if(n){n=Array.isArray(n)?n:[n];for(var o=0;o<n.length;o++)if("string"==typeof n[o]&&!lpTag.taglets[n[o]]){a[n[o]]=i+n[o]+".js?_v="+oe;t=!0}}t?lpTag.taglets.jsLoader.loadJS({loadObj:a,success:I(e),error:S(e)}):D(e)}function N(e){lpTag.log("_loadCustomTaglet called with url: "+JSON.stringify(e),"DEBUG","LP_OFFER");lpTag.taglets[e.tglName]?D(e):"function"==typeof lpTag.loadTaglet&&lpTag.loadTaglet({name:e.tglName,success:I(e),error:S(e)})}function I(e){return function(){lpTag.log("_loadTagletSuccess taglet not exist, isReady: "+C(e),"DEBUG","LP_OFFER");D(e)}}function S(e){return function(n){lpTag.log("Loading taglet: "+e.tglName+" failed. Error: "+JSON.stringify(n),"ERROR","LP_OFFER")}}function R(e,n){var t=lpTag.protocol+"//"+lpTag.csds.getDomain(se.ACCDN)+"/api/account/"+lpTag.site+"/configuration/le-campaigns/campaigns/"+e.campaignId+"/engagements/"+e.engagementId+"/revision/"+e.engagementRevision+"?v="+Re;lpTag.log("_loadEngagementConfig called with url: "+t+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");e.confKey=e.confKey?e.confKey:H(e);de[e.confKey]?D(e):lpTag.taglets.jsonp.issueCall({url:t,data:{flavor:"dependency"},callbackName:"lp"+e.engagementId,success:function(t){if(q(t)&&Y(t)){lpTag.log("Engagement "+e.engagementId+" loaded","DEBUG","LP_OFFER");t.identityData=e.identityData;de[e.confKey]=t;if("function"==typeof n){t.confKey=e.confKey?e.confKey:H(e);Q(t,n)}else{e.windowId=t.windowId;Q(e,D);lpTag.log("_loadEngagementConfig conf not exist, isReady: "+C(e),"DEBUG","LP_OFFER")}}},error:function(){lpTag.log("Loading engagement: "+e.engagementId+"   failed.  id : ","ERROR","LP_OFFER")}})}function w(e){var n=lpTag.protocol+"//"+lpTag.csds.getDomain(se.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/";lpTag.log("_loadSiteSettings called with url: "+n,"DEBUG","LP_OFFER");Z||(te=[]);te?D(e):lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(n){if(n&&Array.isArray(n)&&!n.error){lpTag.log("_loadSiteSettings - got configuration: "+JSON.stringify(n),"DEBUG","LP_OFFER");te=n}else{lpTag.log("_loadSiteSettings - NO CONFIGURATION FOUND","DEBUG","LP_OFFER");te=[]}D(e)},error:function(){lpTag.log("Loading siteSettings: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");te=[];D(e)}})}function F(e,n){var t=lpTag.protocol+"//"+lpTag.csds.getDomain(se.ACCDN)+"/api/account/"+lpTag.site+"/configuration/setting/accountproperties/";if(!ae){ae=[];lpTag.log("_loadSiteSettingsForOffsite called with url: "+t,"DEBUG","LP_OFFER");lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){var a="le.campaign.offsite.campaignNotApplicable.redirectURL",i="le.campaign.offsite.messaging.campaignNotApplicable.redirectURL";if(t&&Array.isArray(t)&&!t.error){lpTag.log("_loadSiteSettingsForOffsite - offsite engagement got configuration: "+JSON.stringify(t),"DEBUG","LP_OFFER");ae=t;var o="chat"===n?a:i,g=$(o,ae);g?window.location.href=g:"chat"===n&&u(e)}else lpTag.log("_loadSiteSettingsForOffsite - NO CONFIGURATION FOUND","DEBUG","LP_OFFER")},error:function(){lpTag.log("Loading siteSettings for offsite: "+lpTag.site+"   failed.  id : ","ERROR","LP_OFFER");ae=null}})}}function C(e){return!(!lpTag.taglets[e.tglName]||!_(e)||e.instantiated||!de[e.confKey]&&"conversationInitiator"!==e.tglName||!Ce[e.confKey])&&te}function _(e){for(var n=L(e).taglets||[],t=!0,a=0;a<n.length;a++)if(!lpTag.taglets[n[a]]){t=!1;break}return t}function L(e){var n=e.customTaglet?"customTaglet":e.tglName;return ue[n]&&ue[n]||{}}function D(e){if(!lpTag.taglets.lpUnifiedWindow||we){lpTag.log("_execTaglet, is ready:"+C(e)+" msg: "+JSON.stringify(e),"DEBUG","LP_OFFER");var n;if(C(e)){lpTag.log("taglet "+e.tglName+" executed by rendererStub at: "+(new Date).getTime()+"(number of milliseconds since 1970/01/01)","DEBUG","LP_OFFER");e.instantiated=!0;n=h(e);n&&b(e)}}else Fe.push(e)}function h(e){var n=!0;e.engagementId&&pe.ids[e.engagementId]&&(n=G(e,e.engagementId,pe.ids));return n}function G(e,n,t){var a,i=!0;if(e.confKey!==t[n].engData.confKey||e.state!==t[n].activeState.type){a=t[n]||{};e.prevState=a.engData&&a.engData.state;a.cleanupOffer({silent:!0});s(t,[n])}else{t[n].setContextId(e.contextId);i=!1}return i}function A(e){var n=k(de[e.confKey]),t=k(e),a={configuration:n.windowConf.json.externalConfiguration,args:o(t,n),errorCallback:function(){lpTag.log("Error while opening an external channel")}};try{lpTag.taglets.lpUtil.runCallbackByObject(a.configuration,a.args,a.errorCallback)}catch(i){lpTag.log("Exception while opening an external channel: "+i.message)}}function b(e,n){var t,a,i=k(de[e.confKey]);if(e.customTaglet){a=new lpTag.taglets.baseOffer;a.init(k(e),i)}try{if(n&&n.ssoKey){e.ssoKey=n.ssoKey;e.redirect_uri=n.redirect_uri||ve}var o=k(e);lpTag.events.trigger("RENDERER_STUB","BEFORE_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a});o.skipRendererStubInstantiation||(t=lpTag.taglets[e.tglName].createInstance(o,i,a));lpTag.events.trigger("RENDERER_STUB","AFTER_CREATE_ENGAGEMENT_INSTANCE",{msg:o,conf:i,api:a,eng:t})}catch(g){lpTag.log("Failed to create engagement instance. ex="+g.message,"ERROR","LP_OFFER")}if(t&&"function"==typeof t.cleanupOffer){pe.ids[e.engagementId]=t;t.parentContainer&&(pe.divIds[t.parentContainer]=e.engagementId)}}function U(e){return e.windowConf&&e.windowConf.type===me&&e.windowConf.json.externalConfiguration?!0:!1}function P(e){e.confKey=H(e);e.customTaglet=B(e);var n="";re[e.engagementType]&&(n=re[e.engagementType]);e.tglName=e.customTaglet?e.tglName:n}function K(e){e&&"undefined"==typeof e.engagementId&&(e.engagementId=e.id)}function B(e){return e.renderingType===fe.TAGLET}function x(e,n){switch(e){case Le.WEB_TO_SMS:M(n);break;case Le.WEB:case Le.MESSAGING:J(n)}}function M(e){e.async=!0}function J(e){delete e.externalTargets[_e.SMS];e.async=!0}function W(){var e=navigator.userAgent;e=e.toLowerCase();var n=/(msie) ([\w.]+)/,t=n.exec(e);if(null!=t){var a=parseInt(t[2],10);if(10>=a)return!1}return!0}function k(e){return e&&JSON.parse(j(e))}function j(e){var n;if("function"==typeof Array.prototype.toJSON){var t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(a){Array.prototype.toJSON=t;throw a}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}function H(e){return e&&e.campaignId+"_"+e.engagementId+"_"+e.engagementRevision}function V(e){if(e&&e.campaignId&&e.engagementId&&e.engagementRevision)return!0;lpTag.log("Missing engagement parameters: campaignId, engagementId, engagementRevision; "+JSON.stringify(e),"ERROR",ge);return void 0}function q(e){if("object"==typeof e&&!e.error)return!0;lpTag.log("Error in engagement config: "+JSON.stringify(e),"ERROR",ge);return void 0}function Y(e){return!e.allowUnauthMsg||e.allowUnauthMsg&&lpTag&&lpTag.taglets&&lpTag.taglets.unAuthMessaging}function z(){we=!0;Fe.forEach(D);Fe=[]}function Q(e,n){var t;lpTag.log("_getConfiguration",e.windowId);var a=De.enableToRequestDefaultWinConfig,i="/"+e.windowId;!e.windowId&&a&&(i="-default");if(e.windowId||a){t="https://"+lpTag.csds.getDomain(se.ACCDN)+"/api/account/"+lpTag.site+"/configuration/engagement-window/window-confs"+i;lpTag.taglets.jsonp.issueCall({url:t,timeout:5e3,retries:0,success:function(t){var i;if(!e.windowId&&a&&t&&t.length){i=t.filter(function(e){return!!e.isUserDefault});t=i.length>0?i[0]:t[0]}if(t&&t.json&&!t.error){lpTag.log("_getWindowConfiguration: got configuration: "+JSON.stringify(t.name),"INFO",ge);var o=t.json;e.windowConf=e.windowConf?lpTag.taglets.lpUtil.cloneExtend(e.windowConf,o):o;Ce[e.confKey]=o}else{lpTag.log("_getWindowConfiguration: NO CONFIGURATION FOUND","INFO",ge);Ce[e.confKey]={}}n(e)},error:function(t){lpTag.log("Error in getting window config: "+JSON.stringify(t),"ERROR",ge);Ce[e.confKey]={};n(e)}})}else{lpTag.log("_getWindowConfiguration: No windowId provided, fallback to default configuration","INFO",ge);Ce[e.confKey]={};n(e)}}function X(){return ne}function Z(){return lpTag.unifiedWindow&&lpTag.unifiedWindow.staticConfig&&lpTag.unifiedWindow.staticConfig.passSiteSettings}function $(e,n){for(var t=0;t<n.length;t++)if(n[t].id===e)return n[t].propertyValue.value;return null}function ee(e){if(e&&e.constructor===Array)try{ie.convertConfig(e,De)}catch(n){lpTag.log.error("Failed to parse taglet configuration",name)}else e&&(De=ie.cloneExtend(De,e,!0))}var ne,te,ae,ie,oe="3.48.0.1-release_5096",ge="rendererStub",re={0:"peeling",1:"overlay",2:"toaster",3:"slider",5:"overlay",6:"overlay",7:"offsite"},le={0:"na",1:"online",2:"offline"},se={CHAT:"CHAT",ACCDN:"acCdnDomain",LPCDN:"leCdnDomain"},fe={INTERNAL:0,HTML:1,TAGLET:2},ce={LIVE_CHAT:0,MESSAGING:1},de={},pe={ids:{},divIds:{}},ue={peeling:{files:["peeling","UISuite"],taglets:["peeling","baseOffer","baseUIOffer"]},overlay:{files:["overlay","UISuite"],taglets:["overlay","baseOffer","baseUIOffer"]},toaster:{files:["toaster","UISuite"],taglets:["toaster","baseOffer","baseUIOffer"]},slider:{files:["slider","UISuite"],taglets:["slider","baseOffer","baseUIOffer"]},customTaglet:{files:["baseOffer"],taglets:["baseOffer"]},conversationInitiator:{taglets:["baseOffer"]}},Te={OPEN:"OPEN",SHOW:"SHOW"},Ee="eventName",me="external app",ye="LiveEngageChat_",Oe="height=650,width=330,menubar=no,resizable=no",ve="https://liveperson.net",Ne={BUSY:4,CONTENT:3,OFFLINE:2,ONLINE:1},Ie={CHAT:0,MESSAGING:1},Se={OFFLINE:0,CHAT:1},Re="3.0",we=!1,Fe=[],Ce={},_e={SMS:0},Le={WEB:"web",MESSAGING:"messaging",WEB_TO_SMS:"sms"},De={};return{_v:oe,_name:ge,init:e,onBeforeNavigation:t,getEngagementState:i,getEngagementInfo:a,getClickObject:o,click:g,getIdentity:X}}();}catch(e){lpTag.handleGeneralError("rendererStub",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_version_detector=function(){function e(e,n){window.lpTag&&lpTag.log&&lpTag.log(e,n,p)}function n(n){e(n,"ERROR")}function a(n){e(n,"INFO")}function o(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var o=e[a].value;if("string"==typeof o&&""!==o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("["==o.charAt(0)||"{"==o.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?o=JSON.parse(o):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",p)}catch(t){lpTag.log("unable to parse JSON:"+t,"ERROR",p)}n[e[a].id]=o}}else lpTag.log("_config is passed as undefined","ERROR",p)}function t(e){o(e,s)}function i(){s.sendUDE&&g({name:"lpTagVer",value:lpTag._v});s.sendSDE&&l({type:"lpTagVer",version:lpTag._v})}function l(e){window.lpTag.sdes=window.lpTag.sdes||[];lpTag.sdes.push(e)}function g(e){window.lpMTagConfig=window.lpMTagConfig||{};window.lpMTagConfig.pageVar=window.lpMTagConfig.pageVar||[];try{e.value=""+e.value;var o=encodeURIComponent(e.name)+"="+encodeURIComponent(e.value);lpMTagConfig.pageVar.push(o);a("Added variable scope:page name:"+e.name+" value:"+e.value)}catch(t){n("Exception in adding variable e="+t)}}var p="lp_version_detector",r="1.0.1",s={sendSDE:!1,sendUDE:!0};return{getVersion:function(){return r},getName:function(){return p},init:t,start:i,inspect:function(){return{conf:s}}}}();}catch(e){lpTag.handleGeneralError("lp_version_detector",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_monitoringSDK=lpTag.taglets.lp_monitoringSDK||function(){function e(e){S();be=!0;if(e)for(var n=0;n<e.length;n++){var i=e[n].value;"string"==typeof i&&""!==i&&("["===i.charAt(0)||"{"===i.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?i=JSON.parse(i):T("unable to parse JSON, no JSON object on page "));Ue[e[n].id]=i}else D("No cfg were given on init");Ue.useStorage=Ue.useStorage||!Be.isCookieEnabled();Ue.idpDomain=lpTag.getDomain("idp");Ue.acCdnDomain=lpTag.getDomain("acCdnDomain");_e=lpTag.taglets.postmessage;var r={frames:[{url:Ue.protocol+Ue.baseUrl+Ue.frameName},{url:Ue.protocol+Ue.idpDomain+Ue.frameName},{url:Ue.protocol+Ue.acCdnDomain+Ue.frameName}]};_e.configure(r);Ue.useSecureStorage=lpTag.features&&lpTag.features.getFeature(Ke);!Pe&&Ue.useSecureStorage&&t()}function t(){var e=lpTag.csds.getDomain("leCdnDomain"),t="function"==typeof lpTag.getEnv&&lpTag.getEnv(),i={debug:Ue.debug};ke=lpTag.taglets.lpSecureStorage;Ue.secureStorageLocation="https://"+e+"/le_secure_storage/"+(ke.v?ke.v+"/":"");i[$e]={env:t,site:Ue.accountId,app:$e,asyncStorageMaxRetry:15,url:Ue.secureStorageLocation,chosenStorageHandler:n};ke.configure(i);Pe=!0}function n(e){e&&e.error&&(Ue.secureStorageUnSupported=!0)}function i(e,t){D("Called startPage onSuccess: "+e);var n={type:Le.startPage,onSuccess:e,onError:t,isSync:!0};Ue.useSecureStorage?q(r.bind(this,n)):r(n)}function r(e){var t=fe(e);Ge.identities(function(n){if(n&&n.length>0){t.data.identities=n;lpTag.identitiesObjects=n}if(ye){e.rid=t.rid;e.result={error:500,message:"startPage request was already sent once"};e.status=Ve.err;E(e)}else pe(t);ye=!0;lpTag.events.trigger(Re,"SP_SENT")})}function a(e,t){var n;C("Called pageLoaded onSucess is: "+e);var i={type:Le.pageLoaded,onSuccess:e,onError:t,isSync:!0};n=fe(i);if(ye&&!ve)ae(n);else{i.rid=n.rid;i.result={error:500,message:"pageLoaded request was already sent once"};i.status=Ve.err;E(i)}ve=!0}function o(e,t){C("Called inPage onSucess is: "+e);var n={type:Le.inPage,onSuccess:e,onError:t,isSync:!0},i=fe(n);if(ye&&ve)ae(i);else{n.rid=i.rid;n.result={error:500,message:"Cannot issue inPage request when startPage and pageLoaded were not sent"};n.status=Ve.err;E(n)}}function s(e,t){C("Called send, onSuccess: "+e);var n={type:Le.updateContext,onSuccess:e,onError:t,isSync:!0};if(Ae.length>0){var i=fe(n);ae(i);return!0}return!1}function c(e){C("Called push with sdes: "+JSON.stringify(e));if("undefined"!=typeof e&&e instanceof Array)for(var t=0;t<e.length;t++)"object"==typeof e[t]&&e[t].type?Ae.push(e[t]):T("push: SDE when calling is not an Object")}function u(){var e=d();return e?e.substring(0,e.indexOf(".")):void 0}function d(){return Oe||(Ue.useStorage?we.getSessionData("LPSID-"+Ue.accountId)||null:x("LPSID-"+Ue.accountId))}function l(){return Ie||(Ue.useStorage?we.getSessionData("LPVID")||null:x("LPVID"))}function g(){return Ue.thirdPartyEnabled}function p(e,t,n){-1===e.indexOf("?")?e+="?":"&"!==e[e.length-1]&&(e+="&");t||(t="SVID");n||(n="SSID");d()&&(e+=encodeURIComponent(n)+"="+encodeURIComponent(d()));l()&&(e+="&"+encodeURIComponent(t)+"="+encodeURIComponent(l()));return e}function f(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(i){Array.prototype.toJSON=n;throw i}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}function S(){C("Called reset");Ue={thirdPartyEnabled:void 0,protocol:lpTag.protocol?lpTag.protocol+"//":0===document.location.toString().indexOf("https:")?"https://":"http://",baseUrl:lpTag.getDomain("smt"),apiPath:"/api/js",rdrPath:"/rdr",frameName:"/postmessage/postmessage.min.html",accountId:lpTag.site||{},rmSession:!1,timeout:5e4,debug:!1,shadow:!1};Ae=Ae||[];Se=[];me=void 0;je={};ye=!1;ve=!1;he=!1;Te=!1;Ce=!1;Pe=!1;De=0;Ie=void 0;Oe=void 0;clearTimeout(Ee);Ee=void 0;Ne={count:0,max:6,timeout:10}}function m(){clearTimeout(Ee);Ee=void 0;be=!1}function y(t){C("reinit called");e(t);qe=O()}function v(){return{conf:Ue,retry:Ne}}function h(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,"lp_monitoringSDK")}function T(e){h(e,"ERROR")}function C(e){h(e,"DEBUG")}function D(e){h(e,"INFO")}function I(){De++;return De}function O(){return Math.abs(Math.round(9999999999*Math.random()))}function b(e){be?lpTag.taglets.lpAjax.issueCall(e):T("Monitoring session not active, skipping request: "+JSON.stringify(e))}function P(){var e=we.getSessionData("lpTabId");if(!e){e=O();we.setSessionData("lpTabId",e)}return e}function E(e){var t,n=je[e.rid],i=e.result;i&&i.body&&(i=i.body);if(n){C("Called _monitoringCb with type= "+e.type+" ,result="+JSON.stringify(i));G(i);L();$();lpTag.events.trigger({appName:Re,eventName:"DEBUG_STATUS",data:{debug:Ue.debug},aSync:!0});lpTag.events.trigger({appName:Re,eventName:"REQUEST_COMPLETE",data:{type:e.type,status:e.status},aSync:!0});var r=k(i,n.req);if(!r){delete i.sdkConf;Ne.count=0;je[e.rid]=null;delete je[e.rid];t=z(i,e.status);N({success:t,result:i,cbs:n,response:e})}}else T("Failed on _monitoringCb, request id does not exist in map, rid="+e.rid)}function N(e){if(e.success){_(e.result);if(e.cbs.cOnSuccess)try{e.cbs.cOnSuccess(e.result)}catch(t){T("Failed calling client onSuccess, _monitoringCb e="+JSON.stringify(t.message))}}else if(e.cbs.cOnError)try{e.cbs.cOnError(e.result)}catch(t){T("Failed calling client onError, _monitoringCb e="+JSON.stringify(t.message))}e.response.type===Le.startPage?de(e.success):e.response.isSync?ue():ge()}function k(e,t){var n=e.sdkConf&&e.sdkConf.retry;if(n){Ee&&clearTimeout(Ee);isNaN(n.max)||(Ne.max=parseInt(n.max,10));isNaN(n.timeout)||(Ne.timeout=parseInt(n.timeout,10));if(Ne.count<Ne.max){D("retrying count="+Ne.count+" max="+Ne.max);Ne.count++;Ee=setTimeout(function(){t.data.rc=Ne.count;H(t);b(t)},1e3*Ne.timeout);return!0}T("exceeded max retries: "+Ne.max+", stopping")}}function _(e){var t={};if(e.messagesToVisitor&&!Ue.shadow)for(var n=0;n<e.messagesToVisitor.length;n++){t=e.messagesToVisitor[n];try{lpTag.events.trigger(t.destination,t.subject,t.content)}catch(i){T("Failed on _handleMsgs when triggering dest="+t.destination+" ,subject="+t.subject+" ,content= "+t.content+" ,e="+JSON.stringify(i.message))}}}function x(e){return Be.readCookie(e)||null}function R(e,t,n,i,r){Be.writeSessionCookie(e,t,n,i,r)}function w(e,t,n){x(e)&&Be.clearCookie(e,t,n)}function L(){Ue.rmVisitor&&U();Ue.rmSession&&A();Ue.lpVisitorId&&J(Ue.lpVisitorId);Ue.lpSessionId&&V(Ue.lpSessionId);Ue.useSecureStorage&&Pe&&!Ue.secureStorageUnSupported&&j()}function V(e){Oe=e;Ue.useStorage?we.setSessionData("LPSID-"+Ue.accountId,e):R("LPSID-"+Ue.accountId,e,void 0,"/",Ue.domain);Ue.lpSessionId=void 0}function J(e){Ie=e;Ue.useStorage?we.setSessionData("LPVID",e):R("LPVID",e,"undefined"!=typeof Ue.expiration?Ue.expiration:63072e3,"/",Ue.domain);Ue.lpVisitorId=void 0}function A(){delete Ue.lpSessionId;Oe=null;we.removeSessionData("LPSID-"+Ue.accountId);w("LPSID-"+Ue.accountId,"/",Ue.domain)}function U(){delete Ue.lpVisitorId;Ie=null;we.removeSessionData("LPVID");w("LPVID","/",Ue.domain)}function j(){(Ie||Oe)&&ke.setValue({key:Me,site:Ue.accountId,app:$e,value:{vid:Ie,sid:Oe},success:K,error:B,appName:Re,domain:Ue.secureStorageLocation})}function q(e){ke.getValue({key:Me,site:Ue.accountId,app:$e,success:F.bind(this,e),error:M.bind(this,e),appName:Re,domain:Ue.secureStorageLocation})}function F(e,t){Ie=t&&t.vid;Oe=t&&t.sid;e()}function M(e,t){B(t);e()}function K(e){D("Setting data on secureStorage.setValue in _setDataInSecureStorage. Data = "+JSON.stringify(e))}function B(e){T("Failed on secureStorage get/setValue. Error = "+JSON.stringify(e))}function $(){var e=Ue.lpLastVisit;if(e){we.setPersistentData("lpLastVisit-"+Ue.accountId,e);Ue.lpLastVisit=void 0}}function G(e){if(e.sdkConf)for(var t in e.sdkConf)Ue[t]=e.sdkConf[t]}function z(e,t){return t===Ve.ok&&!e.error}function H(e){var t=l();t&&(e.data.vid=t);var n=d();n&&(e.url=W(e.url,"sid",n));return e}function Q(e){var t;if(e.data.t===Le.startPage){t=we.getPersistentData("lpLastVisit-"+Ue.accountId);t&&(e.data.rvt=t)}}function W(e,t,n){if(e.indexOf(t)>-1){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i");return e.replace(i,"$1"+encodeURIComponent(t)+"="+encodeURIComponent(n)+"$2")}var r=encodeURIComponent(t)+"="+encodeURIComponent(n);e+=e.indexOf("?")===e.length-1?r:e.indexOf("?")>-1&&e.indexOf("?")<e.length?"&"+r:"?"+r;return e}function X(e,t){var n="https://"+Ue.acCdnDomain+"/api/account/"+lpTag.site+"/configuration/le-connectors/all-connectors";lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(t){D("_getAllConnectors - Success");e(t)},error:function(){D("_getAllConnectors - ERROR FROM SERVER");t()}})}function Y(e){var t,n="lpTag.taglets.unAuthMessaging.lpUnauthFunction",i="lpTag.taglets.unAuthMessaging";e.forEach(function(e){var r=e&&e.configuration;r&&r.jsContext!==i&&r.jsMethodName!==n&&(t={type:e.type,id:e.id})});return t}function Z(e,t){function n(e){var t,n,r=Y(e),a={};if(r){if(1===r.type){t="id_token";n="https://"+Ue.idpDomain+"/api/account/"+lpTag.site+"/app/"+r.id+"/authenticate?v=3.0"}else if(2===r.type){t="code";n="https://"+Ue.idpDomain+"/api/account/"+lpTag.site+"/app/"+r.id+"/authenticate?v=3.0"}o.forEach(function(e){var r=e;a[t]=r.tkn;var o={url:n,data:a,method:"POST",success:function(e){var t=e.body&&e.body.token;if(t){D("fetched secure identity JWT from IDP: "+r.tkn+", "+r.iss+", "+r.acr);r.tkn=t;c.push(r)}else T("no token in response from IDP for secure identity: "+r.tkn+", "+r.iss+", "+r.acr);i()},error:function(e){T("sending secure identity to IDP failed: "+r.tkn+", "+r.iss+", "+r.acr+", error: "+e);i()}};_e.issueCall(o)})}else D("undefined connector auth type")}function i(){u-=1;0>=u&&t(c)}function r(){t(c)}var a=e.filter(function(e){return!!e&&"undefined"!=typeof e.acr}),o=a.filter(function(e){return e.hasOwnProperty("tkn")}),s=a.filter(function(e){return!e.hasOwnProperty("tkn")}),c=[].concat(s),u=o.length;u>0?X(n,r):t(c)}function ee(e,t){function n(e){r-=1;a=a.concat(e);if(0>=r){try{for(var n=[],i=0;i<a.length;i++){for(var o=!0,s=0;s<n.length;s++)if(n[s].iss===a[i].iss&&n[s].acr===a[i].acr&&n[s].sub===a[i].sub&&n[s].account===a[i].account){o=!1;break}o&&n.push(a[i])}a=n}catch(c){}t(a)}}var i=e.filter(function(e){return"function"==typeof e}),r=i.length,a=[];r>0?i.forEach(function(e){try{e(n)}catch(t){n()}}):n()}function te(e){C("Called _prepareRequest with params: "+JSON.stringify(e));var t,n;if(e.data)t=e.data.sdes;else{t=Ae;Ae=[]}n=ie(e);H(n);Q(n);e.type===Le.startPage&&re(n);t=ne(t);t&&t.length>0&&(n.data.sdes=t);var i=Ge.debug();i&&(n.data.dbg=i);return n}function ne(e){var t,n=Array.isArray(e)&&e.length>0;if(n&&lpTag.hooks&&lpTag.hooks.exec){t=lpTag.hooks.exec({name:Je.BEFORE_SEND_SDE,data:{sdes:e}});e=t&&t.data&&Array.isArray(t.data.sdes)&&t.data.sdes}return e}function ie(e){return{rid:e.rid,data:{t:e.type,ts:(new Date).getTime(),pid:qe,tid:Fe},method:"POST",encoding:lpTag.charset||"UTF-8",transportOrder:["jsonp","postmessage"],success:function(t){e.result=t;e.status=Ve.ok;E(e)},error:function(t){e.result=t;e.status=Ve.err;E(e)},url:Ue.protocol+Ue.baseUrl+Ue.apiPath+"/"+Ue.accountId+"?"}}function re(e){e.timeout=Ue.timeout;var t=Ge.title();t&&(e.data.pt=t);var n=Ge.url();n&&(e.data.u=n);var i=Ge.referrer();i&&(e.data.r=i);var r=Ge.section();r&&(e.data.sec=r);lpTag.device&&lpTag.device.family&&(e.data.df=lpTag.device.family());lpTag.device&&lpTag.device.os&&(e.data.os=lpTag.device.os());var a=Ge.emtVisitorId();a&&(e.data.evid=a)}function ae(e){Se.push(e);se()}function oe(e,t){if(e.error)try{e.error(t)}catch(n){T("Failed calling client onError _callClientCbOnError e="+n)}}function se(){if(!me&&Se.length>0&&he){C("Called _processPendingSyncRequests, initiating a new sync request: "+Se.length+" inProgress: "+JSON.stringify(me));var e=Se.shift();e=H(e);me=e;try{b(e)}catch(t){T("Failed on lpAjax.issueCall in _processPendingSyncRequests. e: "+JSON.stringify(t.message));oe(e,{error:{code:"500",message:"error while issue request: "+JSON.stringify(t.message)}})}}else D("Called _processPendingSyncRequests no sync requests to initiate, pending: "+Se.length+" inProgress: "+JSON.stringify(me))}function ce(){C("Called _syncRequestFinished");me=void 0}function ue(){le()}function de(e){C("Called _initPageCb isSuccess: "+e);e&&(he=!0);le()}function le(){ce();se()}function ge(){C("Called _asyncRequestCb");Ce=!1}function pe(e){me=e;try{lpTag.taglets.lpAjax.issueCall(e)}catch(t){T("Failed on lpAjax.issueCall in _sendInitializingRequest. requestId: "+e.rid+", e="+JSON.stringify(t.message))}}function fe(e){e.rid=I();var t=te(e);je[e.rid]={req:t,cOnSuccess:e.onSuccess,cOnError:e.onError};return t}var Se,me,ye,ve,he,Te,Ce,De,Ie,Oe,be,Pe,Ee,Ne,ke,_e,xe="2.24.1",Re="lp_monitoringSDK",we=lpTag.storageMethods,Le={startPage:"sp",pageLoaded:"pl",inPage:"ip",updateContext:"uc"},Ve={err:"ERROR",ok:"OK"},Je={BEFORE_SEND_SDE:"BEFORE_SEND_SDE"},Ae=[],Ue={},je={},qe=O(),Fe=P(),Me="lpsmt",Ke="Common.LiveEngage_2_CrossDomainStorage",Be=lpTag.cookieMethods,$e="monitoringSDK";lpTag.identities=lpTag.identities||[];lpTag.identitiesObjects=lpTag.identitiesObjects||[];lpTag.identitiesSupport=!0;var Ge={referrer:function(){var e;document.referrer&&document.referrer.length>0&&(e=document.referrer);return e},title:function(){var e;document.title&&document.title.length>0&&(e=document.title);return e},url:function(){var e;lpTag.url?e=lpTag.url:window.location.href&&window.location.href.length>0&&(e=window.location.href);return e},debug:function(){var e=we.getPersistentData("lpDebug-"+Ue.accountId);if(e&&!Te){Te=!0;return!0}return!1},section:function(){var e=lpTag.section;"string"==typeof e&&e.length&&(e=[e]);return e},emtVisitorId:function(){return x(Ue.accountId+"-VID")},identities:function(e){ee(lpTag.identities,function(t){Z(t,function(t){e(t.map(function(e){var t={iss:e.iss,acr:e.acr};e.sub?t.sub=e.sub:e.tkn&&(t.tkn=e.tkn);e.account&&(t.account=e.account);return t}))})})}};return{v:xe,name:Re,inspect:v,init:e,sdes:{push:c},hooks:Je,appendCtx:p,isTPCEnabled:g,getVid:l,getSid:d,getSidPrefix:u,send:s,inPage:o,pageLoaded:a,startPage:i,stop:m,reset:S,reinit:y,stringify:f}}();}catch(e){lpTag.handleGeneralError("lp_monitoringSDK",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpajax_utils={_name:"lpajax_utils",_v:"0.1",each:function(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}},extend:function(e){this.each(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e},isEmptyObj:function(e){for(var t in e)return!1;return!0},init:function(){}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpAjax=lpTag.taglets.lpAjax||function(e){function t(){m=!0}function r(t,r){e.lpTag&&lpTag.log&&lpTag.log(t,r,f)}function a(e,t){if(g[e])r("Existing transport: "+e+" tried to register",h.DEBUG);else{g[e]=t;r("Added transport: "+e,h.DEBUG)}}function n(e){m||t();var a,n="unknown";try{a=i(e);if(a){a.issueCall(e);return!0}r("No Transport found to issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:601,error:"No Transport found to issueCall, request: "+e.url,body:"ERROR"},e.context)}catch(o){a&&a.getName&&(n=a.getName());r("Transport - "+n+" - unknown exception while issueCall",h.ERROR);c(h.ERROR,e.error,{responseCode:600,error:"Transport - "+n+" - unknown exception while issueCall: "+e.url+" e="+o,body:"ERROR"},e.context)}}function o(e){m||t();for(var r in e){var a=g[r];a&&a.configure(e[r])}}function l(e){if(e&&"object"==typeof e){e.appName=p;e.ts=(new Date).getTime();e.tags&&e.tags.constructor===Array&&e.tags.push({pageId:y});r(e,h.METRICS)}}function i(e){for(var t,r=!1,a=-1,n=0;n<e.transportOrder.length;n++)if(!r){t=u({},e);var o=g[t.transportOrder[n]];if(o&&o.isValidRequest&&o.isValidRequest(t)){r=!0;a=n}}return r?g[t.transportOrder[a]]:null}function s(e,t,r){if(null!=e){var a=Array.prototype.forEach;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,o=e.length;o>n;n++)if(n in e&&t.call(r,e[n],n,e)==={})return}else for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)&&t.call(r,e[l],l,e)==={})return}}function u(e){s(Array.prototype.slice.call(arguments,1),function(t){for(var r in t)e[r]=t[r]});return e}function c(e,t,a,n){if("function"==typeof t)try{t.call(n||null,a);t=null}catch(o){r("runCallback: Exception in execution of callback, type :"+e+" e=["+o.message+"]",h.ERROR)}else r("runCallBack: No callback, of type :"+e,h.INFO)}var d="1.1.3",f="lpAjax",p="lpTransporter",g={},m=!1,h={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO",METRICS:"METRICS"},y="lpT"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e6*Math.random());return{getVersion:function(){return d},getName:function(){return f},init:t,publishMetrics:l,issueCall:n,configureTransports:o,addTransport:a}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(e){function t(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(W,z)}catch(e){}E()}function r(e){if(e)for(var r in e)D.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(D[r]=e[r]);t()}function a(t){var r=!1;if(M&&t&&t.url){var a=!1;t.callbackName&&"string"==typeof t.callbackName&&(Q[t.callbackName]||e[t.callbackName])&&(a=!0);var n;try{n=c(t)}catch(o){k("Could not evaluate the length  of the request, e="+o,L.ERROR,"isValidRequest");r=!1}"undefined"!=typeof n&&U>n&&!a&&(r=!0)}return r}function n(e){var t;if(!a(e)){k("URL request was too long or static callback name already exists, url: "+t,L.ERROR,"issueCall");T();e&&e.error&&F(L.ERROR,e.error,s(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}e=l(e);e.callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=q+i();t=e.url+(e.url.indexOf("?")>-1?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+d(e.data));e.query&&(t+="&"+d(e.query));e.callUrl=t;if(p(e)){I(e);g()}else k("URL request was too long and was not sent, url: "+t,L.ERROR,"issueCall");return!0}function o(){var e={};for(var t in D)D.hasOwnProperty(t)&&(e[t]=D[t]);return e}function l(e){if("string"==typeof e){var t=e;e={url:t}}if(!e.url)return!1;e.encoding=e.encoding||D.encoding;e.callback=e.callback||D.callback;e.retries="number"==typeof e.retries?e.retries:D.retries;e.timeout=e.timeout?e.timeout:D.timeout;return e}function i(e){var t,r=99999,a="x";t=e?r+a+r:Math.round(Math.random()*r)+a+Math.round(Math.random()*r);return t}function s(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function u(){return"scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random())}function c(e){var t=H;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||D.callback).length+e.url.length+t+d(e.data).length+d(e.query).length}function d(e){var t="";if("string"==typeof e)t+=e;else{var r=!0;for(var a in e){var n;"object"==typeof e[a]?n=f(e[a]):"function"!=typeof e[a]&&(n=e[a]);if("undefined"!=typeof n){r||(t+="&");t+=encodeURIComponent(a)+"="+encodeURIComponent(n);r=!1}}}return t}function f(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function p(t){var r,a=!1,n=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);r=n.exec(0===t.callUrl.indexOf("http")?t.callUrl:e.location.href);if(r&&r.length>=3&&""!==r[2]){var o=r[2].toLowerCase();t.domainMatch=o;_[o]=_[o]||[];_[o].inFlight=_[o].inFlight||0;_[o].push(t);a=!0;G+=1;k("buffered URL: "+t.callUrl,L.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else k("NO MATCH for URL: "+t.callUrl,L.ERROR,"lpTag.taglets.jsonp.bufferRequest");return a}function g(){var e;for(var t in _)if(_.hasOwnProperty(t)){e=_[t];for(var r=!1;!r&&e.inFlight<6&&e.length>0;){var a=e.shift();if(a){k("Sent URL: "+a.callUrl,L.DEBUG,"lpTag.taglets.jsonp.sendRequests");a.scriptId=h(a.callUrl,a.encoding,a.callbackName);a.startTime=(new Date).getTime();y(t,a.callbackName,a.timeout);G-=1}else r=!0}}e=null}function m(){clearTimeout(A);A=null;var t=new Date;for(var r in Q)if(Q.hasOwnProperty(r)&&Q[r].launchTime){var a=t-Q[r].launchTime;(Q[r].loadTime||a>Q[r].timeout)&&e[r].apply(null,[s(408,{message:"Request timed out",name:"timeout"}),!0])}P>0&&(A=setTimeout(m,1e3))}function h(t,r,a){var n=u(),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",r);o.onload=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};e.addEventListener?o.onerror=function(){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){Q[a]&&(Q[a].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",t);o.setAttribute("id",n);document.getElementsByTagName("head")[0].appendChild(o);A||(A=setTimeout(m,1e3));o=null;return n}function y(e,t,r){_[e].inFlight=_[e].inFlight+1;Q[t]={launchTime:new Date,timeout:r};P+=1;S+=1}function T(){B+=1}function R(e){var t=document.getElementById(e);if(t)try{t.parentNode.removeChild(t)}catch(r){k("error when removing script",L.ERROR,"removeScript")}}function v(e){_[e].inFlight=_[e].inFlight-1;P-=1}function O(e,t,r){N(t.startTime,t.url,r);R(t.scriptId);v(t.domainMatch);x(t.callbackName,r);if(r){if(t.callbackName){t.callbackName=null;delete t.callbackName}w(e,t)}else{C(t);F("callback",t.success,e,t.context);t=null;g()}}function b(){var e;if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&V.length>0){e={tags:[{transport:W}],metrics:V};lpTag.taglets.lpAjax.publishMetrics(e);V.length=0}E()}function E(){j&&clearTimeout(j);j=setTimeout(b,D.metricsTimeout)}function N(e,t,r){var a,n;if(e){n=(new Date).getTime();a=n-e;V.push({rd:a,ts:e,url:t,method:"GET",statusCode:r?400:200});V.length>=D.metricsCount&&b()}}function w(e,t){J+=1;if(t.retries>0){t.retries=t.retries-1;n(t)}else{C(t);F(L.ERROR,t.error,e||s(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;g()}}function C(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],r=0;r<t.length;r++)if(e.hasOwnProperty(t[r])){e[t[r]]=null;delete e[t[r]]}}function F(e,t,r,a){if("function"==typeof t)try{t.call(a||null,r);t=null}catch(n){k("Exception in execution of callback, type :"+e+" e=["+n.message+"]",L.ERROR,"runCallback")}else k("No callback, of type :"+e,L.INFO,"runCallback")}function x(t,r){Q[t]=null;delete Q[t];if(r===!0)e[t]=function(){e[t]=null;try{delete e[t]}catch(r){}};else{e[t]=null;try{delete e[t]}catch(a){}}}function I(t){if(Q[t.callbackName]){T();w(s(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),t)}else e[t.callbackName]=function(e,r){O(e,t,r)}}function k(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,W)}}var A,j,D={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},L={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},M=!0,U=2083,q="lpCb",_={},S=0,G=0,P=0,B=0,J=0,V=[],Q={},H=i(!0).length,K="1.1.7",W="jsonp",z={init:t,configure:r,issueCall:n,isValidRequest:a,getVersion:function(){return K},getName:function(){return W},getDefaults:o,inspect:function(){return{name:W,version:K,callsMade:S,errorsFound:J,pending:P,buffered:G,refused:B,defaults:o()}}};t();return z}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.postmessage=lpTag.taglets.postmessage||function(e){function t(e){var t=0===location.protocol.indexOf("https");if(e){if(e.frames){e.frames=e.frames.constructor===Array?e.frames:[e.frames];for(var r=0;r<e.frames.length;r++)g(e.frames[r],t)}if(e.defaults)for(var a in e.defaults)Te.hasOwnProperty(a)&&e.defaults.hasOwnProperty(a)&&(Te[a]=e.defaults[a])}re=!0}function r(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(te,Oe)}catch(e){}}function a(t){var r=!1;if(e.postMessage&&e.JSON&&t&&t.success&&(t.domain&&t.validation||t.url)){t.domain=t.domain||p(t.url);(ae[t.domain]||ue[t.domain])&&(r=!0)}return r}function n(e){var t=!1;if(re&&a(e))if(ae[e.domain])if(ae[e.domain].validated!==ve.PENDING||e.validation){t=L(e);t?v(e.domain):ne[e.callId].timeout=0}else t=O(e.domain,e);else{Y("Adding iFrame to DOM - first request: "+e.domain,fe.INFO,"issueCall");t=O(e.domain,e);m(ue[e.domain]);delete ue[e.domain]}else t=D(e.domain,e.error,e.context);return t}function o(e){return e&&ae[e]?{url:ae[e].url,validated:ae[e].validated,requestCount:ae[e].requestCount,defaults:S(ae[e].defaults),started:ae[e].validated===ve.VALIDATED}:{}}function l(){var e={};for(var t in ae)ae.hasOwnProperty(t)&&(e[t]=o(t));return e}function i(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function s(e,t){return{callId:e,responseType:t.responseType,responseCode:t.responseCode,error:{message:t.message,id:t.responseCode,name:t.name}}}function u(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)}function c(){if(document.body){ce=!0;d()}else setTimeout(c,5)}function d(){for(;de.length>0;)try{de.shift().call(null)}catch(e){Y("Unable to execute queued callbacks for window interactive state: "+e,fe.ERROR,"_attachPendingIFrames")}}function f(e){return e+"_"+Math.floor(1e5*Math.random())+"_"+Math.floor(1e5*Math.random())}function p(e){var t,r=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi),a=null;if(0!==e.indexOf("http"))return location.protocol+"//"+location.host;t=r.exec(e);t&&t.length>=3&&""!==t[2]&&(a=t[1].toLowerCase()+t[2].toLowerCase());return a}function g(e,t){var r,a,n=!1;if(!e||!e.url||"string"!=typeof e.url){Y("iFrame configuration empty or missing url parameter",fe.ERROR,"_queueFrame");return n}r=p(e.url);a=0===e.url.toLowerCase().indexOf("https");if(!(ae[r]||ue[r]||t&&a!==t)){ue[r]=e;n=!0}return n}function m(e){var t=p(e.url);if(ae[t])return b(t,e.callback||e.success,e.context);var r=f("fr");ae[t]={elem:E(r),url:e.url,validated:ve.PENDING,defaults:e.defaults||{},delayLoad:isNaN(e.delayLoad)?0:e.delayLoad,requestCount:0,success:e.callback||e.success,error:e.error,maxReloadRetries:e.maxReloadRetries||3,reloadInterval:1e3*e.reloadInterval||3e4};setTimeout(function(){y(e.url,t)},ae[t].delayLoad);Y("iFrame Queued to load "+t,fe.INFO,"_addFrame");return ve.PENDING}function h(e){var t=p(e.url);ue[t]={url:e.url,defaults:e.defaults||{},delayLoad:e.delayLoad,success:e.success,error:e.error,maxReloadRetries:e.maxReloadRetries,reloadInterval:e.reloadInterval/1e3}}function y(e,t){ce?T(e,t):de.push(function(){T(e,t)})}function T(e,t){ae[t].loadCallback=ae[t].loadCallback||R(t);V(ae[t].elem,e);i(ae[t].elem,"load",ae[t].loadCallback);ae[t].iFrameOnloadTimeout=setTimeout(ae[t].loadCallback,Re);ae[t].attachTime=(new Date).getTime();document.body.appendChild(ae[t].elem)}function R(e){return function(t){if(ae[e].iFrameOnloadTimeout){clearTimeout(ae[e].iFrameOnloadTimeout);delete ae[e].iFrameOnloadTimeout}ae[e].loadTime=(new Date).getTime()-ae[e].attachTime;C(e,t)}}function v(e){le+=1;se+=1;ae[e].requestCount=ae[e].requestCount+1}function O(e,t){oe[e]=oe[e]||[];oe[e].push(t);return!0}function b(e,t,r){var a=o(e);W(t,r,a);return ae[e].validated}function E(e){var t=document.createElement("IFRAME");t.setAttribute("id",e);t.setAttribute("name",e);t.setAttribute("tabindex","-1");t.setAttribute("aria-hidden","true");t.setAttribute("title","");t.setAttribute("role","presentation");t.style.width="0px";t.style.height="0px";t.style.position="absolute";t.style.top="-1000px";t.style.left="-1000px";t.style.display="none";return t}function N(e,t,r,a,n,o){var l=!1;if(e&&t&&"function"==typeof t){ne[e]={success:t,error:r,progress:a,ctx:n,launchTime:new Date,timeout:isNaN(o)?Te.timeout:o+1e3};l=!0}return l}function w(e){if(ne[e]){ne[e]=null;delete ne[e];return!0}return!1}function C(e,t){Y("onLoad validation called "+e,fe.INFO,"_validateFrame");var r=function(t){F(t,e)};t&&t.error?F(t,e):setTimeout(function(){n({domain:e,success:r,error:r,validation:!0,timeout:100,retries:-1,defaults:ae[e].defaults})},10);return!0}function F(e,t){var r,a=ae[t];Y("running validation of domain "+t,fe.INFO,"_validateFrameCallback");if(a){ae[t].validated=e&&e.error?ve.FAILED:ve.VALIDATED;r=ae[t].validated===ve.VALIDATED;r?x(t,e):ae[t].reloadObj&&ae[t].reloadObj.retriesLeft>0?k(t):I(t)}a=null;return r}function x(e,t){var r;Y("FrameLoaded "+e,fe.INFO,"_runFrameValidated");r=S(he);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);W(ae[e].success,ae[e].context,r);H(e);A(e,!0)}function I(e){Y("iFrame is a teapot "+e,fe.ERROR,"_runFrameFailedToLoad");if(ae[e].error){var t=s(0,ye);t.domain=e;W(ae[e].error,ae[e].context,t)}j(e);A(e,!1)}function k(e){Y("Retry loading domain: "+e,"info","_runReloadAttempt");A(e,!1);P(e)}function A(e,t){Y("Running buffer queue : "+e+" loaded: "+t,fe.INFO,"_runQueuedRequests");if(oe[e]&&oe[e].length>0){do{var r=oe[e].shift();t?n(r):W(r.error,r.context,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"})}while(oe[e].length>0);oe[e]=null;delete oe[e]}}function j(e){Y("Cleaning up failed iFrame: "+e,fe.INFO,"_cleanupIFrame");if(ae[e]){u(ae[e].elem,"load",ae[e].loadCallback);ae[e].elem.parentNode.removeChild(ae[e].elem);var t=S(ye);t.domain=e;t.url=ae[e].url;W(ae[e].error,ae[e].context,t);h(ae[e]);ae[e]=null;delete ae[e]}}function D(e,t,r){Y("Frame not found for domain: "+e,fe.ERROR,"_noFrameFound");W(t,{responseCode:600,error:"Transport - postmessage - unable to run request: "+e,body:"ERROR"},r);return!1}function L(e){var t,r=!1;e=U(e);t=S(e);try{t=M(t)}catch(a){Y("Error trying to _stringify message",fe.ERROR,"sendMessageToFrame");return!1}Y("sending msg to domain "+e.domain,fe.DEBUG,"sendMessageToFrame");var n;isNaN(e.timeout)||isNaN(e.retries)||(n=e.timeout*(e.retries+1)+2e3);N(e.callId,e.success,e.error,e.progress,e.context,n);try{r=q(e.domain,t);$=setTimeout(_,1e3)}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"sendMessageToFrame");r=!1}return r}function M(e){var t;if("function"==typeof Array.prototype.toJSON){var r=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(a){Array.prototype.toJSON=r;throw a}Array.prototype.toJSON=r}else t=JSON.stringify(e);return t}function U(t){var r=ae[t.domain]&&ae[t.domain].defaults;t.callId=f("call");t.returnDomain=pe;"undefined"==typeof t.timeout&&(t.timeout=r&&r.timeout||Te.timeout);"undefined"==typeof t.retries&&(t.retries=r&&"undefined"!=typeof r.retries?r.retries:Te.retries);t.progress&&(t.fireProgress=!0);t.headers=t.headers||{};t.headers["LP-URL"]=e.location.href;return t}function q(e,t){var r=!1;try{ae[e].elem.contentWindow.postMessage(t,e);r=!0}catch(a){Y("Error trying to send message: "+a,fe.ERROR,"_postTheMessage")}return r}function _(){$&&clearTimeout($);$=null;var e=new Date,t=0,r=[];for(var a in ne)if(ne.hasOwnProperty(a)&&ne[a].launchTime){var n=e-ne[a].launchTime;n>ne[a].timeout?r.push(a):t+=1}if(r.length){Y("Checking errors found "+r.length+" timeout callbacks to call",fe.DEBUG,"_checkForErrors");for(var o=0;o<r.length;o++)G(s(r[o],me))}t>0&&($=setTimeout(_,1e3));return!0}function S(e){var t=e;try{t=JSON.parse(M(e))}catch(r){}return t}function G(e,t){var r,a=ne[e.callId],n=e.responseType,o=!1;if(e.callId&&ne[e.callId]||e.responseType===ge.reloading||e.responseType===ge.stats)try{switch(n){case ge.completed:r=a.success;o=!0;break;case ge.error:r=a.error;o=!0;ie+=1;break;case ge.progress:r=a.progress;break;case ge.reloading:e=t;r=P;break;case ge.stats:r=Z;e=e.rawData}if(o){w(e.callId);K(e);se=se>=0?0:se-1}r&&"function"==typeof r&&W(r,a&&a.ctx||null,e);r=null;a=null}catch(l){Y("Error in executing callback: "+l,fe.ERROR,"_executeMessageCallback");return!1}return!0}function P(e){Y("Got reload request from "+e,fe.INFO,"_handleReload");ae[e].validated=ve.PENDING;if(!ae[e].reloadObj){Y("Creating reloadObj"+e,fe.DEBUG,"_handleReload");ae[e].reloadObj=Q(e)}B(e)}function B(e){Y("Reload try for domain "+e+" ,retries left "+ae[e].reloadObj.retriesLeft,fe.INFO,"_reloadIFrame");ae[e].reloadObj.retriesLeft=ae[e].reloadObj.retriesLeft-1;ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);if(ae[e].reloadObj.retry)ae[e].reloadObj.setLocationTimeout=setTimeout(J(e),ae[e].reloadInterval);else{ae[e].reloadObj.retry=!0;J(e)()}}function J(e){return function(){ae[e].iFrameOnloadTimeout=setTimeout(function(){C(e,{error:{code:404,message:"Frame did not trigger load"}})},Re);V(ae[e].elem,ae[e].url)}}function V(e,t){t+=t.indexOf("?")>0?"&bust=":"?bust=";t+=(new Date).getTime();t+="&loc="+encodeURIComponent(location.protocol+"//"+location.host);Y("Setting iFrame to URL: "+t,fe.INFO,"_setIFrameLocation");e.setAttribute("src",t)}function Q(e){Y("Creating reload object "+e,fe.INFO,"_createReloadObject");var t=ae[e].maxReloadRetries;return{retriesLeft:t}}function H(e){Y("Cleaning up reload object for this instance"+e,fe.INFO,"_cleanUpReloadObject");if(ae[e].reloadObj){ae[e].reloadObj.setLocationTimeout&&clearTimeout(ae[e].reloadObj.setLocationTimeout);ae[e].reloadObj=null;delete ae[e].reloadObj}}function K(e){for(var t=["callId","responseType"],r=0;r<t.length;r++){e[t[r]]=null;delete e[t[r]]}}function W(e,t,r){if(e&&"function"==typeof e)try{e.call(t||null,r)}catch(a){Y("Error in executing callback: "+a,fe.ERROR,"runCallback")}}function z(e){var t,r;try{r=e.origin;if(!ae[r])return;t=X(e.data);t.body=X(t.body)}catch(a){t=null;Y("Error in handling message from frame:"+a+" origin: "+r,fe.ERROR,"_handleMessage")}t&&"object"==typeof t&&G(t,r)}function X(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(r){Y("Error in parsing string: "+e,fe.DEBUG,"_parseJSONString")}return t}function Y(t,r,a){if(e.lpTag&&lpTag.log){"string"==typeof t&&a&&(t=a+": "+t);lpTag.log(t,r,te)}}function Z(e){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics){e.tags&&e.tags.constructor===Array&&e.tags.push({transport:te});lpTag.taglets.lpAjax.publishMetrics(e)}}var $,ee="1.1.8",te="postmessage",re=!0,ae={},ne={},oe={},le=0,ie=0,se=0,ue={},ce=!1,de=[],fe={DEBUG:"DEBUG",INFO:"INFO",ERROR:"ERROR"},pe=p(document.location.href),ge={progress:"progressLoad",completed:"completeLoad",success:"success",error:"errorLoad",reloading:"reloading",stats:"statData"},me={responseType:ge.error,responseCode:404,message:"Request timed out on parent postMessage layer",name:"TIMEOUT"},he={responseType:ge.success,responseCode:200,message:"iFrame has successfully loaded",name:"OK"},ye={responseType:ge.error,responseCode:418,message:"This iFrame is a teapot, not very useful for communication but lovely for earl grey",name:"TEAPOT"},Te={timeout:6e4,metricsCount:1e3},Re=1e4,ve={VALIDATED:"valid",PENDING:"pending",FAILED:"failed"};c();i(e,"message",z);var Oe={v:ee,name:te,init:r,issueCall:n,isValidRequest:a,getVersion:function(){return ee},getName:function(){return te},configure:t,getFrameData:o,inspect:function(){return{name:te,version:ee,callsMade:le,errorsFound:ie,pending:se,defaults:Te,iFrameList:S(ue),activeFrames:l()}}};r();return Oe}(window);window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lpTransporter=lpTag.taglets.lpTransporter||function(){function e(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,r)}function t(){for(var t=0;t<n.taglets.length;t++){var r=lpTag.taglets[n.taglets[t]];try{r.init();e("Called init on taglet: "+n.taglets[t],"DEBUG")}catch(a){e("Error init taglet:"+n.taglets[t]+"  e="+a,"ERROR")}}for(var o=0;t<n.taglets.length;o++){var l=lpTag.taglets[n.taglets[o]];try{"function"==typeof l.start&&l.start();e("Called start on taglet: "+n.taglets[o],"DEBUG")}catch(a){e("Error start taglet: "+n.taglets[o]+"e= "+a,"ERROR")}}}var r="lpTransporter",a="1.1.0",n={taglets:["lpAjax","lpajax_utils","jsonp","postmessage"]};return{v:a,name:r,init:t}}();}catch(e){lpTag.handleGeneralError("lpTransporter",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function e(e,n){if("function"==typeof[].indexOf&&"function"==typeof e.indexOf)return e.indexOf(n);if(e.constructor===Array)for(var t=0;t<e.length;t++)if(e[t]===n)return t;return-1}function n(e){return"string"!=typeof e?e:e.trim?e.trim():e.replace(/^\s+|\s+$/gm,"")}function t(e){if("string"!=typeof e)return e;var t=n(e);return t.toLowerCase()}function o(e,n){var t=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),o=t.exec(e),i=null;if(o&&o.length>=3&&""!==o[2]){i=o[2].toLowerCase();n&&(i=o[1]+i)}return i}function i(e){var n,t,o={};if("string"==typeof e){n=e.substr(1).split("&");for(var i=0;i<n.length;i++)if(n[i].indexOf("=")>-0){t=n[i].split("=");2==t.length&&(o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]))}}return o}function a(e){e=""+e;var n,t,i=null,a={top:null,country:null};e=o(e);n=e.split(".");if(n.length<3)return e;for(var l=n.length-1,c=l;c>-1;c--){s(n[c],a,c);if(null!==a.country&&null!==a.top)break}if(null!==a.top||null!==a.country){i=a.top;(null===i||null!==a.country&&a.country<i&&i-1===a.country)&&(i=a.country);t=i>0?i-1:i;return r(n.slice(t))}return e}function r(e){return e.join(".")}function s(e,n,t){e=""+e;null===n.top&&(W.topLevelDomain[e]||W.customTopLevelDomain[e])?n.top=t:null===n.country&&W.countryTopLevelDomain[e]&&(n.country=t)}function l(e,n){var t=/(\?|&|\/|\\)$/;if("string"==typeof e&&e.length>0){t.test(e)&&(e=e.substr(0,e.length-1));if(Array.isArray(n))return c(e,n);if(m(n))return d(e,n);if("object"==typeof n)return u(e,n)}return e}function c(e,n){for(var t,o=e,i=0;i<n.length;i++){t=n[i];if(!o||"object"!=typeof t)break;o=d(o,t)}return o}function d(e,n){return g(e,n)?p(e,n.key,n.value):e}function u(e,n){for(var t in n)n.hasOwnProperty(t)&&(e=p(e,t,n[t]));return e}function p(e,n,t){var o=new RegExp("([?&])"+n+"=.*?(&|$)","ig"),i=-1===e.indexOf("?")?"?":"&";if("object"==typeof t)try{t=JSON.stringify(t)}catch(a){}return e.match(o)?e.replace(o,"$1"+n+"="+t+"$2"):e+i+n+"="+t}function g(e,n){return"string"==typeof e&&e.length>0&&m(n)}function m(e){var n=e&&e.key,t=e&&e.value;return e&&"string"==typeof n&&n.length>0&&("number"==typeof t||"string"==typeof t&&t.length>0)}function f(e,n,t){var o;if(!e||"object"!=typeof e)return e;if(!n)return v(e);o=n||e.constructor()||{};for(var i in e)o[i]!==e[i]&&e.hasOwnProperty(i)&&(o[i]=t?f(e[i],void 0,t):e[i]);return o}function v(e){try{return JSON.parse(E(e))}catch(n){lpTag.log("unable to clone object:"+JSON.stringify(n),"ERROR",M);return}}function h(e,n){if("undefined"!=typeof n){if(e)for(var t=0;t<e.length;t++){var o=e[t].value;if("string"==typeof o&&""!==o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("["==o.charAt(0)||"{"==o.charAt(0))try{o=JSON.parse(o)}catch(i){lpTag.log("unable to parse JSON:"+JSON.stringify(i),"ERROR",M)}n[e[t].id]=o}}else lpTag.log("_config is passed as undefined","ERROR",M)}function w(e,n){if(e&&"string"==typeof e){n=n||{};var t,o=n.document||window.document,i=n.id;if("undefined"!=typeof i){t=o.getElementById(i)||o.createElement("style");t.id=i}else t=o.createElement("style");t.type="text/css";o.getElementsByTagName("head")[0].appendChild(t);t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));return t}}function b(e){var n={};for(var t in e)e.hasOwnProperty(t)&&(n[t]=t);return n}function k(e,n){function t(){i.body?y(e,o):setTimeout(t,50)}n=n||{};var o=n.context,i=n.document||window.document;t()}function E(e){var n,t;if("function"==typeof Array.prototype.toJSON){t=Array.prototype.toJSON;delete Array.prototype.toJSON;try{n=JSON.stringify(e)}catch(o){Array.prototype.toJSON=t;throw o}Array.prototype.toJSON=t}else n=JSON.stringify(e);return n}function C(){var e="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var n=16*Math.random()|0,t="t"==e?n:3&n|8;return t.toString(16)});return e+"-"+Math.floor(1e5*Math.random())}function y(e,n){n=n||window;if("function"==typeof e){var t=Array.prototype.slice.call(arguments,2);try{return e.apply(n,t)}catch(o){lpTag.log("Failed to execute callback exc= "+o.message,"ERROR",M)}}}function S(e,n,t){if("function"==typeof A){e=e||{};var o=A(window,e.jsContext),i=A(window,e.jsMethodName);if("function"!=typeof i){lpTag.log("runCallbackByObject err=function "+e.jsMethodName+" was not found","ERROR","utils");t()}else{lpTag.log("runCallbackByObject calling function "+e.jsMethodName,"DEBUG","utils");i.call(o,n)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function _(e,n,t){e&&n&&t&&(e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent("on"+n,t))}function T(e,n,t){e&&n&&t&&(e.removeEventListener?e.removeEventListener(n,t,!1):e.detachEvent("on"+n,t))}function z(n,t,o){var i,a;n="string"==typeof n?n:"";i=n.split(" ");a=t&&t.constructor===Array?t:"string"==typeof t?[t]:[];o=o&&o.constructor===Array?o:"string"==typeof o?[o]:[];for(var r=0;r<i.length;r++)e(o,i[r])<0&&e(a,i[r])<0&&a.push(i[r]);return a.join(" ").replace(/$\s/gi,"")}function x(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function A(e,n,t){var o,i=e;if("string"==typeof n){o=n.split(".");for(var a=0;a<o.length;a++){if("undefined"==typeof i||null===i||"undefined"==typeof i[o[a]]||null===i[o[a]]){i="undefined"!=typeof t?t:void 0;break}i=i[o[a]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return i}function O(e,n){if(e.className.indexOf(n)<0){e.className=[e.className,n].join(" ");e.className=N(e.className)}}function I(e,n){e.className=e.className.replace(new RegExp(n,"g"),"");e.className=N(e.className)}function N(e){return n(e.replace(/\s\s*/g," "))}function R(e,n,t){var o={};if(e&&"string"==typeof e){t&&(e=decodeURIComponent(e));for(var i,a=e.split(n),r=0;r<a.length;r++){i=a[r].split("=");o[i[0]]=i[1]}}return o}function j(e){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return e?e.replace(/[&<>"'`=\/]/g,function(e){return n[e]}):void 0}var M="Utils",W={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},L={delimiter:"|",set:function(e,n,t){if("string"==typeof e&&n.join&&"function"==typeof n.join){var o=encodeURIComponent(e)+"="+encodeURIComponent(n.join(this.delimiter))+";path=/";"undefined"!=typeof t&&(o+=";domain="+t);document.cookie=o;return!0}},get:function(e){var n="\\$&";if("string"==typeof e){var t=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,n)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof t){var o=decodeURIComponent(t);if(o)return o.split(this.delimiter)}}},remove:function(e,n){if("string"==typeof e){this.set(e,["null"],n);return!0}}};return{indexOf:e,trim:n,trimAndLower:t,getDomain:o,getURLParams:i,getParentDomain:a,addQueryParams:l,cloneExtend:f,clone:v,convertConfig:h,addStyleTag:w,objectKeys:b,waitForBody:k,stringify:E,cookieActions:L,getUID:C,runCallback:y,runCallbackByObject:S,registerEvent:_,unregisterEvent:T,buildClassString:z,isEmpty:x,getPropertyFromObject:A,addClass:O,removeClass:I,mapString:R,escapeHtml:j}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.AccountSettingsManager=lpTag.unifiedWindow.AccountSettingsManager||function(e){function n(e){if("object"==typeof e&&e.accountId&&e.domain){o=e.accountId;i=e.domain}}function t(e){var n="https://"+i+"/api/account/"+o+"/configuration/setting/accountproperties/";lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(n){n&&Array.isArray(n)&&!n.error?a.runCallback(e,null,n):a.runCallback(e,null,[])},error:function(){a.runCallback(e,null,[])}})}var o,i,a=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil);n(e);return{getSettings:t}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.AppConfigurationManager=lpTag.unifiedWindow.AppConfigurationManager||function(e){function n(e,n,t){var i=o(e,n,!1);i.smsClientLaunch=!0;i.smsConf={smsAPI:t.smsAPI};i.smsConf.launchProperties={phoneNumber:t.launchProperties.phoneNumber,message:t.launchProperties.message};i.resource="/taptotext.html";return S(i,e,n)}function t(e,n,t){var i=o(e,n,t);return S(i,e,n)}function o(e,n,t){var o={accountId:e.subscription&&e.subscription.conversationowneraccountid||n.accountId,env:n.env,clickedChannel:n.clickedChannel};n.connectorsSfConfig&&(o.connectorsSfConfig="object"==typeof n.connectorsSfConfig);t?C(o,e,n):y(o,e,n);return o}function i(e){return e.connector&&0===e.connector.type}function a(){return"undefined"!=typeof R.taglets.lpUnifiedWindowRecaptcha}function r(e,n){var t=M&&M.lpVersion;return t&&e.debug&&e.env!==P?"/"+t:n?"/"+n:""}function s(e){N.isEmpty(Y)&&g(e);return Y}function l(e){return e.channelPriority||q}function c(e,n){return e.async?e.allowUnauthMsg?H:G:n?K:F}function d(e){switch(e){case F:case K:return R.unifiedWindow.consts.engagementTypes.CHAT_ENGAGEMENT;case G:case H:return R.unifiedWindow.consts.engagementTypes.MESSAGING_ENGAGEMENT}}function u(e){var n;R.features&&"function"==typeof R.features.getFeature&&(n=R.features.getFeature(e));return n}function p(e,n){var t=a()?V:U;return window.open(n,e.target+"POP",t)}function g(e){var n=l(e);n.forEach(function(n){Y[n]={sessionKey:n,sessionTimeout:m(n,e)}})}function m(e,n){var t;switch(e){case F:case K:t=f(n,"chatSessionTimeout");break;case H:t=f(n,"unauthenticatedMessagingSessionTimeout");break;case G:t=f(n,"messagingSessionTimeout")}return t}function f(e,n){var t,o=j.getDeviceFamilyName().toLowerCase();t=e&&e[n]&&e[n][o]?e[n][o]:v();return t}function v(){var e;e=j.isMobile()?B.MOBILE:j.isTablet()?B.TABLET:B.DESKTOP;return e}function h(e){M&&M.lpDebug&&(e.lpDebug=M.lpDebug);M&&M.lpVersion&&(e.lpVersion=M.lpVersion);return e}function w(){N=e.utils;R=e.lpTag;j=e.deviceDetector;M=e.queryParams}function b(e){var n=document.createElement("a");n.href=e;return{search:n.search,port:n.port,protocol:n.protocol,hostname:n.hostname,pathname:E(n.pathname)}}function k(e){return b(e)}function E(e){return 0===e.indexOf("/")?e:"/"+e}function C(e,n,t){e.poppedOut=!0;e.sessionId=t.sessionId;e.supportBlockCCPattern=t.supportBlockCCPattern;e.scp=t.scp;e.engConf={lewid:n.lewid}}function y(e,n,t){var o=n.connector,r=N.getPropertyFromObject(o,"configuration.acrValues");"undefined"!=typeof r&&delete o.configuration.acrValues;if(n.connector&&n.connector.configuration&&!n.async){o=N.clone(n.connector);o.configuration.authorizationEndpoint&&(o.configuration.authorizationEndpoint=encodeURIComponent(o.configuration.authorizationEndpoint));o.configuration.tokenEndpoint&&(o.configuration.tokenEndpoint=encodeURIComponent(o.configuration.tokenEndpoint))}e.external=!0;e.chatSessionTimeout=t.chatSessionTimeout;e.supportBlockCCPattern=t.supportBlockCCPattern;e.scp=t.scp;e.secureStorageType=t.secureStorageType;e.vars=t.vars;e.originationUrl=t.originationUrl;e.engConf={async:n.async,scid:n.scid,cid:n.cid,eid:n.eid,lang:n.lang,svid:n.svid,ssid:n.ssid,lewid:n.lewid,connector:o,allowUnauthMsg:n.allowUnauthMsg,availabilityPolicy:n.availabilityPolicy,subscription:n.subscription};n.isOffline&&(e.engConf.isOffline=!0);a()&&(e.useRecaptcha=!0);t.sessionTimeout&&(e.sessionTimeout=t.sessionTimeout);t.chatReconnectTimeout&&(e.chatReconnectTimeout=t.chatReconnectTimeout);i(n)&&(e.engConf.authConnId=n.connector.id);n.skill&&(e.engConf.skill=n.skill);n.skillId&&(e.engConf.skillId=n.skillId);n.preChatLines&&(e.engConf.preChatLines=I(n.preChatLines));if(n.subscription){e.engConf.subscription=n.subscription;if(n.subscription.conversationownerSettings)try{var s=JSON.parse(n.subscription.conversationownerSettings);n.subscription.conversationownerSettings=JSON.stringify(s.filter(function(e){return e.id.indexOf("account.profile.")>=0}))}catch(l){n.subscription.conversationownerSettings="[]"}}n.externalTargets&&(e.engConf.externalTargets=n.externalTargets);e.engConf.connector&&e.engConf.connector.configuration&&delete e.engConf.connector.configuration.jwtPublicKey}function S(e,n,t){var o="";n.connector?n.connector.type===W?o=T(e,n,t):(n.connector.type===L||n.connector.type===D)&&(o=_(e,n,t)):o=z(e,t);return o}function _(e,n,t){var o,i,a;n.connector=n.connector||{};i=t.useOAuth2Standard||n.connector.configuration&&n.connector.configuration.rfcCompliance;if(O(n.connector)){o=n.connector.type===L?i?"id_token":"token":"code";var r=x(t,!0,e),s=A(e,!0,i),l={response_type:o};"undefined"!=typeof n.connector.configuration.clientId&&(l.client_id=n.connector.configuration.clientId);if(i){if(n&&n.connector&&n.connector.configuration&&n.connector.configuration.rfcCompliance){var c=b(n.connector.configuration.authorizationEndpoint),d=R.taglets.lpUtil.getURLParams(c.search);R.taglets.lpUtil.isEmpty(d)?l.scope=encodeURIComponent("openid"):d&&!d.scope&&(l.scope=encodeURIComponent("openid"))}l.redirect_uri=r;l.state=s}else l.redirect_uri=r+s;a=N.addQueryParams(n.connector.configuration.authorizationEndpoint,l)}else{e.invalidAuthConnector=!0;a=z(e,t)}return a}function T(e,n,t){var o=n.connector.configuration.genKeyUrl,i=b(o),a={rt:"redir",redirect:encodeURIComponent(t.codeRepository+(e.resource||"/index.html")),lpUnifiedWindowConfig:encodeURIComponent(N.stringify(e))};a=h(a);i.search=N.addQueryParams(i.search,a);return i.protocol+"//"+i.hostname+(i.port?":"+i.port:"")+i.pathname+i.search}function z(e,n,t){return x(n,t,e)+A(e,t)}function x(e,n,t){var o=b(e.staticCodeRepository+(t.resource||"/index.html")),i=o.protocol+"//"+o.hostname+(o.port?":"+o.port:"")+o.pathname;return n?encodeURIComponent(i):i}function A(e,n,t){var o,i;if(t){o={lpUnifiedWindowConfig:e};o=h(o);i=N.stringify(o)}else{o={lpUnifiedWindowConfig:encodeURIComponent(N.stringify(e))};o=h(o);i=N.addQueryParams("?",o)}return n?encodeURIComponent(i):i}function O(e){e.configuration=e.configuration||{};return e.configuration.authorizationEndpoint&&e.type}function I(e){var n=1500,t={},o=0;for(var i in e){t[i]=e[i];if(o>=n)break;o+=i.length+e[i].length}return t}var N,R,j,M,W=0,L=1,D=2,P="dev",U="menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=280px, height=400px, modal=true",V="menubar=no, location=no, resizable=1, scrollbars=no, status=yes, width=320px, height=450px, modal=true",B={DESKTOP:40,MOBILE:120,TABLET:120},F="-lpuw-chat",H="-lpuw-unauthMessaging",G="-lpuw-authMessaging",K="-lpuw",q=[F,H,G,K],Y={};w(e);return{createExternalConfiguration:o,isRecaptchaEnabled:a,isAuthenticatedEnabled:i,getExternalResourceURL:t,getFeatureById:u,getUWDir:r,openExternal:p,getChannels:s,getChannelsPriority:l,getClickedChannel:c,getEngagementTypeByChannel:d,getSMSClientLaunchResourceURL:n,getURLBreakdownInfo:k}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.BrowserStateManager=lpTag.unifiedWindow.BrowserStateManager||function(e){function n(e){C="boolean"==typeof navigator.onLine;y=C?navigator.onLine:!0;O=e;_=l();S=window.innerWidth;I=v();var n=f();T=n.hiddenAttr;z=n.visibilityChange;u()}function t(e,n,t){R[e]=R[e]||[];R[e].push({callback:n,context:t})}function o(e,n){E(e,n)}function i(){C&&(y=navigator.onLine);return y}function a(){return!!T}function r(){return j}function s(){return document[T]}function l(){var e;if("undefined"!=typeof window.orientation){var n=window.orientation;e=90===n||-90===n}else e=window.innerWidth>window.screen.availHeight;return e}function c(){for(var e in R){R[e]&&R[e].constructor===Array&&(R[e].length=0);R[e]=null;delete R[e]}}function d(){c();I&&M.unregisterEvent(window,I,h);M.unregisterEvent(window,"resize",b);M.unregisterEvent(window,"focus",p);M.unregisterEvent(window,"blur",m)}function u(){I&&M.registerEvent(window,I,h);M.registerEvent(window,"resize",b);M.registerEvent(window,"focus",p);M.registerEvent(window,"blur",m);M.registerEvent(document,z,g)}function p(){j=!0;if("undefined"!=typeof R[N.FOCUS_CHANGE])for(var e=0;e<R[N.FOCUS_CHANGE].length;e++)M.runCallback(R[N.FOCUS_CHANGE][e].callback,R[N.FOCUS_CHANGE][e].context,{focus:j})}function g(){if("undefined"!=typeof R[N.VISIBILITY_CHANGE])for(var e=0;e<R[N.VISIBILITY_CHANGE].length;e++)M.runCallback(R[N.VISIBILITY_CHANGE][e].callback,R[N.VISIBILITY_CHANGE][e].context,{visible:!document[T]})}function m(){j=!1;if("undefined"!=typeof R[N.FOCUS_CHANGE])for(var e=0;e<R[N.FOCUS_CHANGE].length;e++)M.runCallback(R[N.FOCUS_CHANGE][e].callback,R[N.FOCUS_CHANGE][e].context,{focus:j})}function f(){var e,n;if("undefined"!=typeof document.webkitHidden){e="webkitHidden";n="webkitvisibilitychange"}else if("undefined"!=typeof document.mozHidden){e="mozHidden";n="mozvisibilitychange"}else if("undefined"!=typeof document.msHidden){e="msHidden";n="msvisibilitychange"}else if("undefined"!=typeof document.hidden){e="hidden";n="visibilitychange"}return{hiddenAttr:e,visibilityChange:n}}function v(){return O.isAndroid()||O.isIOS()?"orientationchange":"resize"}function h(){A&&clearTimeout(A);var e=300;O.isAndroid()&&(e=S===window.innerWidth?900:400);A=setTimeout(w,e)}function w(){var e,n,t;e=l();n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;if(e!==_&&"undefined"!=typeof R[N.ORIENTATION_CHANGE])for(var o=0;o<R[N.ORIENTATION_CHANGE].length;o++){M.runCallback(R[N.ORIENTATION_CHANGE][o].callback,R[N.ORIENTATION_CHANGE][o].context,{landscape:e,height:t,width:n});_=e}S=window.innerWidth}function b(){x?clearTimeout(x):k();x=setTimeout(function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,t={height:n,width:e};if("undefined"!=typeof R[N.RESIZE])for(var o=0;o<R[N.RESIZE].length;o++)M.runCallback(R[N.RESIZE][o].callback,R[N.RESIZE][o].context,t);x=null},300)}function k(){if("undefined"!=typeof R[N.RESIZE_START])for(var e=0;e<R[N.RESIZE_START].length;e++)M.runCallback(R[N.RESIZE_START][e].callback,R[N.RESIZE_START][e].context)}function E(e,n){var t=R[e];if(t){for(var o=[],i=0;i<t.length;i++)t[i].callback!==n&&o.push(t[i]);t.length=0;R[e]=o}}var C,y,S,_,T,z,x,A,O,I,N=(lpTag.unifiedWindow.log,{RESIZE_START:"resizeStart",ORIENTATION_CHANGE:"orientationChange",RESIZE:"resize",FOCUS_CHANGE:"focusChange",VISIBILITY_CHANGE:"visibilityChange"}),R={},j=!0,M=lpTag.taglets.lpUtil;n(e);return{EVENT_NAME:N,on:t,off:o,visibilitySupported:a,isConnected:i,isHidden:s,isFocus:r,isLandscape:l,unregisterAllEvents:c,dispose:d}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.DeviceDetector=lpTag.unifiedWindow.DeviceDetector||function(){function e(){return Z===G.familyEnum.desktop}function n(){return Z===G.familyEnum.mobile}function t(){return Z===G.familyEnum.tablet}function o(){return t()&&i()||/ iPad/i.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document}function i(){return X===G.osEnum.iOS}function a(){return X===G.osEnum.android}function r(){return J===G.browserEnum.chrome}function s(){return a()&&!r()}function l(){return a()&&r()}function c(){return ee}function d(){return P}function u(){return U}function p(){return B}function g(){if("boolean"==typeof F)return F;var e=!0;try{new Audio}catch(n){e=!1}return e}function m(){return V}function f(){return $}function v(){return Q}function h(){return i()?D()<=7||!1:void 0}function w(){return i()?D()<=6||!1:void 0}function b(){return i()?D()>=8||!1:void 0}function k(){return i()?13===D()||!1:void 0}function E(){return X===G.osEnum.windows}function C(){return X===G.osEnum.mac}function y(){return"Microsoft Internet Explorer"===q||S()}function S(){return K.match(/Trident.*rv[ :]*11\./)}function _(){return J===G.browserEnum.edge}function T(){return G.familyName()}function z(){return n()&&!t()&&!y()}function x(){return J===G.browserEnum.chromeios&&t()&&i()}function A(){var e=document.createElement("DIV");j(e);M(e);e=null}function O(){var e;if("function"==typeof G.osVersion){e=G.osVersion();if(e)return e}a()?e=K.match(/Android (\d+)\.(\d+)(?:\.(\d+))?;+/i):i()&&(e=K.match(/OS (\d+)_(\d+)(?:_(\d+))?\s+/i));return e}function I(){if("function"==typeof G.browserVersion)return G.browserVersion();var e;if(y())if(S())e=11;else{var n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");try{null!=n.exec(K)&&(e=parseFloat(RegExp.$1))}catch(t){}}else if(N()){var o=K.indexOf("Safari");if(o>-1){var i=K.substring(o+7);o=K.indexOf("Version");o>-1&&(i=K.substring(o+8));var a=i.indexOf(";");a>-1&&(i=i.substring(0,a));a=i.indexOf(" ");a>-1&&(i=i.substring(0,a));var r=parseInt(""+i,10);isNaN(r)&&(r=parseInt(Y,10));e=r}}return e}function N(){return G.browser()===G.browserEnum.safari}function R(){var e=document.getElementsByName("viewport");if(e.length>0)for(var n=0;n<e.length;n++){var t=L(e[n].content);if("device-width"===t.width)return!0}return!1}function j(e){U=W(e,"AnimationName");U.supported&&(P=!0)}function M(e){V=W(e,"Transition");V.supported&&(B=!0)}function W(e,n){var t,o={Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-",Khtml:"-khtml-"},i=!1,a=n?n.substring(0,1).toLowerCase()+n.substr(1):"",r=a,s=n;if(a&&"undefined"!=typeof e.style[a]){i=!0;t=""}if(!i)for(var l in o)if(n&&o.hasOwnProperty(l)&&"undefined"!=typeof e.style[l+n]){t=o[l];r=t+a;s=l+n;i=!0;break}return{supported:i,preFix:i?t:"",propertyName:i?s:"",cssPropertyName:i?r:""}}function L(e){for(var n,t=e.split(","),o={},i=0;i<t.length;i++){n=t[i].split("=");o[H.trimAndLower(n[0])]=H.trimAndLower(n[1])}return o}function D(){if("function"==typeof G.osVersion){var e=G.osVersion();if(e)return isNaN(e)?e:Number(e)}return Number($[1])}var P,U,V,B,F,H=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),G=lpTag.device,K=navigator.userAgent,q=navigator.appName,Y=navigator.appVersion,X=G.os(),Z=G.family(),J=G.browser(),$=O(),Q=I(),ee=R();A();return{isDesktop:e,isMobile:n,isTablet:t,isMobileOptimized:c,isAnimationSupported:d,getAnimationData:u,isTransitionSupported:p,isAudioSupported:g,getTransitionData:m,isAndroid:a,isIPad:o,isNativeAndroid:s,isIOS:i,isWindows:E,isMacOS:C,getDeviceFamilyName:T,osVersion:f,browserVersion:v,isIOS6:w,isIOS7:h,isIOS13:k,isIOS8OrAbove:b,isIE:y,canAttemptSMSClientLaunch:z,isEdge:_,isSafari:N,isAndroidChrome:l,isIpadChrome:x}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.Events=lpTag.unifiedWindow.Events||function(e){function n(e){r=new lpTag.Events(e);s=r.trigger;r.trigger=t;l=lpTag.taglets.lpUtil}function t(e,n,t){s(e,n,t);o(e)}function o(e){var n,t,o;c||(c=l.getPropertyFromObject(lpTag,"unifiedWindow.publicEvents"));e="object"==typeof e?e:null;t=e&&c&&c[e.appName]&&c[e.appName][e.eventName];if(lpTag.events&&e&&(e.global||t)){if(e.global){e.passDataByRef=!1;e.aSync=!0;lpTag.events.trigger(e)}if(t){n=Array.isArray(t)?t:[t];for(var a=0;a<n.length;a++){o=i(e,n[a]);lpTag.events.trigger(o)}}}}function i(e,n){var t=l.clone(n);t.passDataByRef=!1;t.aSync=!0;t.data=a(e,t.data);return t}function a(e,n){var t={};if("object"==typeof n)for(var o in n)t[o]=l.getPropertyFromObject(e,n[o]);else t=l.getPropertyFromObject(e,n);return t}var r,s,l,c;n(e);return r};!function(){function e(){function e(e){var n=s[r]&&s[r][e];return"string"==typeof n?n:a(e)||""}function n(){var e=r||l;if(e){var n=lpTag.unifiedWindow.defaultDictionary,t="__config__";return n&&n[e]&&n[e][t]}}function t(e){return c[e]===!0}function o(e){r=e||l}function i(e,n){n=n||{};s[n.locale]=s[n.locale]||{};lpTag.taglets.lpUtil.cloneExtend(e,s[n.locale]);n.locale===l&&lpTag.taglets.lpUtil.cloneExtend(e,lpTag.unifiedWindow.defaultDictionary)}function a(e){var n=lpTag.unifiedWindow.defaultDictionary;return n[r]&&n[r][e]?n[r][e]:n[e]}var r,s={},l="en-US",c={"he-IL":!0,"ar-AE":!0};return{getString:e,getLocaleConfig:n,isRTL:t,add:i,setLocale:o}}window.lpTag=window.lpTag||{};lpTag.unifiedWindow.language=lpTag.unifiedWindow.language||new e;lpTag.unifiedWindow.addLanguage=function(e,n){lpTag.unifiedWindow.language.add(e,n)}}();window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.log=lpTag.unifiedWindow.log||function(){function e(e){d=lpTag.taglets.lpUtil;v=d.cloneExtend(e.loggosLogging||{},v,!0);h="https://"+lpTag.csds.getDomain("loggos")+"/api/loggos/log/";var n=d.getURLParams(window.location.search),t=n.lpDebug;if(t){f.isEnabled=!0;i("2"===t&&"true"===n.debugLevel?"DEBUG":Object.keys(p).reduce(function(e,n){p[n]===+t&&(e=n);return e},m))}else if(e.debug){f.isEnabled=!0;i("INFO")}r()}function n(e,n){l(e,"ERROR",n||u)}function t(e,n){l(e,"INFO",n||u)}function o(e,n){l(e,"DEBUG",n||u)}function i(e){p[e]&&(m=p[e])}function a(e){switch(e){case b.APP_STARTED:k=!0;break;case b.APP_ENDED:k=!1}}function r(){window.lpTaglogListeners=window.lpTaglogListeners||[];f.isEnabled&&window.lpTaglogListeners.push(function(e,n,t){window.console&&n&&p[n]<=m&&-1===d.indexOf(g,t)});if(v.level>0){v.inSample=!v.samplingPercentage||1e3*v.samplingPercentage>(new Date).getMilliseconds()?!0:!1;if(v.inSample){window.lpTaglogListeners.push(function(e,n,t){n&&p[n]<=v.level&&k&&-1===d.indexOf(g,t)&&c(e,n,t)});s()}}}function s(){if(v.level>0&&v.queueSubmissionIntervalMilliseconds&&!isNaN(v.queueSubmissionIntervalMilliseconds)){var e=this,t=w.splice(0,v.queueSubmissionMaximum||w.length);if(t.length>0){var o=new XMLHttpRequest;o.open("POST",h,!0);o.setRequestHeader("Content-Type","application/json");o.onreadystatechange=function(){if(4===o.readyState){if(200===o.status);else{w=w.concat(t);n("There was an error sending logs to Loggos: "+o.statusText,u)}setTimeout(function(){s.call(e)},v.queueSubmissionIntervalMilliseconds)}};o.send(JSON.stringify(t))}else setTimeout(function(){s.call(e)},v.queueSubmissionIntervalMilliseconds)}}function l(e,n,t){window.lpTag&&lpTag.log&&e&&lpTag.log(e,n,t||u)}function c(e,n,t){var o={accountId:lpTag.site,appVersion:lpTag.taglets.lpUnifiedWindow.v,context:"webMessaging",immediate:!0,logLevel:n,msg:n+" : "+t+" : "+e,time:(new Date).toISOString(),trace:!1,url:window.location.href};w.push(o)}var d,u="UnifiedWindowLogger",p={ERROR:1,INFO:2,DEBUG:3},g=["lp_SMT","lp_monitoringSDK","LP_OFFER"],m=p.ERROR,f={isEnabled:!1},v={level:0},h="",w=[],b={APP_STARTED:"appStarted",APP_ENDED:"appEnded"},k=!1;return{init:e,error:n,info:t,debug:o,setLogLevel:i,logLevels:p,events:b,triggerEvent:a,loggosLogging:v,loggosLogQueue:w}}();window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.SessionManager=lpTag.unifiedWindow.SessionManager||function(e){function n(e){if("object"==typeof e&&e.accountId&&e.secureStorageLocation&&"string"==typeof e.accountId){_=e.accountId;T=e.sessionId;S=e.events;z=e.external;x=e.secureStorageLocation;y=e.sessionRefreshTimeout||W;N=e.echoedSessionTimeout;k=e.sessions;E=e.sessionsPriority;c(e.clickedSession)}}function t(e,n){M.getValues({keys:E,site:_,app:D,success:d.bind(this,e,n),error:function(){S.trigger({appName:lpTag.taglets.lpUnifiedWindow.name,eventName:P,global:!0})},appName:R,domain:x,firstParty:!0})}function o(e){var n;M.getValue({key:O.sessionKey,site:_,app:D,success:function(t){t&&(n=t.timestamp);j.runCallback(e,null,n)},error:function(){},appName:R,domain:x,firstParty:!0})}function i(){return I}function a(e){M.getValue({key:O.sessionKey,app:D,site:_,success:function(n){n&&j.runCallback(e,null,n)},error:function(){},appName:R,domain:x,firstParty:!0})}function r(e){if(z)j.runCallback(e);else{L=!1;t(w,e)}}function s(e){clearTimeout(C);v();T=null;L=!0;e===!0||z||M.removeValue({key:O.sessionKey,site:_,app:D,appName:R,success:b,error:b,domain:x,firstParty:!0})}function l(){return O.sessionKey}function c(e){A=k[e];O=A&&k[A.sessionKey]}function d(e,n,t){var o,i;i=u(t);if(i.session){O=k[i.sessionKey];o=i.session.timestamp||"null";T=T?T:i.session.sid}if(i.session||p())m(i.session,o,e,n);else{j.runCallback(e,null);j.runCallback(n)}}function u(e){var n,t;if(e&&"object"==typeof e)for(var o=0;o<E.length;o++){t=E[o];if(e[t]){n=e[t];break}}else n=e;return{session:n,sessionKey:t}}function p(){return!!A}function g(e){return N||e&&e.sessionTimeout&&parseInt(e.sessionTimeout,10)||O.sessionTimeout}function m(e,n,t,o){I||(I=g(e));T&&"null"!==T||(T=j.getUID());z?j.runCallback(t,null,T):M.setValue({key:O.sessionKey,site:_,app:D,value:{sid:T,timestamp:n||"null",sessionTimeout:I||"null"},ttl:1e3*O.sessionTimeout,success:function(){j.runCallback(t,null,T);j.runCallback(o)},error:function(){},appName:R,domain:x,firstParty:!0})}function f(){S.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:h})}function v(){S.unbind({appName:"ChatStateManager",eventName:"startChatInfo",func:h})}function h(e){e.chatTimeout&&(I=e.chatTimeout)}function w(){C&&clearTimeout(C);if(!L&&!z){{(new Date).getTime()}M.touchValue({key:O.sessionKey,site:_,ttl:1e3*O.sessionTimeout,success:function(){C=setTimeout(w,y)},error:function(){L=!0},app:D,appName:R,domain:x,firstParty:!0})}}function b(){}var k,E,C,y,S,_,T,z,x,A,O,I,N,R="SessionState",j=lpTag.taglets.lpUtil,M=(lpTag.unifiedWindow.log,lpTag.taglets.lpSecureStorage),W=5e3,L=!1,D=lpTag.unifiedWindow.apps.UNIFIED_WINDOW,P="STORAGE_SELECTED";n(e);f();return{dispose:s,refresh:r,getCurrentSessionKey:l,setClickedSession:c,getSessionId:t,getSessionTime:o,getSession:a,getSessionTimeout:i}};window.lpTag=window.lpTag||{};window.lpTag.unifiedWindow=window.lpTag.unifiedWindow||{};

lpTag.unifiedWindow.settingsIDs=lpTag.unifiedWindow.settingsIDs||{FILE_SHARING_ENALBED:"messaging.file.sharing.enabled",FILE_SHARING_IMAGE_RESIZE_SIZE:"messaging.agent.photo.size",BLOCK_CONSUMER:"unauth.messaging.block.consumer.history",EXTERNAL_FALLBACK:"unified.window.fallback.to.external",COBROWSE_CONTROLLER_BOT_PREFERRED_FOR_SYSTEM_MESSAGES:"le.site.cobrowse.controllerBotPreferredForSystemMessages",HISTORY_LAZYLOAD:"le.campaign.window.history.lazyload",UMS_CONNECTION_TIMEOUT:"le.window.ums.connection.timeout.enabled",OTK_RETRIES:"le.site.otk.number.of.uses",OTK_DURATION:"le.site.otk.duration"};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.StateAnalyzer=lpTag.unifiedWindow.StateAnalyzer||function(e,n){function t(e){if("object"==typeof e&&n&&e.storageKey&&e.accountId&&e.secureStorageLocation){c=n;d=e.storageKey;u=e.accountId;g=!!e.disableSessionTimeout||!1;p=e.secureStorageLocation}}function o(e,n){v.getValue({key:d,site:u,app:w,success:r(e),error:l(n),appName:m,domain:p,firstParty:!0})}function i(e){var n=(new Date).getTime(),t=1e3*c.getSessionTimeout(),o=null;c.getSessionTime(a.bind(this,e,n,t,o))}function a(e,n,t,o,i){o="undefined"==typeof i||"null"===i?h.NOT_STARTED:g||t>=n-i?h.IN_SESSION:h.EXPIRED;e(o)}function r(e){return function(n){i(s.bind(this,e,n,h.NOT_STARTED))}}function s(e,n,t,o){n&&o===h.EXPIRED?t=h.EXPIRED:n?t=h.IN_SESSION:o===h.IN_SESSION&&(t=h.INVALID);f.runCallback(e,null,n,t)}function l(e){return function(n){f.runCallback(e,null,n,h.NOT_STARTED)}}var c,d,u,p,g,m="UIState",f=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),v=lpTag.taglets.lpSecureStorage,h={NOT_STARTED:0,IN_SESSION:1,INVALID:2,EXPIRED:3},w=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;t(e);return{getState:o,state:f.clone(h)}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WindowConfigurationManager=lpTag.unifiedWindow.WindowConfigurationManager||function(e){function n(e){if("object"==typeof e&&e.storageKey&&e.accountId&&e.secureStorageLocation&&e.domain){d=e.accountId;u=e.secureStorageLocation;p=e.domain;m=e.windowId;g=e.storageKey+h;v=e.initialConf||{}}}function t(e){f?w.runCallback(e,null,f):b.getValue({key:g,site:d,app:k,success:r(e),error:r(e),appName:h,domain:u,firstParty:!0})}function o(){b.removeValue({key:g,site:d,app:k,appName:h,success:c,error:c,domain:u,firstParty:!0})}function i(e){b.setValue({key:g,site:d,app:k,value:{conf:e,windowId:m},success:a,error:a,appName:h,domain:u,expires:108e5,firstParty:!0})}function a(){}function r(e){return function(n){if(e)if(n){f=n.conf;m=n.windowId;w.runCallback(e,null,f)}else s(e)}}function s(e){var n,t=v.enableToRequestDefaultWinConfig,o="/"+m;!m&&t&&(o="-default");if(m||t){n="https://"+p+"/api/account/"+d+"/configuration/engagement-window/window-confs"+o;lpTag.taglets.jsonp.issueCall({url:n,timeout:5e3,retries:0,success:function(n){var o;if(!m&&t){if(!n||!n.length){l(e);return}o=n.filter(function(e){return!!e.isUserDefault});n=o.length>0?o[0]:n[0]}if(n&&n.json&&!n.error){f=n.json;w.runCallback(e,null,f);i(f)}else l(e)},error:function(){l(e)}})}else w.runCallback(e,null,{})}function l(e){w.runCallback(e)}function c(){}var d,u,p,g,m,f,v,h="UIConf",w=(lpTag.unifiedWindow.log,lpTag.taglets.lpUtil),b=lpTag.taglets.lpSecureStorage,k=lpTag.unifiedWindow.apps.UNIFIED_WINDOW;n(e);return{getConf:t,clear:o}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.WrapperWindow=lpTag.unifiedWindow.WrapperWindow||function(e,n,t,o,i){function a(e){var n;if(e&&we.isDesktop()&&e.right>=0){n=e.right>document.body.clientWidth?document.body.clientWidth-280:e.right;Ae.style.right=n+"px";Oe.style.right=n+"px"}}function r(e){e=e?e.toUpperCase():"SMALL";Ye[e]&&Oe.classList.add(Ye[e])}function s(e){e&&Oe.classList.add(Ye.FLOATING)}function l(e){if(e){if(!ie()){s(e.floating);a(e.position);r(e.size)}c(e.maximized);d(e.embedded,Qe.external,Qe.poppedOut)}else c(Qe.isMaximized)}function c(e){if(e){Ae.style.display="none";Oe.style.display="block"}else{Ae.style.display="block";Oe.style.display="none"}}function d(e,n,t){if(!e&&!n&&!t){Ae.style.display="none";Oe.style.display="none"}}function u(e,n){ce();n&&j();var t=Ce[e];if(t&&t!==ye){e!==_e.CONFIRMATION&&(Ee=e);ke=t.error;var o=ke&&!Qe.connectorsSfConfig;T(o);we.isDesktop()&&We.focus();t.title?p(t.title):t.text&&p(t.text);U(t,e);ye=t}}function p(e,n){if(Se!==e){var t=Te.querySelectorAll('[data-lp-point="headerText"]');n=n||e;for(var o=0;o<t.length;o++){t[o].innerHTML=lpTag.HtmlSanitizerUtils?lpTag.HtmlSanitizerUtils.sanitizeHtml(n).cleanText:n;t[o].setAttribute("aria-label",n)}Se=e}}function g(){R()&&(Te.style.display="block")}function m(){R()&&(Te.style.display="none")}function f(e,n){$e=!1;R()?Ze.runCallback(n):Ze.waitForBody(function(){oe(e);L();Ze.runCallback(n)})}function v(){return Te}function h(){return Ae}function w(){return Ie}function b(){return Oe}function k(){return ze}function E(){return Le}function C(){return De}function y(){return Pe}function S(){return Ue}function _(){return Ve}function T(e){e?Ze.removeClass(We,"lp_hidden"):Ze.addClass(We,"lp_hidden")}function z(e){e?Ze.removeClass(Be,"lp_hidden"):Ze.addClass(Be,"lp_hidden")}function x(e){Ze[e?"removeClass":"addClass"](Fe,"lp_hidden")}function A(e){if(e){fe(e);!we.isMobile()&&!we.isTablet()||ie()||ve(e)}}function O(){if(!$e){M();ye=null;Se=null;N(!1);ze.remove?ze.remove():document.body.removeChild(ze);$e=!0;Ze.runCallback(Ke)}}function I(){return Ye.WRAPPER_DIV_ID}function N(e){Je=e}function R(){return Je===!0}function j(){c(!0)}function M(){W();be.off(be.EVENT_NAME.ORIENTATION_CHANGE,de)}function W(){var e=Oe.querySelector(['[data-lp-point="confirm_button"]']),n=Oe.querySelector(['[data-lp-point="cancel_button"]']);Ze.unregisterEvent(Ae,"click",j);Ze.unregisterEvent(We,"click",O);n&&Ze.unregisterEvent(n,"click",H);e&&Ze.unregisterEvent(e,"click",O)}function L(){Ze.registerEvent(We,"click",O)}function D(e){ce();var n=Me.querySelector('[data-lp-point="message"]');if(n){n.remove?n.remove():Me.removeChild(n);e||p("");K()}}function P(){return Qe.iconsRepository}function U(e,n){var t=e.text||"",o=e.imgUrl||"",i=e.imgAltText||"";g();D();var a;a=n===_e.WAIT?'<div class="lp_message" data-lp-point="message"><table class="lp_centralizer"><tbody><td><div class="lp_rotator-container"><div class="lp_rotator-container-bg"></div><div class="lp_rotator" role="alert"><img src="{{imagesRepository}}/{{imageUrl}}" alt="{{loading}}"></div></div></td></tbody></table></div>':'<div class="lp_message" data-lp-point="message" aria-labelledby="lp_alert_message"><table class="lp_centralizer"><tbody><tr><td><img src="{{imagesRepository}}/{{imageUrl}}"><div id="lp_alert_message" class="lp_text">{{text}}</div><div class="lp_buttons_area lp_hidden"><button class="lp_cancel_button" data-lp-point="cancel_button" data-lp-cust-id="cancel_button">{{cancel}}</button> <button class="lp_confirm_button" data-lp-point="confirm_button" data-lp-cust-id="button">{{confirm}}</button></div></td></tr></tbody></table></div>';a=G(a);a=a.replace("{{text}}",t);a=a.replace("{{imageUrl}}",o);a=a.replace("{{loading}}",i||"");a=a.replace("{{cancel}}",Xe.getString("closeWindowCancelBtn"));a=a.replace("{{confirm}}",Xe.getString("closeWindowOkBtn"));e.showConfirm&&(a=a.replace("lp_hidden",""));if(e.needConfirmation){Ze.unregisterEvent(We,"click",O);Ze.registerEvent(We,"click",B)}if(e.deleteSession){Ze.unregisterEvent(We,"click",O);Ze.registerEvent(We,"click",F)}Me.innerHTML+=a;V(e.showConfirm);setTimeout(function(){Me.firstChild.setAttribute("role","alert")},0)}function V(e){if(e){var n=Oe.querySelector(['[data-lp-point="cancel_button"]']),t=Oe.querySelector(['[data-lp-point="confirm_button"]']);Ze.registerEvent(n,"click",H);Ze.registerEvent(t,"click",F)}}function B(){u(_e.CONFIRMATION);Ze.unregisterEvent(We,"click",B);Ze.registerEvent(We,"click",F)}function F(){o.trigger({appName:"*",eventName:"knockout"})}function H(){Ze.unregisterEvent(We,"click",B);Ze.registerEvent(We,"click",O);u(Ee)}function G(e){e=e.replace(/\{\{iconsRepository\}\}/g,P());e=e.replace(/\{\{imagesRepository\}\}/g,Qe.imagesRepository);return e}function K(){Ze.removeClass(Me,"lp_centered")}function q(e,n){if("object"==typeof e)for(var t in e)Qe[t]=e[t];else Qe[e]=n}function Y(e,n,t,o){we=n;be=t;Ke=o;q(e);X()}function X(e){e&&Xe.setLocale(e);Ce={CONNECTION_UNAVAILABLE:{title:Xe.getString("couldNotConnect"),imgUrl:"connect-error-dark.png",text:Xe.getString("connectionUnavailable"),error:!0},RIP:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("chatEndedOnExternalWindow"),error:!0},EXTERNAL_OPEN:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("externalWindowOpen"),error:!0},UNSUPPORTED:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("unsupportedBrowserMode"),error:!0},IN_SESSION:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("cannotResumeChat"),error:!0},AUTH_ERROR:{title:Xe.getString("error"),imgUrl:"thank-you-dark.png",text:Xe.getString("chatAuthError"),error:!0,needConfirmation:!1,deleteSession:!0},CONFIRMATION:{title:Xe.getString("error"),imgUrl:"thank-you-dark.png",text:Xe.getString("confirmMessage"),error:!0,showConfirm:!0},FAILED_START_CONVERSATION_ERROR:{title:Xe.getString("error"),imgUrl:"connect-error-dark.png",text:Xe.getString("startConversationError"),error:!0},SESSION_EXPIRED:{title:Xe.getString("sessionExpired"),imgUrl:"embedded-error.png",text:Xe.getString("sessionError"),error:!0},WAIT:{title:Xe.getString("loading"),imgUrl:"loader_on_warmGray5_75.gif",imgAltText:Xe.getString("loading")}};_e=Ze.objectKeys(Ce)}function Z(){var e=Ye.WRAPPER_DIV_CSS_CLASS_PREFIX;if(we.isMobile()){e+=Ye.MOBILE_CSS_CLASS;Ze.addClass(ze,Ye.DEVICE_CLASS)}else if(we.isTablet()){e+=Ye.TABLET_CSS_CLASS;Ze.addClass(ze,Ye.DEVICE_CLASS)}else e+=Ye.DESKTOP_CSS_CLASS;Ze.addClass(ze,e);return e}function J(){we.isNativeAndroid()&&Ze.addClass(ze,Ye.WRAPPER_DIV_CSS_CLASS_PREFIX+Ye.NATIVE_CSS_CLASS);var e=Ye.WRAPPER_DIV_CSS_CLASS_PREFIX;if(we.isIE())e+="ie"+we.browserVersion();else if(we.isIOS()){e+=Ye.IOS_CSS_CLASS;we.isIOS6()?e+=" "+Ye.IOS6_CSS_CLASS:we.isIOS8OrAbove()&&(e+=" "+Ye.WRAPPER_DIV_CSS_CLASS_PREFIX+Ye.IOS8_OR_ABOVE_CSS_CLASS)}else if(we.isAndroid())e+=Ye.ANDROID_CSS_CLASS;else{if(!we.isMacOS())return;e+=Ye.MAC_OSX_CSS_CLASS}Ze.addClass(ze,e);return e}function $(){var e='<div class="lp_minimized lpc_window lpc_window_minimized {{deviceClass}}" data-lp-point="minimized" data-lp-cust-id="minimized" role="region"><div class="lp_main" data-lp-point="main" role="navigation"><div class="lp_header lpc_minimized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top"><div tabindex="0" class="lp_notification_number lpc_minimized-header__notification-counter {{deviceClass}} lpHide" data-lp-point="notification_counter"><span class="lp_notification_text" role="alert" data-lp-point="notification_text">{{notification_number}}</span></div><div class="lp_header-content-wrapper"><div class="lp_title lpc_minimized-header__text-wrapper {{deviceClass}}" role="heading"><div class="lp_chatting-with-icon lpc_minimized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_minimized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_minimized-header__text {{deviceClass}}" data-studio-click="true">{{windowTitle}}</span></div><div class="lp_header-buttons-container"><button title="{{tooltip_Maximize}}" class="lp_maximize lpc_minimized-header__maximize-button {{deviceClass}}" data-lp-point="maximize" role="button"><div class="lp_maximize-icon" data-lp-type="icon"><img class="lpc_minimized-header__maximize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Maximize}}" aria-hidden="true"></div></button> <button title="{{tooltip_Close}}" class="lp_close lpc_minimized-header__close-button {{deviceClass}}" data-lp-point="close" role="button"><div class="lp_close-icon" data-lp-type="icon"><img class="lpc_minimized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true"></div></button></div></div></div></div></div>';e=G(e);e=e.replace(/\{\{tooltip_Close\}\}/g,Xe.getString("tooltip_Close"));e=e.replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass);Te.innerHTML+=e}function Q(){$();ee();ne()}function ee(){var e='<div class="lp_maximized lpmx lpc_window lpc_window_maximized {{deviceClass}}" data-lp-point="maximized" data-lp-cust-id="maximizedWindow" role="dialog" tabindex="0" aria-label="{{windowRegionLabel}}"><div class="lp_header lpc_maximized-header {{deviceClass}}" data-lp-point="header" data-lp-cust-id="top" data-studio-click="true"><div class="lp_header-content-wrapper"><button title="{{tooltip_open_widgets}}" class="lp_hidden lp_slider lpc_maximized-header__slider-button {{deviceClass}}" data-lp-point="widget_sdk"><div class="lp-slider-icon" data-lp-type="icon"><img class="lpc_maximized-header__slider-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true"></div></button><div class="lp_notification_number wsdkNotification lpHide" data-lp-point="widgetNotificationContainer"><span class="lp_notification_text" data-lp-point="widgetNotificationText">0</span></div><div class="lp_title lpc_maximized-header__text-wrapper {{deviceClass}}" data-lp-point="maximizedTitleContainer"><div class="lp_chatting-with-icon lpc_maximized-header__icon lpc_maximized-header__icon {{deviceClass}} lpHide" data-lp-type="icon" data-lp-point="chattingWithIcon"><img class="lpc_maximized-header__icon-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="" aria-hidden="true" data-lp-cust-id="topBarIcon"></div><span data-lp-point="headerText" data-lp-cust-id="top_text" class="lp_top-text lpc_maximized-header__text {{deviceClass}}" data-studio-click="true" aria-live="polite" aria-atomic="true" role="heading" aria-level="2" aria-label="{{windowTitle}}">{{windowTitle}}</span></div><div class="lp_header-buttons-container"><button class="lp_menu-top-btn lpc_maximized-header__menu-button {{deviceClass}}" data-lp-cust-id="top_menu_button" data-lp-point="menu-top-btn" data-studio-click="true" aria-label="{{tooltip_ExpandActionMenu}}"><div class="lp_menu-top-icon" data-lp-type="icon"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" class="lpc_maximized-header__menu-button-asset {{deviceClass}}" aria-hidden="true"><g fill="none" fill-rule="evenodd"><path fill="#848586" d="M6.5 11a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm6 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/></g></svg></div></button> <button title="{{tooltip_Minimize}}" class="lp_minimize lpc_maximized-header__minimize-button {{deviceClass}}" data-lp-point="minimize"><div class="lp_minimize-icon" data-lp-type="icon" data-lp-point="minimize_icon"><img class="lpc_maximized-header__minimize-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Minimize}}" aria-hidden="true"></div></button> <button title="{{tooltip_Close}}" class="lp_close lpc_maximized-header__close-button {{deviceClass}}" data-lp-point="close"><div class="lp_close-icon" data-lp-type="icon"><img class="lpc_maximized-header__close-button-asset {{deviceClass}}" src="{{iconsRepository}}/sprites_v1.png" alt="{{tooltip_Close}}" aria-hidden="true"></div></button></div></div></div><div class="lp_main lpc_body {{deviceClass}}" data-lp-point="main" data-lp-cust-id="mainArea" role="main" tabindex="0"></div></div><div data-lp-point="buffer-strip" class="lp_buffer-strip"><div class="lp_buffer-strip-container" data-lp-cust-id="mainArea"></div></div>';e=G(e);e=e.replace(/\{\{tooltip_Close\}\}/g,Xe.getString("tooltip_Close"));e=e.replace(/\{\{deviceClass\}\}/g,lpTag.unifiedWindow.customization.deviceClass);e=e.replace(/\{\{windowRegionLabel\}\}/g,Xe.getString("windowRegionLabel"));Te.innerHTML+=e}function ne(){Ae=Te.querySelector('[data-lp-point="minimized"]');Oe=Te.querySelector('[data-lp-point="maximized"]');Ie=Te.querySelector('[data-lp-point="buffer-strip"]')}function te(e){Te=document.createElement("div");if(Ye.WRAPPER_DIV_ID){Te.id=Ye.WRAPPER_DIV_ID;Ze.addClass(Te,Ye.WRAPPER_CLASS_NAME);Ze.addClass(Te,e)}ze=document.createElement("div");ze.appendChild(Te);document.body.appendChild(ze)}function oe(e){var n=e&&e.window,t=e&&e.engConf&&e.engConf.lang,o=e&&e.engConf&&e.engConf.site||lpTag.site;t&&X(t);$e=!1;he();te(o);Q();var i=Ae.querySelector('[data-lp-point="main"]');Ze.addClass(Ae,"lpHide");if(Ye.MINIMIZED_VIEW_IFRAME_RENDERING){Ne=le(i);Re=Ne.body;Ze.addClass(Re,"lp_main")}else Re=i;var a=Oe.querySelector('[data-lp-point="main"]');if(Ye.MAXIMIZED_VIEW_IFRAME_RENDERING){je=le(a);Me=je.body;Ze.addClass(Me,"lp_main");Ze.addClass(Me,"lpc_body")}else Me=a;Le=Oe.querySelector(['[data-lp-point="widget_sdk"]']);De=Oe.querySelector(['[data-lp-point="widgetNotificationContainer"]']);Pe=Oe.querySelector(['[data-lp-point="widgetNotificationText"]']);Ue=Oe.querySelector(['[data-lp-point="maximizedTitleContainer"]']);Ve=Oe.querySelector(['[data-lp-point="chattingWithIcon"]']);We=Oe.querySelector(['[data-lp-point="close"]']);Be=Oe.querySelector(['[data-lp-point="minimize"]']);Fe=Oe.querySelector(['[data-lp-point="menu-top-btn"]']);He=Oe.querySelector(['[data-lp-point="popicon"]']);He&&Ze.addClass(He,Qe.poppedOut?"lp_pop-in-icon":"lp_pop-out-icon");if(ie()){ue();pe();me(Qe.engConf.lang);ge()}z(!1);T(!1);x(!1);l(n);se();ae();N(!0);re()}function ie(){return Qe.poppedOut||Qe.external}function ae(){Ge=setTimeout(function(){u(_e.WAIT)},Ye.WAIT_INDICATION_DELAY)}function re(){Z();J();if(we.isMobile()||we.isTablet()){de({landscape:be.isLandscape()});be.on(be.EVENT_NAME.ORIENTATION_CHANGE,de)}}function se(){xe=Ze.addStyleTag('.lp-window-root .lp_close-icon{position:relative;display:inline-block;vertical-align:middle;overflow:hidden}.lp-window-root .lp_close-icon img{top:0;left:-480px;position:absolute}.lp-window-root .lp_menu-top-icon{position:relative;display:inline-block;vertical-align:middle;overflow:hidden}.lp-window-root .lp_menu-top-icon img{top:0;left:-480px}.lp-window-root .lp_minimize-icon{display:none}.lp-window-root .lp_chevron-icon{display:none}.lp_desktop .lp-window-root .lp_close-icon,.lp_desktop .lp-window-root .lp_close{width:22px;height:22px}.lpdv .lp-window-root .lp_close-icon,.lpdv .lp-window-root .lp_close{width:24px;height:24px}.lp-window-root *{box-sizing:border-box;font-weight:normal;letter-spacing:0;font-family:inherit;opacity:1;filter:alpha(opacity=100);max-width:none;direction:inherit;text-align:inherit;outline:none}.lp-window-root *::-moz-focus-inner{border:0}.lp-window-root table,.lp-window-root tbody,.lp-window-root td,.lp-window-root span,.lp-window-root tr,.lp-window-root table,.lp-window-root div,.lp-window-root button,.lp-window-root img{margin:0;padding:0;border:0;background:inherit;background:initial;position:static;position:initial;width:auto;height:auto;text-shadow:none;box-shadow:none;-webkit-box-shadow:initial;line-height:normal}.lp-window-root img{vertical-align:bottom;background:inherit;color:black}.lp-window-root table,.lp-window-root tbody,.lp-window-root td,.lp-window-root span,.lp-window-root tr,.lp-window-root table,.lp-window-root div,.lp-window-root button{vertical-align:baseline;background:inherit;color:inherit;font-size:inherit}.lp-window-root button{font-size:1em;border-radius:0}.lp-window-root{font-family:"Arial"}.lp-window-root .lp_header{background-color:#f0f0f0;border:1px solid #d6d6d6;border-radius:5px 5px 0 0;font-size:1.1em;z-index:2;width:100%;position:absolute}.lp-window-root .lp_main{padding:0;z-index:1;height:100%;width:100%;position:absolute;right:0;bottom:0}.lp-window-root .lp_main .lp_wait{position:absolute;top:0;bottom:0;left:0;right:0}.lp-window-root .lp_main .lp_wait table{height:100%;width:100%}.lp-window-root .lp_main .lp_wait td{text-align:center;vertical-align:middle}.lp-window-root .lp_main>.lp_message{text-align:center;width:100%;height:100%}.lp-window-root .lp_main>.lp_message .lp_text{padding:10px 4px 0 4px;text-align:center}.lp-window-root .lp_main>.lp_message .lp_buttons_area{position:relative;text-align:center;padding:0 5%;height:40px;margin-top:5px}.lp-window-root .lp_main>.lp_message .lp_buttons_area button{padding:9px 6px;width:45%;float:left;font-size:.9em;border:none;text-align:center;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button{color:#fff;background-color:#0363ad;margin-left:10%;-webkit-border-radius:2px;-moz-border-radius:2px;-ms-border-radius:2px;-o-border-radius:2px;border-radius:2px}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:disabled{opacity:0.5;cursor:default}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:hover,.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_confirm_button:focus{background-color:#025487}.lp_lpIos .lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button:hover,.lp_lpIos .lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button:focus{background:#F2F2F2}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_cancel_button{background:transparent;color:#6d6e70}.lp-window-root .lp_main>.lp_message .lp_buttons_area .lp_single_button{float:none;margin-left:0}.lp-window-root .lp_header-content-wrapper{width:100%;height:100%}.lp-window-root .lp_header-content-wrapper .lp_title,.lp-window-root .lp_header-content-wrapper .lp_subtitle{direction:ltr}.lp-window-root .lp_header-content-wrapper .lp_title>*,.lp-window-root .lp_header-content-wrapper .lp_subtitle>*{vertical-align:middle}.lp-window-root .lp_header-content-wrapper .lp_top-text{overflow:hidden;text-overflow:ellipsis;display:inline-block;margin-left:8px;max-width:150px;white-space:nowrap}.lp-window-root .lp_header-content-wrapper button{background:none;position:absolute;cursor:pointer}.lp-window-root>.lpmx{border-radius:5px 5px 0 0;box-shadow:0 0 16px 3px rgba(0,0,0,0.2);color:#000}.lp-window-root>.lpmx>.lp_main{background-color:#fff}.lp-window-root>.lpmx.lp_external-window{border-radius:0;position:fixed;left:0;right:0;bottom:0;top:0;width:100%;height:100%;overflow:hidden}.lp-window-root>.lpmx.lp_external-window.lp_no-top>.lp_header{display:none}.lp-window-root>.lpmx.lp_external-window.lp_no-top>.lp_main{top:0}.lp-window-root button:focus{outline:#5879da solid 2px}.lp-window-root .lp_text:empty,.lp-window-root img[src=""]{display:none}.lp-window-root .lpHide,.lp-window-root .lp_hidden{display:none !important}.lp-window-root .lp_disable_select{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.lp-window-root table.lp_centralizer{height:100%;width:100%}.lp-window-root table.lp_centralizer td{text-align:center;vertical-align:middle}.lp-window-root .lp_rotator-container{position:relative;display:inline-block;width:100px;height:100px}.lp-window-root .lp_rotator-container-bg{position:absolute;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,0);opacity:0.92;border-radius:10px}.lp-window-root .lp_rotator{padding-top:12px;text-align:center;position:absolute;top:0;right:0;bottom:0;left:0}.lp_desktop .lp-window-root{font-size:13px}.lp_desktop .lp-window-root>*{width:280px;z-index:99999999;position:fixed;right:20px;bottom:0}.lp_desktop .lp-window-root>* .lp_header{height:36px;padding:0 5px}.lp_desktop .lp-window-root>* .lp_header button{z-index:99999999;top:6px}.lp_desktop .lp-window-root>.lpmx{height:400px;max-height:100%}.lp_desktop .lp-window-root>.lpmx>.lp_header .lp_title{float:left;padding-top:9px;padding-left:3px}.lp_desktop .lp-window-root>.lpmx>.lp_main{height:auto;top:36px}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_header-buttons-container{float:right;direction:ltr;font-size:0}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper button{position:relative;display:inline-block}.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_cancel_button:hover,.lp_desktop .lp-window-root>.lpmx .lp_header-content-wrapper .lp_cancel_button:focus{background:#F2F2F2}.lp_desktop .lp-window-root>.lp_maximized_large{width:340px;height:580px;max-height:100%}.lp_desktop .lp-window-root>.lp_floating{margin-bottom:20px;max-height:calc(100% - 20px)}.lpdv .lp-window-root .lp_header-content-wrapper{text-align:center;display:table;border-collapse:collapse}.lpdv .lp-window-root .lp_header-content-wrapper>*{vertical-align:middle;display:table-cell}.lpdv .lp-window-root .lp_header-content-wrapper .lp_header-buttons-container{display:table}.lpdv .lp-window-root>.lpmx{z-index:99999999;opacity:0.95;position:fixed;top:0;right:0;bottom:0;left:0;border-radius:0}.lpdv .lp-window-root>.lpmx>.lp_header{direction:ltr;height:8%;min-height:40px}.lpdv .lp-window-root>.lpmx>.lp_header .lp_title{width:100%;text-align:center}.lpdv .lp-window-root>.lpmx>.lp_header .lp_top-text{text-align:center}.lpdv .lp-window-root>.lpmx>.lp_header button{top:0;right:0;height:100%;width:40px;text-align:center;position:absolute}.lpdv .lp-window-root>.lpmx>.lp_header .lp_close{right:0}.lpdv .lp-window-root>.lpmx>.lp_main{height:92%}.lpdv .lp-window-root>.lpmx>.lp_main .lp_buttons_area{margin-top:3%}.lpdv .lp-window-root>.lpmx>.lp_main .lp_buttons_area button{font-size:1.2em}.lpdv .lp-window-root.lp_landscape .lp-window-root>.lpmx .lp_header{display:none}.lpdv .lp-window-root.lp_landscape .lp-window-root>.lpmx>.lp_main{padding-top:0;top:0;height:100%}.lp_mobile .lp-window-root{font-size:14px}.lp_tablet .lp-window-root{font-size:18px}.lp_tablet .lp-window-root>.lpmx .lp_header-content-wrapper .lp_title .lp_top-text{max-width:250px}',{id:Ye.STYLE_TAG_ID})}function le(e){var n=document.createElement("iframe");e.appendChild(n);return n.contentWindow.document}function ce(){clearTimeout(Ge)}function de(e){var n=Ye.WRAPPER_DIV_CSS_CLASS_PREFIX;if(e.landscape){Ze.removeClass(ze,n+Ye.PORTRAIT_CSS_CLASS);Ze.addClass(ze,n+Ye.LANDSCAPE_CSS_CLASS)}else{Ze.removeClass(ze,n+Ye.LANDSCAPE_CSS_CLASS);Ze.addClass(ze,n+Ye.PORTRAIT_CSS_CLASS)}}function ue(){Ze.addClass(Oe,Ye.EXTERNAL_CSS_CLASS)}function pe(){Qe.hideTopBar&&Ze.addClass(Oe,Ye.HIDE_TOP_BAR_CSS_CLASS)}function ge(){Qe.NativeSDK&&Ze.addClass(Oe,Ye.WEBVIEW_CSS_CLASS)}function me(e){document.documentElement.setAttribute("lang",e)}function fe(e){var n=e.getStyle("top","border-radius"),t=e.getStyle("input","border-radius");if(n&&t){var o=n.split(" ").slice(0,2),i=t.split(" ").slice(2),a=o[0]+" "+o[1]+" "+i[0]+" "+i[1];Ae.style.borderRadius=n;Oe.style.borderRadius=a}else if(!n&&t)Oe.style.borderRadius=t;else{Ae.style.borderRadius=n;Oe.style.borderRadius=n}}function ve(e){var n=e.getStyle("mobileOpacity","text");n&&"true"===n&&(Oe.style.opacity=1)}function he(){window.outerWidth<window.innerWidth&&window.outerWidth<Ye.MINIMUM_INNER_WIDTH&&window.resizeTo(Ye.MINIMUM_INNER_WIDTH,window.outerHeight)}var we,be,ke,Ee,Ce,ye,Se,_e,Te,ze,xe,Ae,Oe,Ie,Ne,Re,je,Me,We,Le,De,Pe,Ue,Ve,Be,Fe,He,Ge,Ke,qe=lpTag.unifiedWindow,Ye={STYLE_TAG_ID:"lpChatStyle",WRAPPER_DIV_ID:"lpChat",WRAPPER_CLASS_NAME:"lp-window-root",WRAPPER_DIV_CSS_CLASS_PREFIX:"lp_",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop",DEVICE_CLASS:"lpdv",ANDROID_CSS_CLASS:"android",IOS_CSS_CLASS:"ios",IOS6_CSS_CLASS:"ios6",IOS8_OR_ABOVE_CSS_CLASS:"ios8_or_above",MAC_OSX_CSS_CLASS:"mac_osx",NATIVE_CSS_CLASS:"native_android",EXTERNAL_CSS_CLASS:"lp_external-window",HIDE_TOP_BAR_CSS_CLASS:"lp_no-top",WEBVIEW_CSS_CLASS:"lp_webview-window",PORTRAIT_CSS_CLASS:"portrait",LANDSCAPE_CSS_CLASS:"landscape",MINIMIZED_VIEW_IFRAME_RENDERING:!1,MAXIMIZED_VIEW_IFRAME_RENDERING:!1,MINIMUM_INNER_WIDTH:372,WAIT_INDICATION_DELAY:250,LARGE:"lp_maximized_large",FLOATING:"lp_floating"},Xe=qe.language,Ze=lpTag.taglets.lpUtil,Je=(qe.log,!1),$e=!1,Qe={isMaximized:!0};Y(e,n,t,i);return{render:f,show:g,hide:m,message:u,removeMessage:D,unbindDomEvents:W,setTitle:p,Messages:_e,getMinimizedElement:h,getBufferStripElement:w,getMaximizedElement:b,getMainWindowElement:v,getChatWrapperElement:k,getSliderButton:E,getWidgetNotificationContainer:C,getWidgetNotificationText:y,getTitleDiv:S,getChattingWIthIcon:_,dispose:O,showClose:T,showMinimized:z,showTopMenu:x,getIconRepository:P,adjustConfigStyle:A,getWrapperElementId:I}};window.lpTag=window.lpTag||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.defaultDictionary=lpTag.unifiedWindow.defaultDictionary||{error:"Error",couldNotConnect:"Oops - unable to connect.",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you won’t be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation.",toMoveThisWindowPressAltPlusArrowKey:"To move this window, press alt plus arrowkey",tooltip_Close:"Close",tooltip_Minimize:"Minimize",tooltip_open_widgets:"Open widgets",tooltip_close_widgets:"Close widgets",tooltip_refresh_slider:"Refresh",closeWindowOkBtn:"OK",closeWindowCancelBtn:"Cancel",windowRegionLabel:"Chat window","de-DE":{error:"Fehler",couldNotConnect:"Leider kann die Verbindung nicht hergestellt werden",tryAgain:"Versuchen Sie es erneut",loadingOnMinimize:"System lädt",loading:"Chat lädt",unableToConnect:"Verbindung kann nicht hergestellt werden",reconnect:"Wiederhole Verbindungsaufbau",chatEndedOnExternalWindow:"Schließen Sie das Fenster, um einen neuen Chat zu starten",externalWindowOpen:"Sie befinden sich derzeit in einem Chatgespräch. Kehren Sie zu diesem Fenster zurück, um den Chat fortzusetzen.",unsupportedBrowserMode:"Ihr Browser ist möglicherweise im Incognito-Modus, oder er blockiert Cookies von Drittanbietern. Bitte starten Sie eine reguläre Browsersitzung, oder überprüfen Sie die Privatsphäreeinstellungen Ihres Browsers.",cannotResumeChat:"Chat vom Tab fortführen, auf dem der Chat begonnen hat",crossDomainError:"Gespräch kann nicht wieder aufgenommen werden. Wechseln Sie zur vorherigen Seite, um fortzufahren.",chatAuthError:"Gehen Sie zurück zur vorherigen Seite oder melden Sie sich an, um das Gespräch fortzuführen.",confirmMessage:"Wenn Sie das Gespräch schließen, können Sie es nicht fortsetzen, auch wenn Sie zurück auf die vorherige Seite gehen oder sich anmelden. Möchten Sie wirklich fortfahren?",startConversationError:"Aktualisieren Sie die Seite und starten Sie ein neues Gespräch.",connectionUnavailable:"Verbindung nicht verfügbar",sessionExpired:"Sitzung abgelaufen",sessionError:"Die Sitzung ist abgelaufen. Schließen Sie dieses Fenster und starten Sie ein neues Gesprächs, um die Unterhaltung fortzusetzen.",sharkSessionExpired:"Aktualisieren Sie die Seite und starten Sie ein neues Gespräch."
},"da-DK":{error:"Fejl",couldNotConnect:"Hov- kan ikke oprette forbindelse",tryAgain:"Prøv igen",loadingOnMinimize:"Indlæser",loading:"Indlæser",unableToConnect:"Kan ikke oprette forbindelse",reconnect:"Prøver at oprette forbindelse igen",chatEndedOnExternalWindow:"Luk vinduet for at starte ny chat",externalWindowOpen:"Du har en igangværende chat. Vend tilbage til vinduet for at fortsætte chatten.",unsupportedBrowserMode:"Din browser er i incognito-funktion eller blokerer eksterne cookies. Åbn en almindelig browser for at chatte eller kontroller browserens indstillinger",cannotResumeChat:"Fortsæt chat fra fanen, hvor interaktionen startede",crossDomainError:"Kan ikke fortsætte samtalen, gå tilbage til forrige side for at fortsætte.",chatAuthError:"Gå tilbage til forrige side eller på og fortsæt samtalen.",confirmMessage:"Lukker du samtalen, kan du ikke fortsætte, selvom du går tilbage eller logger ind. Er du sikker på du vil gå videre?",startConversationError:"Opdater siden og start ny samtale.",connectionUnavailable:"Ingen forbindelse",sessionExpired:"Session udløbet",sessionError:"Din session er udløbet. Luk vinduet og start ny samtale for at fortsætte.",sharkSessionExpired:"Opdater siden og start ny samtale."},"es-ES":{error:"Error",couldNotConnect:"Vaya, no hemos podido conectar",tryAgain:"Inténtelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se ha podido conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat",externalWindowOpen:"Tiene un chat en proceso Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Su navegador puede estar en modo incógnito, o quizá esté bloqueando cookies de terceros. Por favor, abra una sesión de navegador normal para charlar, o compruebe los ajustes de privacidad de su navegador",cannotResumeChat:"Reanudar el chat desde la pestaña donde comenzó la interacción",crossDomainError:"No se puede reanudar la conversación; por favor, vuelva a la página anterior para continuar.",chatAuthError:"Vuelva a la página anterior o inicie sesión para continuar su conversación.",confirmMessage:"Cerrar la conversación significa que no podrá continuar incluso si vuelve o inicia sesión. ¿Seguro que desea continuar?",startConversationError:"Por favor, actualice la página e inicie una nueva conversación.",connectionUnavailable:"Conexión no disponible",sessionExpired:"Sesión caducada",sessionError:"Su sesión ha caducado. Por favor cierre esta ventana e inicie una nueva conversación para reanudar.",sharkSessionExpired:"Por favor, actualice la página e inicie una nueva conversación."},"fi-FI":{error:"Virhe",couldNotConnect:"Oho - yhteys ei onnistunut",tryAgain:"Yritä uudelleen",loadingOnMinimize:"Lataa",loading:"Lataa",unableToConnect:"Yhteys ei onnistunut",reconnect:"Yhdistää uudelleen",chatEndedOnExternalWindow:"Sulje ikkuna aloittaaksesi uuden keskustelun",externalWindowOpen:"Sinulla on meneillään keskustelu. Palaa takaisin kyseiseen ikkunaan jatkaaksesi keskustelua.",unsupportedBrowserMode:"Selaimesi saattaa olla incognito-tilassa tai se saattaa estää kolmannen osapuolen evästeet. Avaa normaali selainistunto keskustellaksesi tai tarkista selaimesi yksityisyysasetukset",cannotResumeChat:"Jatka keskustelua välilehdestä, josta aloitit sen.",crossDomainError:"Keskustelua ei voitu jatkaa, palaa edelliselle sivulle.",chatAuthError:"Mene takaisin edelliselle sivulle tai kirjaudu sisään jatkaaksesi keskustelua.",confirmMessage:"Keskustelun sulkeminen tarkoittaa sitä, ettet voi jatkaa sitä, vaikka palaisitkin takaisin tai kirjautuisit sisään. Haluatko varmasti jatkaa?",startConversationError:"Päivitä tämä sivu ja aloita uusi keskustelu.",connectionUnavailable:"Ei yhteyttä",sessionExpired:"Istunto umpeutui",sessionError:"Istuntosi on umpeutunut. Sulje tämä ikkuna ja aloita uusi keskustelu jatkaaksesi",sharkSessionExpired:"Päivitä tämä sivu ja aloita uusi keskustelu."},"fr-FR":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Réessayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",chatEndedOnExternalWindow:"Fermer la fenêtre pour démarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir à cette fenêtre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-être en mode incognito ou bloque peut-être les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour démarrer une conversation ou vérifiez les paramètres de confidentialité de votre navigateur",cannotResumeChat:"Reprenez la conversation sur l’onglet ou la communication a commencé",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner à la page précédente pour continuer.",chatAuthError:"Retournez à la page précédente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci même si vous retournez en arrière ou si vous vous connectez. Êtes-vous sûr de vouloir continuer ?",startConversationError:"Veuillez rafraîchir la page et démarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expirée",sessionError:"Votre session a expiré. Veuillez fermer cette fenêtre et démarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafraîchir la page et démarrer une nouvelle discussion."},"it-IT":{error:"Errore",couldNotConnect:"Oops - impossibile connettere",tryAgain:"Riprova",loadingOnMinimize:"Caricamento..",loading:"Caricamento..",unableToConnect:"Impossibile connettere.",reconnect:"Tentativo di riconnessione",chatEndedOnExternalWindow:"Chiudi la finestra per iniziare una nuova chat",externalWindowOpen:"Hai una chat in corso. Torna alla finestra per continuare la chat.",unsupportedBrowserMode:"Il tuo browser potrebbe essere in modalità private o bloccare i cookie di terze parti. Apri una sessione di browser regolare oppure controlla le impostazioni di bel browser",cannotResumeChat:"Ripristina la chat dalla scheda in cui è stata avviata l'interazione",crossDomainError:"Impossibile riprendere la conversazione, tornare alla pagina precedente per continuare.",chatAuthError:"Torna alla pagina precedente o accedi per proseguire la conversazione.",confirmMessage:"Se chiuderai la conversazione non potrai proseguirla, nemmeno tornando indietro o effettuando l’acceso. Continuare?",startConversationError:"Aggiorna la pagina e avvia una nuova conversazione.",connectionUnavailable:"Connessione non disponibile",sessionExpired:"Sessione scaduta",sessionError:"Sessione scaduta. Chiudere questa finestra e avviare una nuova conversazione per riprendere.",sharkSessionExpired:"Aggiorna la pagina e avvia una nuova conversazione."},"ja-JP":{error:"エラー",couldNotConnect:"接続に失敗しました",tryAgain:"もう一度実行してください。",loadingOnMinimize:"読み込み中…",loading:"読み込み中…",unableToConnect:"接続に失敗しました。",reconnect:"再度、接続中です。",chatEndedOnExternalWindow:"新しいチャットを開始するにはウィンドウを閉じてください",externalWindowOpen:"継続中のチャットがあります。ウィンドウに戻ってチャットを続行してください。",unsupportedBrowserMode:"ブラウザがプライベートモードになっているか、第三者のクッキーをブロックしている可能性があります。通常のブラウザ セッションを開いてチャットするか、ブラウザのプライバシー設定を確認してください。",cannotResumeChat:"チャットは元の場所から再開してください",crossDomainError:"会話を再開できません。前のページに戻って続行してください。",chatAuthError:"会話を続行するには、前のページに戻るか、ログインしてください。",confirmMessage:"会話をクローズすると、前に戻っても、ログインしても、続行できなくなります。実行しますか?",startConversationError:"ページを再読み込みして、新しい会話を開始してください。",connectionUnavailable:"接続できません",sessionExpired:"セッションが切れました",sessionError:"セッションが切れました。再開するには、このウィンドウを閉じて、新しい会社を開始してください。",sharkSessionExpired:"ページを再読み込みして、新しい会話を開始してください。"},"ko-KR":{error:"오류",couldNotConnect:"이런 - 연결할 수 없습니다",tryAgain:"다시 시도",loadingOnMinimize:"로드 중",loading:"로드 중",unableToConnect:"연결할 수 없습니다",reconnect:"다시 연결을 시도하는 중",chatEndedOnExternalWindow:"새 채팅을 시작하려면 창을 닫습니다",externalWindowOpen:"진행 중인 채팅이 있습니다. 그 창으로 다시 돌아가서 채팅을 계속합니다.",unsupportedBrowserMode:"브라우저가 시크릿 모드이거나 타사의 쿠키를 차단하고 있습니다. 일반 브라우저 세션을 시작하여 채팅하거나 브라우저 개인 정보 설정을 확인하십시오",cannotResumeChat:"상호작용을 시작한 탭에서 채팅을 다시 시작합니다",crossDomainError:"대화를 다시 시작할 수 없습니다. 이전 페이지로 돌아가서 계속 하십시오.",chatAuthError:"이전 페이지로 돌아가거나 로그인하여 대화를 계속합니다.",confirmMessage:"이 대화를 닫으면 뒤로 돌아가거나 로그인하여도 계속할 수 없습니다. 정말로 계속하시겠습니까?",startConversationError:"페이지를 새로 고쳐서 새 대화를 시작하십시오.",connectionUnavailable:"연결을 사용할 수 없음",sessionExpired:"세션이 만료됨",sessionError:"세션이 만료되었습니다. 다시 시작하려면 이 창을 닫고 새 대화를 시작하십시오.",sharkSessionExpired:"페이지를 새로 고쳐서 새 대화를 시작하십시오.",__config__:{timeOrder:"mdt"}},"nl-NL":{error:"Fout",couldNotConnect:"Oeps, we kunnen geen verbinding maken.",tryAgain:"Probeer het opnieuw",loadingOnMinimize:"Bezig met openen...",loading:"Bezig met openen...",unableToConnect:"Er kan geen verbinding tot stand worden gebracht",reconnect:"Er wordt opnieuw geprobeerd verbinding te maken",chatEndedOnExternalWindow:"Sluit het venster om een nieuw chatgesprek te starten.",externalWindowOpen:"Er is een chatgesprek actief. Ga terug naar het venster om het chatgesprek voort te zetten.",unsupportedBrowserMode:"Uw browser is wellicht in incognitomodus of blokkeert cookies van externe partijen. Start een gewone browsersessie om te chatten of controleer de privacy-instellingen van uw browser",cannotResumeChat:"Hervat de chatsessie op het tabblad waar de interactie begon",crossDomainError:"Het gesprek kan niet worden hervat. Ga terug naar de vorige pagina om verder te gaan.",chatAuthError:"Ga terug naar de vorige pagina of meld u aan om uw gesprek te vervolgen.",confirmMessage:"Als u het gesprek beëindigt, kunt u het niet vervolgen – ook al zou u teruggaan of u opnieuw aanmelden.      Weet u zeker dat u verder wilt gaan?",startConversationError:"Vernieuw de pagina en start een nieuw gesprek.",connectionUnavailable:"Verbinding niet beschikbaar",sessionExpired:"Sessie verlopen",sessionError:"Uw sessie is verlopen. Sluit dit venster en start een nieuw gesprek om te hervatten.",sharkSessionExpired:"Vernieuw de pagina en start een nieuw gesprek."},"ru-RU":{error:"Ошибка",couldNotConnect:"Сбой при попытке соединения",tryAgain:"Попробуйте еще раз",loadingOnMinimize:"Загрузка...",loading:"Загрузка...",unableToConnect:"Сбой при попытке соединения",reconnect:"Пробуем восстановить связь",chatEndedOnExternalWindow:"Для начала нового чата закройте это окно.",externalWindowOpen:"Вы уже открыли окно чата. Для продолжения чата в открытом окне вернитесь в него.",unsupportedBrowserMode:"Возможно ваш браузер работает в режиме «инкогнито»; или же блокируютсю внешние куки-файлы. Пожалуйста, проверьте настройки конфиденциальности своего браузера или откройте браузер в обычном режиме",cannotResumeChat:"Чтобы продолжить чат, перейдите на вкладку, из которой чат был начат.",crossDomainError:"Невозможно возобновить разговор. Пожалуйста, вернитесь на предыдущую страницу.",chatAuthError:"Для продолжения разговора вернитесь на предыдущую страницу или войдите в систему.",confirmMessage:"Если вы закроете этот разговор, вы не сможете продолжить его вернувшись на предыдущую страницу или после повторного входа в систему. Продолжить?",startConversationError:"Обновите страницу и начните новый разговор.",connectionUnavailable:"Нет связи",sessionExpired:"Сеанс закончен",sessionError:"Сеанс закончен. Для возобновления разговора закройте это окно и начните новую сессию.",sharkSessionExpired:"Обновите страницу и начните новый разговор."},"pt-BR":{error:"Erro",couldNotConnect:"Ops – impossível conectar.",tryAgain:"Tente novamente",loadingOnMinimize:"Carregando",loading:"Carregando",unableToConnect:"Impossível conectar",reconnect:"Tentando reconectar",chatEndedOnExternalWindow:"Fechar a janela para iniciar um novo chat",externalWindowOpen:"Você tem um chat em andamento. Volte para a janela para continuar o chat.",unsupportedBrowserMode:"Seu navegador poder estar no modo anônimo ou estar bloqueando cookies de terceiros. Abra uma sessão regular do navegador para conversar por chat ou verifique as configurações de privacidade do navegador",cannotResumeChat:"Continuar o chat na guia onde a interação começou",crossDomainError:"Não possível continuar a conversa. Volte para a página anterior para continuar.",chatAuthError:"Volte para a página anterior ou faça login para continuar sua conversa.",confirmMessage:"Fechar a conversa significa que você não poderá continuar mesmo de voltar ou fizer login. Tem certeza de que deseja continuar?",startConversationError:"Atualize a página e inicie uma nova conversa.",connectionUnavailable:"Conexão não disponível.",sessionExpired:"Sessão expirada",sessionError:"Sua sessão expirou. Feche esta janela e inicie uma nova conversa para continuar.",sharkSessionExpired:"Atualize a página e inicie uma nova conversa."},"sk-SK":{error:"Chyba",couldNotConnect:"Uff – pripojenie nie je možné",tryAgain:"Skúste znova",loadingOnMinimize:"Načítavanie",loading:"Načítavanie",unableToConnect:"Pripojenie nie je možné",reconnect:"Pokúša sa o opätovné pripojenie",chatEndedOnExternalWindow:"Ak chcete začať novú konverzáciu, zavrite okno",externalWindowOpen:"Momentálne prebieha konverzácia. Ak chcete pokračovať v konverzácii, vráťte sa do príslušného okna.",unsupportedBrowserMode:"Prehliadač môže byť spustený v anonymnom režime alebo môže blokovať súbory „cookie“ tretích strán. Ak chcete konverzovať, otvorte prehliadač v štandardnom režime alebo skontrolujte nastavenia ochrany osobných údajov prehliadača",cannotResumeChat:"Obnovte diskusiu z karty, na ktorej sa začala interakcia",crossDomainError:"Konverzáciu nemožno obnoviť; pokračujte návratom na predchádzajúcu stránku.",chatAuthError:"Ak chcete pokračovať v konverzácii, vráťte sa na predchádzajúcu stránku alebo sa prihláste.",confirmMessage:"Zavretie konverzácie znamená, že nebudete môcť pokračovať, ani ak sa vrátite alebo prihlásite. Naozaj chcete pokračovať?",startConversationError:"Obnovte stránku a začnite novú konverzáciu.",connectionUnavailable:"Pripojenie je nedostupné",sessionExpired:"Platnosť relácie uplynula",sessionError:"Platnosť vašej relácie uplynula. Ak chcete pokračovať, zavrite toto okno a začnite novú konverzáciu.",sharkSessionExpired:"Obnovte stránku a začnite novú konverzáciu."},"tr-TR":{error:"Hata",couldNotConnect:"Ne yazık ki, bağlanılamıyor",tryAgain:"Tekrar dene",loadingOnMinimize:"Yükleniyor",loading:"Yükleniyor",unableToConnect:"Bağlanılamıyor",reconnect:"Yeniden bağlanmaya çalışılıyor",chatEndedOnExternalWindow:"Yeni sohbet başlatmak için pencereyi kapatın",externalWindowOpen:"Devam eden bir sohbetiniz var. Sohbete devam etmek için o pencereye geri dönün.",unsupportedBrowserMode:"Tarayıcınız gizli modda olabilir veya üçüncü parti tanımlama bilgilerini bloke ediyor olabilir. Lütfen sohbet etmek için normal bir tarayıcı oturumu açın veya tarayıcınızın kişisel gizlilik ayarlarını kontrol edin",cannotResumeChat:"Etkileşimin başladığı sekmeden sohbeti sürdürün",crossDomainError:"Görüşme sürdürülemiyor, lütfen devam etmek için önceki sayfaya geri dönün.",chatAuthError:"Konuşmaya devam etmek için lütfen önceki sayfaya dönün veya tekrar giriş yapın.",confirmMessage:"Bu sohbeti kapatırsanız, tekrar giriş yapsanız veya önceki sayfaya dönseniz bile, daha sonra devam edemezsiniz. Devam etmek istediğinizden emin misiniz?",startConversationError:"Lütfen sayfayı yenileyin ve yeni bir görüşme başlatın.",connectionUnavailable:"Bağlantı yok",sessionExpired:"Oturum süresi doldu",sessionError:"Oturumunuzun süresi doldu. Devam etmek için lütfen bu pencereyi kapatın ve yeni bir görüşme başlatın.",sharkSessionExpired:"Lütfen sayfayı yenileyin ve yeni bir görüşme başlatın."},"en-US":{error:"Error",couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",loading:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",chatEndedOnExternalWindow:"Close window in order to start new chat",externalWindowOpen:"You have an ongoing chat. Return to that window to continue the chat.",unsupportedBrowserMode:"Your browser may be in incognito mode, or it may be blocking third party cookies. Please open a regular browser session to chat, or check your browser privacy settings",cannotResumeChat:"Resume chat from the tab where the interaction began",crossDomainError:"Cannot resume conversation, please return to previous page to continue.",chatAuthError:"Go back to the previous page or log in to continue your conversation.",confirmMessage:"Closing the conversation means that you won’t be able to continue even if you go back or log in. Are you sure you want to proceed?",startConversationError:"Please refresh the page and start a new conversation.",connectionUnavailable:"Connection unavailable",sessionExpired:"Session expired",sessionError:"Your session has expired. Please close this window and start a new conversation in order to resume.",sharkSessionExpired:"Please refresh the page and start a new conversation."},"zh-CN":{error:"错误",couldNotConnect:"哎呀——无法连接",tryAgain:"重试",loadingOnMinimize:"正在加载",loading:"正在加载",unableToConnect:"无法连接",reconnect:"正在尝试重新连接",chatEndedOnExternalWindow:"关闭窗口以开始新聊天",externalWindowOpen:"您有一个未完成的聊天。返回该窗口以继续聊天。",unsupportedBrowserMode:"您的浏览器可能处于无痕模式，或者它可能屏蔽第三方的 cookie。请打开正常浏览器会话以聊天，或检查浏览器的隐私设置",cannotResumeChat:"从开始互动的选项卡中恢复聊天",crossDomainError:"无法继续对话，请返回上一页以继续。",chatAuthError:"返回上一页或登录以继续对话。",confirmMessage:"关闭对话意味着即使您返回或登录也无法继续。您确定要继续吗？",startConversationError:"请刷新页面并开始新的对话。",connectionUnavailable:"连接不可用",sessionExpired:"会话过期",sessionError:"您的会话已过期。请关闭此窗口并开始新对话以继续。",sharkSessionExpired:"请刷新页面并开始新的对话。"},"ro-RO":{error:"Eroare",couldNotConnect:"Oops - nu se poate conecta",tryAgain:"Încercați din nou",loadingOnMinimize:"Se încarcă",loading:"Se încarcă",unableToConnect:"Nu se poate conecta",reconnect:"Se încearcă reconectarea",chatEndedOnExternalWindow:"Închideți fereastra pentru a începe un nou chat",externalWindowOpen:"Aveți un chat în desfășurare. Reveniți la fereastra respectivă pentru a continua chatul.",unsupportedBrowserMode:"Este posibil ca browserul dv. să fie în modul incognito sau să blocheze cookie-urile de la terți. Vă rugăm deschideți o sesiune ordinară de browser sau verificați setările de confidențialitate.",cannotResumeChat:"Reluați conversația de pe fila unde a început interacțiunea.",crossDomainError:"Conversația nu poate fi reluată. Pentru a continua, vă rugăm să reveniți la pagina anterioară.",chatAuthError:"Mergeți la pagina anterioară sau autentificați-vă pentru a continua conversația.",confirmMessage:"Dacă închideți conversația, nu o mai puteți continua chiar dacă mergeți la pagina anterioară sau vă autentificați. Sunteți sigur(ă) că doriți să continuați?",startConversationError:"Vă rugăm actualizați pagina și începeți o nouă conversație.",connectionUnavailable:"Conexiune indisponibilă",sessionExpired:"Sesiune expirată",sessionError:"Sesiunea dv. a expirat. Pentru a continua, vă rugăm închideți fereastra și începeți o nouă conversație.",sharkSessionExpired:"Vă rugăm actualizați pagina și începeți o nouă conversație."},"uk-UA":{error:"Помилка",couldNotConnect:"Помилка. Не вдалося підключитися",tryAgain:"Спробуйте ще раз",loadingOnMinimize:"Триває завантаження",loading:"Триває завантаження",unableToConnect:"Не вдалося підключитися",reconnect:"Триває спроба відновлення підключення",chatEndedOnExternalWindow:"Закрийте вікно, щоб почати нову розмову",externalWindowOpen:"У вас є активна розмова. Поверніться до цього вікна, щоб продовжити розмову.",unsupportedBrowserMode:"Можливо, ваш браузер відкрито в режимі інкогніто або він блокує сторонні файли cookies Для спілкування відкрийте браузер у звичайному режимі або перевірте налаштування приватності браузера",cannotResumeChat:"Продовжити чат зі вкладення, на якому було розпочато діалог",crossDomainError:"Неможливо відновити розмову. Для продовження поверніться на попередню сторінку.",chatAuthError:"Поверніться на попередню сторінку або виконайте вхід, щоб продовжити розмову.",confirmMessage:"Якщо ви закриєте розмову, то не зможете продовжити, навіть якщо повернетеся назад або виконаєте вхід. Справді продовжити?",startConversationError:"Оновіть сторінку та розпочніть нову розмову.",connectionUnavailable:"Підключення недоступне",sessionExpired:"Термін дії сеансу завершився",sessionError:"Термін дії сеансу завершився. Для продовження закрийте вікно та почніть нову розмову.",sharkSessionExpired:"Оновіть сторінку та розпочніть нову розмову."},"ar-AE":{error:"خطأ",couldNotConnect:"عفوا - تعذر الاتصال",tryAgain:"أعد المحاولة",loadingOnMinimize:"تحميل",loading:"تحميل",unableToConnect:"تعذر الاتصال",reconnect:"محاولة إعادة الاتصال",chatEndedOnExternalWindow:"اغلق النافذة حتى تتمكن من فتح محادثة جديدة",externalWindowOpen:"لديك محادثة جارية. ارجع إلى تلك النافذة للاستمرار في المحادثة.",unsupportedBrowserMode:"ربما يكون المستعرض في وضع التصفح الخفي أو ربما أنه يحظر ملفات الكوكي من الغير. يرجى فتح جلسة مستعرض عادية لإتمام المحادثة أو التأكد من إعدادات الخصوصية في المستعرض.",cannotResumeChat:"إستئنف الدردشة من علامة التبويب التي بدأ فيها التفاعل",crossDomainError:"يتعذر استئناف المحادثة. يرجى الرجوع إلى الصفحة السابقة للمتابعة.",chatAuthError:"ارجع إلى الصفحة السابقة أو قم بتسجيل الدخول لمتابعة المحادثة.",confirmMessage:"إغلاق المحادثة يعني أنك لن تستطيع المتابعة حتى بعد الرجوع للصفحة السابقة أو تسجيل الدخول. هل أنت متأكد أنك تريد المتابعة؟",startConversationError:"رجاءً أنعش الصفحة وابدأ محادثة جديدة.",connectionUnavailable:"لا يوجد اتصال متاح",sessionExpired:"انتهت صلاحية الجلسة",sessionError:"انتهيت صلاحية جلستك. يرجى إغلاق هذه النافذة وفتح محادثة جديدة من أجل الاستئناف.",sharkSessionExpired:"رجاءً أنعش الصفحة وابدأ محادثة جديدة."},"hr-HR":{error:"Greška",couldNotConnect:"Ups - povezivanje nije uspjelo",tryAgain:"Pokušajte ponovno",loadingOnMinimize:"Učitavanje",loading:"Učitavanje",unableToConnect:"Nije se moguće povezati",reconnect:"Ponovno se pokušava uspostaviti veza",chatEndedOnExternalWindow:"Zatvorite prozor kako biste započeli novo čavrljanje",externalWindowOpen:"Imate aktivno čavrljanje Vratite se u taj prozor ako želite nastaviti čavrljati.",unsupportedBrowserMode:"Vaš preglednik možda je u inkognito načinu rada ili blokira kolačiće treće strane. Ako želite čavrljati, započnite sesiju u običnom pregledniku ili provjerite postavke privatnosti u vašem pregledniku",cannotResumeChat:"Čavrljanje ćete nastaviti u kartici u kojoj ste započeli interakciju",crossDomainError:"Nije moguće nastaviti razgovor, molimo vratite se na prethodnu stranicu kako biste nastavili.",chatAuthError:"Vratite se natrag na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor nećete moći nastaviti čak i ako se vratite natrag ili se prijavite. Jeste li sigurni da želite nastaviti?",startConversationError:"Molimo osvježite stranicu i započnite novi razgovor.",connectionUnavailable:"Veza je nedostupna.",sessionExpired:"Sesija je istekla",sessionError:"Vaša sesija je istekla. Ako želite nastaviti, zatvorite ovaj prozor i pokrenite novi razgovor.",sharkSessionExpired:"Molimo osvježite stranicu i započnite novi razgovor."},"lt-LT":{error:"Klaida",couldNotConnect:"Atsiprašome, prisijungti nepavyko",tryAgain:"Bandyti vėl",loadingOnMinimize:"Įkeliama",loading:"Įkeliama",unableToConnect:"Nepavyksta prisijungti",reconnect:"Bandoma prisijungti pakartotinai",chatEndedOnExternalWindow:"Užverkite langą, jei norite pradėti naują pokalbį",externalWindowOpen:"Šiuo metu turite vykstantį pokalbį. Grįžkite į tą langą, kad galėtumėte tęsti pokalbį.",unsupportedBrowserMode:"Galbūt jūsų naršyklė veikia „incognito“ režimu, arba blokuoja trečiųjų šalių slapukus. Atverkite įprastą naršyklės seansą, kad galėtumėte pradėti pokalbį, arba patikrinkite savo naršyklės privatumo nuostatas",cannotResumeChat:"Pratęskite pokalbį iš kortelės, kurioje pradėjote bendrauti",crossDomainError:"Pokalbio tęsti negalima, prašome grįžti į ankstesnį puslapį ir tęsti iš ten.",chatAuthError:"Grįžkite į ankstesnį puslapį arba prisijunkite, kad galėtumėte tęsti pašnekesį.",confirmMessage:"Jei užversite pašnekesį, nebegalėsite tęsti, net jei grįšite atgal arba prisijungsite. Ar tikrai norite tęsti?",startConversationError:"Atnaujinkite puslapį ir pradėkite naują pokalbį.",connectionUnavailable:"Yra ryšys",sessionExpired:"Seansas baigėsi",sessionError:"Jūsų seansas baigėsi. Norėdami tęsti, užverkite šį langą ir pradėkite naują pokalbį.",sharkSessionExpired:"Atnaujinkite puslapį ir pradėkite naują pokalbį."},"hu-HU":{error:"Hiba",couldNotConnect:"Kapcsolódás sikertelen",tryAgain:"Kérjük, hogy próbáld meg újra!",loadingOnMinimize:"Betöltés",loading:"Betöltés",unableToConnect:"Kapcsolódás sikertelen",reconnect:"Újrakapcsolódás folyamatban",chatEndedOnExternalWindow:"Ablak bezárása új csevegés indításához",externalWindowOpen:"Folyamatban lévő csevegése van. Visszatérés ahhoz az ablakhoz a csevegés folytatásához.",unsupportedBrowserMode:"A böngésző inkognító módban lehet, vagy harmadik fél sütijét (cookie) blokkolja. Kérem, nyisson meg egy hagyományos böngésző ablakot vagy csevegést, vagy ellenőrizze a böngésző adatvédelmi beállításait",cannotResumeChat:"Hiba történt! Kérjük, hogy folytasd a beszélgetést arról a fülről, ahol a chat kezdődött",crossDomainError:"A beszélgetés nem folytatható. Kérem, lépjen vissza az előző oldalra a folytatáshoz.",chatAuthError:"A beszélgetés folytatásához lépj vissza az előző oldalra, vagy jelentkezz be.",confirmMessage:"A beszélgetés bezárása esetén akkor sem fogod tudni folytatni, ha visszalépsz vagy bejelentkezel. Biztosan folytatod?",startConversationError:"Nyisson új oldalt és kezdjen új beszélgetést.",connectionUnavailable:"A kapcsolat nem érhető el",sessionExpired:"A munkamenet lejárt",sessionError:"Az ülése lejárt. Kérem, zárja be az ablakot és az újrakezdéshez indítson új beszélgetést.",sharkSessionExpired:"Nyisson új oldalt és kezdjen új beszélgetést."},"fr-CA":{error:"Erreur",couldNotConnect:"Oops - connexion impossible.",tryAgain:"Réessayer",loadingOnMinimize:"Chargement",loading:"Chargement",unableToConnect:"Impossible de se connecter",reconnect:"Tentative de reconnexion en cours",chatEndedOnExternalWindow:"Fermer la fenêtre pour démarrer une nouvelle conversation",externalWindowOpen:"Vous avez une conversation en cours. Revenir à cette fenêtre pour continuer la conversation.",unsupportedBrowserMode:"Votre navigateur est peut-être en mode incognito ou bloque peut-être les cookies en provenance de tierce partie. Veuillez ouvrir une session de navigateur ordinaire pour démarrer une conversation ou vérifiez les paramètres de confidentialité de votre navigateur",cannotResumeChat:"Reprenez la conversation sur l’onglet ou la communication a commencé",crossDomainError:"Impossible de reprendre la conversation. Veuillez retourner à la page précédente pour continuer.",chatAuthError:"Retournez à la page précédente ou connectez-vous pour continuer votre conversation.",confirmMessage:"Si vous fermez la conversation, vous ne pourrez pas continuer celle-ci même si vous retournez en arrière ou si vous vous connectez. Êtes-vous sûr(e) de vouloir continuer ?",startConversationError:"Veuillez rafraîchir la page et démarrer une nouvelle discussion.",connectionUnavailable:"Connexion indisponible",sessionExpired:"Session expirée",sessionError:"Votre session a expiré. Veuillez fermer cette fenêtre et démarrer une nouvelle conversation pour continuer.",sharkSessionExpired:"Veuillez rafraîchir la page et démarrer une nouvelle discussion."},"bg-BG":{error:"Грешка",couldNotConnect:"Опа – не може да се свърже",tryAgain:"Опитайте отново",loadingOnMinimize:"Зареждане",loading:"Зареждане",unableToConnect:"Не може да се свърже",reconnect:"Опитва се да се свърже отново",chatEndedOnExternalWindow:"Затворете прозореца, за да започнете нов чат",externalWindowOpen:"Имате текущ чат. Върнете се към този прозорец, за да продължите чата.",unsupportedBrowserMode:"Вашият браузър може да е в режим „инкогнито“ или може да блокира бисквитки от трети страни. Моля, отворете редовна сесия на браузъра, за да чатите, или проверете настройките за поверителност на браузъра",cannotResumeChat:"Продължете чата от раздела, от който е започнат разговора",crossDomainError:"Разговорът не може да бъде възобновен. Моля, върнете се към предишната страница, за да продължите.",chatAuthError:"Върнете се към предишната страница или влезте, за да продължите разговора си.",confirmMessage:"Затварянето на разговора означава, че няма да можете да продължите, дори и да се върнете или да влезете. Сигурни ли сте, че желаете да продължите?",startConversationError:"Моля, опреснете страницата и започнете нов разговор.",connectionUnavailable:"Връзката е недостъпна",sessionExpired:"Изтекла сесия",sessionError:"Сесията Ви е изтекла. Моля, затворете този прозорец и започнете нов разговор, за възобновяване.",sharkSessionExpired:"Моля, опреснете страницата и започнете нов разговор."},"zh-TW":{error:"錯誤",couldNotConnect:"糟糕，無法連線",tryAgain:"再試一次",loadingOnMinimize:"載入中",loading:"載入中",unableToConnect:"無法連線",reconnect:"正在嘗試重新連線",chatEndedOnExternalWindow:"關閉視窗以啟動新的交談",externalWindowOpen:"您有正在進行中的交談返回該視窗以繼續交談。",unsupportedBrowserMode:"瀏覽器可能處於匿名模式，或是封鎖第三方 Cookie。請開啟一般瀏覽器工作階段以執行交談，或是檢查瀏覽器隱私設定",cannotResumeChat:"如需恢復對話，請打開您之前進行互動的分頁",crossDomainError:"無法恢復對話，請回到上一頁以繼續。",chatAuthError:"回到上一頁或登入繼續對話。",confirmMessage:"若關閉對話就無法再繼續對話，即使返回或登入亦然。您確定要繼續嗎？",startConversationError:"請重新整理頁面以開始新對話。",connectionUnavailable:"無可用連線",sessionExpired:"工作階段已到期",sessionError:"您的工作階段已到期。請關閉此視窗並啟動新的對話，以繼續操作。",sharkSessionExpired:"請重新整理頁面以開始新對話。"},"el-GR":{error:"Σφάλμα",couldNotConnect:"Ωχ - δεν ήταν δυνατή η σύνδεση",tryAgain:"Προσπαθήστε ξανά",loadingOnMinimize:"Φόρτωση",loading:"Φόρτωση",unableToConnect:"Δεν είναι δυνατή η σύνδεση",reconnect:"Γίνεται προσπάθεια επανασύνδεσης",chatEndedOnExternalWindow:"Κλείστε το παράθυρο για να ξεκινήσετε μια νέα συνομιλία",externalWindowOpen:"Υπάρχει μια συνομιλία σε εξέλιξη. Επιστρέψτε στο αντίστοιχο παράθυρο για να συνεχίσετε τη συνομιλία.",unsupportedBrowserMode:"Το πρόγραμμα περιήγησης που χρησιμοποιείτε ίσως βρίσκεται σε κατάσταση ανώνυμης περιήγησης ή αποτρέπει τη χρήση cookies από τρίτους. Ανοίξτε το πρόγραμμα περιήγησης σε κανονική λειτουργία για να συνομιλήσετε ή ελέγξτε τις ρυθμίσεις απορρήτου του προγράμματος",cannotResumeChat:"Συνεχίστε τη συνομιλία από την καρτέλα όπου ξεκίνησε η αλληλεπίδραση",crossDomainError:"Δεν είναι δυνατή η συνέχιση της συνομιλίας, επιστρέψτε στην προηγούμενη σελίδα για να συνεχίσετε.",chatAuthError:"Επιστρέψτε στην προηγούμενη σελίδα ή συνδεθείτε για να συνεχίσετε τη συνομιλία σας.",confirmMessage:"Αν κλείσετε τη συνομιλία, δεν θα μπορέσετε να συνεχίσετε ακόμα κι αν επιστρέψετε πίσω ή συνδεθείτε. Είστε σίγουροι ότι θέλετε να προχωρήσετε με αυτήν την ενέργεια;",startConversationError:"Κάντε ανανέωση της σελίδας και ξεκινήστε μια νέα συζήτηση.",connectionUnavailable:"Μη διαθέσιμη σύνδεση",sessionExpired:"Η περίοδος λειτουργίας έχει λήξει",sessionError:"Η περίοδος λειτουργίας έχει λήξει. Για να συνεχίσετε, κλείστε αυτό το παράθυρο και ξεκινήστε μια νέα συνομιλία.",sharkSessionExpired:"Κάντε ανανέωση της σελίδας και ξεκινήστε μια νέα συζήτηση."},"sl-SL":{error:"Napaka",couldNotConnect:"Ups – povezave ni mogoče vzpostaviti",tryAgain:"Poskusi znova",loadingOnMinimize:"Nalagam",loading:"Nalagam",unableToConnect:"Povezave ni mogoče vzpostaviti",reconnect:"Poskušam znova vzpostaviti povezavo",chatEndedOnExternalWindow:"Zapri okno za začetek novega klepeta",externalWindowOpen:"Odprt imate aktivni klepet. Za nadaljevanje pogovora se vrnite na to okno.",unsupportedBrowserMode:"Vaš brskalnik je morda v načinu brez beleženja zgodovine ali pa morda blokira piškotke tretjih oseb. Za klepet odprite običajno sejo brskalnika ali pa preverite njegove nastavitve zasebnosti.",cannotResumeChat:"Nadaljujte s klepetom na zavihku, v katerem ste začeli s komunikacijo",crossDomainError:"S pogovorom ni možno nadaljevati, za nadaljevanje se vrnite na prejšnjo stran.",chatAuthError:"Pojdite na prejšnjo stran ali se prijavite in nadaljujte s pogovorom.",confirmMessage:"Če zaprete pogovor, bo to pomenilo, da ne boste mogli nadaljevati, četudi se ponovno prijavite. Ali ste prepričani, da želite nadaljevati?",
startConversationError:"Osvežite stran in začnite nov pogovor",connectionUnavailable:"Povezava ni na voljo",sessionExpired:"Seja je potekla",sessionError:"Vaša seja je potekla. Za nadaljevanje zaprite to okno in začnite nov pogovor.",sharkSessionExpired:"Osvežite stran in začnite nov pogovor"},"en-UK":{couldNotConnect:"Oops - unable to connect",tryAgain:"Try again",loadingOnMinimize:"Loading",unableToConnect:"Unable to connect",reconnect:"Trying to reconnect",startConversationError:"Please refresh the page and start a new conversation."},"pl-PL":{error:"Błąd",couldNotConnect:"Niestety, nie można się połączyć.",tryAgain:"Spróbuj ponownie",loadingOnMinimize:"Ładowanie",loading:"Ładowanie",unableToConnect:"Nie można się połączyć",reconnect:"Próba ponownego połączenia",chatEndedOnExternalWindow:"Zamknij okno, aby rozpocząć nową rozmowę",externalWindowOpen:"Masz bieżącą rozmowę. Wróć do tego okna, aby kontynuować rozmowę.",unsupportedBrowserMode:"Twoja przeglądarka może być uruchomiona w trybie incognito lub może blokować pliki cookie innych firm. Otwórz regularną sesję przeglądarki, aby porozmawiać lub sprawdź ustawienia prywatności przeglądarki.",cannotResumeChat:"Wznów rozmowę na karcie, na której rozpoczęła się interakcja",crossDomainError:"Nie można wznowić rozmowy; aby kontynuować, wróć do poprzedniej strony.",chatAuthError:"Wróć do poprzedniej strony lub zaloguj się, aby kontynuować rozmowę.",confirmMessage:"Zamknięcie rozmowy będzie oznaczać, że kontynuowanie nie będzie możliwe, nawet jeżeli wrócisz do poprzedniej strony lub się zalogujesz. Czy na pewno chcesz kontynuować?",startConversationError:"Prosimy odświeżyć stronę i rozpocząć nową rozmowę.",connectionUnavailable:"Połączenie niedostępne",sessionExpired:"Sesja wygasła",sessionError:"Twoja sesja wygasła. Zamknij to okno i rozpocznij nową konwersację, aby wznowić.",sharkSessionExpired:"Prosimy odświeżyć stronę i rozpocząć nową rozmowę."},"zh-HK":{error:"错误",couldNotConnect:"哎 – 無法連接",tryAgain:"再試一次",loadingOnMinimize:"載入中",loading:"載入中",unableToConnect:"無法連接",reconnect:"正在嘗試再連接",chatEndedOnExternalWindow:"關閉視窗以啟動新的交談",externalWindowOpen:"您有正在進行中的交談返回該視窗以繼續交談。",unsupportedBrowserMode:"瀏覽器可能處於匿名模式，或是封鎖第三方 Cookie。請開啟一般瀏覽器工作階段以執行交談，或是檢查瀏覽器隱私設定",cannotResumeChat:"如需恢復對話，請打開您之前進行互動的分頁",crossDomainError:"無法恢復對話，請回到上一頁以繼續。",chatAuthError:"回到上一頁或登入繼續對話。",confirmMessage:"若關閉對話就無法再繼續對話，即使返回或登入亦然。你是否想結束此對話？",startConversationError:"請重新整理頁面以開始新對話。",connectionUnavailable:"無可用連線",sessionExpired:"工作階段已到期",sessionError:"您的工作階段已到期。請關閉此視窗並啟動新的對話，以繼續操作。",sharkSessionExpired:"請重新整理頁面以開始新對話。"},"et-EE":{error:"Tõrge",couldNotConnect:"Oih! Ühendamine ei õnnestu",tryAgain:"Proovige uuesti",loadingOnMinimize:"Laadimine",loading:"Laadimine",unableToConnect:"Ei suuda luua ühendust",reconnect:"Püüame uuesti ühendada",chatEndedOnExternalWindow:"Uue vestluse alustamiseks sulgege aken",externalWindowOpen:"Teil on avatud vestlus. Minge vestluse jätkamiseks tagasi aknasse.",unsupportedBrowserMode:"Teie brauser võib olla inkognito režiimis või blokeeritud kolmanda poole küpsiste poolt. Avage palun vestluseks tavaline brauseri sessioon või kontrollige oma privaatsusseadeid.",cannotResumeChat:"Jätkake vestlust vahelehelt, kus koostöö algas",crossDomainError:"Ei saa vestlust lõpetada, jätkamiseks minge tagasi eelmisele leheküljele.",chatAuthError:"Vestluse jätkamiseks naaske eelmisele lehele või logige sisse.",confirmMessage:"Kui see vestlus suletakse, ei saa te seda hiljem uuesti käivitada (isegi kui logite uuesti sisse). Olete kindel, et soovite vestluse lõpetada?",startConversationError:"Värskendage lehekülge ja alustage uut vestlust.",connectionUnavailable:"Ühenduse loomine ei ole võimalik",sessionExpired:"Sessioon aegus",sessionError:"Teie sessioon on aegunud. Sulgege palun see aken ja alustage jätkamiseks uut vestlust.",sharkSessionExpired:"Värskendage lehekülge ja alustage uut vestlust."},"mk-MK":{error:"Грешка",couldNotConnect:"Поврзувањето не успеа",tryAgain:"Обидете се повторно",loadingOnMinimize:"Вчитувам",loading:"Вчитувам",unableToConnect:"Поврзувањето не успеа.",reconnect:"Се обидувам да се поврзам",chatEndedOnExternalWindow:"Затвори го прозорецот за да започнам нов муабет",externalWindowOpen:"Имате започнат муабет. Вратете се на тој прозорец за да го завршите муабетот.",unsupportedBrowserMode:"Прелистувачот е во режим за тајност или ги блокира колачињата од трето лице. Отворете регуларна сесија за муабет во прелистувачот или проверете ги поставките за приватност кај прелистувачот",cannotResumeChat:"Вратете го разговорот кај табулаторот каде започна интеракцијата",crossDomainError:"Разговорот не може да се обнови. Вратете се на претходната страница за да продолжите.",chatAuthError:"Вратете се на претходната страница или најавете се за да продолжите со разговорот.",confirmMessage:"Ако го затворите овој разговор, нема да можете да го продолжите подоцна, дури и ако повторно се пријавите. Дали сигурно сакате да го затворите овој разговор?",startConversationError:"Освежете ја страницата и започнете нов разговор.",connectionUnavailable:"Нема врска",sessionExpired:"Сесијата е истечена",sessionError:"Сесијата истече. Затворете го прозорецот и започнете нов разговор за да продолжите.",sharkSessionExpired:"Освежете ја страницата и започнете нов разговор."},"lv-LV":{error:"Kļūda",couldNotConnect:"Diemžēl neizdevās izveidot savienojumu",tryAgain:"Mēģiniet vēlreiz",loadingOnMinimize:"Notiek ielāde",loading:"Notiek ielāde",unableToConnect:"Neizdevās izveidot savienojumu",reconnect:"Mēģina vēlreiz izveidot savienojumu",chatEndedOnExternalWindow:"Aizveriet logu, lai sāktu jaunu tērzēšanu",externalWindowOpen:"Jums ir atvērta tērzēšanas sesija. Atgriezieties attiecīgajā logā, lai turpinātu tērzēšanu.",unsupportedBrowserMode:"Jūsu pārlūkprogramma var būt inkognito režīmā vai bloķē trešo pušu sīkfailus. Lūdzu, atveriet parastu pārlūkprogrammas sesiju, lai tērzētu, vai pārbaudiet savas pārlūkprogrammas privātuma iestatījumus",cannotResumeChat:"Turpiniet čatu no cilnes, kur saziņa sākās.",crossDomainError:"Nevar turpināt sarunu; lūdzu, atgriezties iepriekšējā lapā, lai turpinātu.",chatAuthError:"Dodieties atpakaļ uz iepriekšējo lapu vai piesakieties, lai turpinātu savu sarunu.",confirmMessage:"Sarunas aizvēršana nozīmē, ka jūs nevarēsit turpināt, pat ja atgriezīsities vai pieteiksieties. Vai tiešām vēlaties to darīt?",startConversationError:"Lūdzu, atsvaidziniet šo lapu un sāciet jaunu sarunu.",connectionUnavailable:"Savienojums nav pieejams",sessionExpired:"Sesijas derīgums beidzies",sessionError:"Jūsu sesijas derīgums ir beidzies. Lūdzu, aizveriet šo logu un sāciet jaunu sarunu, lai turpinātu.",sharkSessionExpired:"Lūdzu, atsvaidziniet šo lapu un sāciet jaunu sarunu."},"nb-NO":{error:"Feil",couldNotConnect:"Obs - kunne ikke koble til",tryAgain:"Prøv på nytt",loadingOnMinimize:"Laster inn",loading:"Laster inn",unableToConnect:"Kunne ikke koble til",reconnect:"Prøver å koble til på nytt",chatEndedOnExternalWindow:"Lukk vinduet for å starte en ny chat",externalWindowOpen:"Du er allerede i en aktiv chat. Dra tilbake til vinduet for å fortsette chatten.",unsupportedBrowserMode:"Det er mulig at din nettleser er i inkognitomodus eller at den blokkeres av informasjonskapsler fra en tredjepart. Vennligst start en vanlig nettleserside for å chatte eller bruk nettleserens historikk",cannotResumeChat:"Gjenoppta chaten fra fanen hvor kommunikasjonen begynte",crossDomainError:"Kunne ikke opprettholde samtalen. Gå tilbake til forrige side for å fortsette.",chatAuthError:"Gå tilbake til forrige side eller logg inn og fortsett samtalen.",confirmMessage:"Hvis du lukker denne samtalen, kan du ikke fortsette på den, selv om du kommer tilbake senere eller logger inn igjen. Er du sikker på at du vil fortsette?",startConversationError:"Vennligst oppdater siden og start en ny samtale.",connectionUnavailable:"Tilkobling ikke tilgjengelig",sessionExpired:"Økt utløpt",sessionError:"Økten din er utløpt. Vennligst lukk vinduet og start en ny samtale for å fortsette.",sharkSessionExpired:"Vennligst oppdater siden og start en ny samtale."},"cs-CZ":{error:"Chyba",couldNotConnect:"Chyba! Připojení se nezdařilo.",tryAgain:"Zkuste to znovu",loadingOnMinimize:"Nahrávání",loading:"Nahrávání",unableToConnect:"Připojení nelze navázat.",reconnect:"Pokus o opětovné připojení",chatEndedOnExternalWindow:"Zavřete okno, abyste mohli začít nový chat",externalWindowOpen:"Váš chat pokračuje. Vraťte se k oknu, abyste mohli v chatu pokračovat.",unsupportedBrowserMode:"Váš prohlížeč může být v režimu inkognito, nebo může blokovat cookies třetích stran. Chcete-li chatovat, otevřete běžnou relaci prohlížeče, nebo zkontrolujte nastavení soukromí svého prohlížeče",cannotResumeChat:"Pokračujte v konverzaci ze záložky, kde interakce začala",crossDomainError:"Není možno znovu začít konverzaci; chcete-li pokračovat, vraťte se na předchozí stránku.",chatAuthError:"Vraťte se na předchozí stránku nebo se přihlaste, chcete-li pokračovat v konverzaci.",confirmMessage:"Pokud ukončíte konverzaci, nebudete ji moci obnovit. Opravdu chcete zavřít tuto konverzaci?",startConversationError:"Obnovte prosím stránku a zahajte novou konverzaci.",connectionUnavailable:"Spojení není dostupné",sessionExpired:"Relace vypršela",sessionError:"Vaše relace vypršela. Abyste mohli pokračovat, zavřete toto okno a začněte novou konverzaci.",sharkSessionExpired:"Obnovte prosím stránku a zahajte novou konverzaci."},"pt-PT":{error:"Erro",couldNotConnect:"Ups, não foi possível estabelecer ligação",tryAgain:"Tente novamente",loadingOnMinimize:"A carregar",loading:"A carregar",unableToConnect:"Não foi possível estabelecer ligação",reconnect:"A tentar estabelecer de novo a ligação",chatEndedOnExternalWindow:"Fechar janela para iniciar uma nova conversa",externalWindowOpen:"Tem uma conversa em curso. Volte para essa janela para continuar a conversa.",unsupportedBrowserMode:"O browser pode estar no modo de navegação anónima ou a bloquear cookies de terceiros. Abra uma sessão normal com o browser para conversar ou verifique as definições de privacidade do browser",cannotResumeChat:"Retome a conversa a partir do separador onde teve início a interacção",crossDomainError:"Não é possível retomar a conversação, volte à página anterior para continuar",chatAuthError:"Volte para a página anterior ou inicie sessão para continuar a sua conversa.",confirmMessage:"Se fechar a conversa, não a poderá continuar mesmo que volte ou que inicie sessão. Tem a certeza de que pretende continuar?",startConversationError:"Atualize a página e inicie uma nova conversa.",connectionUnavailable:"Ligação não disponível",sessionExpired:"Sessão expirada",sessionError:"A sua sessão expirou. Por favor, feche esta janela e inicie uma nova conversa a fim de retomar.",sharkSessionExpired:"Atualize a página e inicie uma nova conversa."},"es-419":{error:"Error",couldNotConnect:"Vaya, no pudimos conectar",tryAgain:"Inténtelo de nuevo",loadingOnMinimize:"Cargando",loading:"Cargando",unableToConnect:"No se pudo conectar",reconnect:"Intentando reconectar",chatEndedOnExternalWindow:"Cierre la ventana para iniciar un nuevo chat.",externalWindowOpen:"Tiene un chat en curso. Vuelva a esa ventana para continuar el chat.",unsupportedBrowserMode:"Puede que su navegador está en modo incógnito, o quizá esté bloqueando cookies de terceros. Abra una sesión de navegador normal para charlar, o revise los ajustes de privacidad de su navegador.",cannotResumeChat:"Reanudar el chat desde la pestaña donde comenzó la interacción",crossDomainError:"No se puede reanudar la conversación. Para continuar, vuelva a la página anterior.",chatAuthError:"Vaya a la página anterior o inicie sesión para continuar su conversación",confirmMessage:"Cerrar la conversación significa que no podrá continuar, incluso si va a la página anterior o si inicia sesión. ¿Seguro que desea proceder?",startConversationError:"Actualice la página y comience una nueva conversación.",connectionUnavailable:"Conexión no disponible",sessionExpired:"Sesión expirada",sessionError:"Su sesión ha expirado. Para reanudar, cierre esta ventana e inicie una nueva conversación.",sharkSessionExpired:"Actualice la página y comience una nueva conversación."},"th-TH":{error:"ข้อผิดพลาด",couldNotConnect:"อุ๊ย – ไม่สามารถเชื่อมต่อได้",tryAgain:"ลองอีกครั้ง",loadingOnMinimize:"กำลังโหลด",loading:"กำลังโหลด",unableToConnect:"ไม่สามารถเชื่อมต่อได้",reconnect:"กำลังพยายามเชื่อมต่อใหม่",chatEndedOnExternalWindow:"ปิดหน้าต่างเพื่อเริ่มแชตใหม่",externalWindowOpen:"คุณมีการสนทนาที่ยังดำเนินอยู่ กลับไปยังหน้าต่างนั้นเพื่อสนทนาต่อ",unsupportedBrowserMode:"เบราว์เซอร์ของคุณอาจอยู่ในโหมดไม่เผยตัวตน หรืออาจมีคุกกี้ที่บล็อกบุคคลที่สาม โปรดเปิดเซสชันเบราว์เซอร์ปกติเพื่อแชต หรือตรวจสอบการตั้งค่าความเป็นส่วนตัวของเบราว์เซอร์ของคุณ",cannotResumeChat:"สนทนาต่อจากแท็บที่เริ่มการปฏิสัมพันธ์",crossDomainError:"ไม่สามารถเรียกคืนบทสนทนาได้ โปรดกลับไปยังหน้าเพจก่อนหน้านี้เพื่อดำเนินการต่อ",chatAuthError:"กลับไปยังหน้าที่แล้ว หรือเข้าสู่ระบบใหม่เพื่อคุยต่อ",confirmMessage:"การปิดกล่องสนทนาแปลว่าคุณจะไม่สามารถคุยต่อได้ แม้ว่าจะกลับไปหน้าเดิมหรือเข้าสู่ระบบใหม่ก็ตาม แน่ใจหรือว่าต้องการตัดการเชื่อมต่อ?",startConversationError:"โปรดรีเฟรชแล้วเริ่มการสนทนาใหม่",connectionUnavailable:"ไม่มีการเชื่อมต่อ",sessionExpired:"เซสชันหมดอายุแล้ว",sessionError:"เซสชันของคุณหมดอายุแล้ว โปรดปิดหน้าต่างและเริ่มบทสนทนาใหม่ๆ เพื่อเรียกคืน",sharkSessionExpired:"โปรดรีเฟรชแล้วเริ่มการสนทนาใหม่"},"ms-MY":{error:"Ralat",couldNotConnect:"Alamak - tidak dapat menyambung",tryAgain:"Cuba lagi",loadingOnMinimize:"Memuat",loading:"Memuat",unableToConnect:"Tidak boleh sambung semula",reconnect:"Sedang cuba menyambung semula",chatEndedOnExternalWindow:"Tutup tetingkap untuk memulakan sembang baru",externalWindowOpen:"Anda ada sembang berjalan sekarang. Kembali ke tetingkap tersebut untuk terus bersembang.",unsupportedBrowserMode:"Pelayar anda mungkin dalam mod inkognito, atau ia mungkin menyekat kuki pihak ketiga. Sila buka sesi pelayar biasa untuk bersembang, atau periksa tetapan privasi pelayar anda",cannotResumeChat:"Sambung sembang dari tab yang memulakan interaksi.",crossDomainError:"Tidak boleh teruskan sembang, sila kembali ke laman terdahulu untuk meneruskan.",chatAuthError:"Kembali ke laman sebelumnya atau log masuk untuk meneruskan perbualan anda.",confirmMessage:"Menutup perbualan bermakna anda tidak akan dapat meneruskan walaupun jika anda kembali atau log masuk. Adakah anda pasti ingin teruskan?",startConversationError:"Sila muat semula halaman dan mulakan perbualan baru.",connectionUnavailable:"Sambungan tidak tersedia",sessionExpired:"Sesi sudah luput",sessionError:"Sesi anda telah tamat. Sila tutup tetingkap ini dan mulakan perbualan baru untuk meneruskan.",sharkSessionExpired:"Sila muat semula halaman dan mulakan perbualan baru."},"id-ID":{error:"Kesalahan",couldNotConnect:"ups - tidak bisa tersambung",tryAgain:"Coba lagi",loadingOnMinimize:"Sedang memuat",loading:"Sedang memuat",unableToConnect:"Tidak bisa tersambung",reconnect:"Sedang mencoba menyambung ulang",chatEndedOnExternalWindow:"Tutup jendela untuk memulai obrolan baru",externalWindowOpen:"Anda masih memiliki obrolan aktif. Kembali ke jendela tersebut untuk melanjutkan obrolan.",unsupportedBrowserMode:"Peramban Anda mungkin dalam modus incognito (penyamaran), atau mungkin peramban Anda memblokir cookie pihak ketiga. Harap buka sesi peramban biasa untuk mengobrol, atau cek pengaturan privasi peramban Anda",cannotResumeChat:"Lanjutkan obrolan dari tab di mana interaksi dimulai",crossDomainError:"Tidak bisa melanjutkan percakapan, harap kembali ke halaman sebelumnya untuk melanjutkan.",chatAuthError:"Kembali ke halaman sebelumnya atau masuk untuk melanjutkan percakapan Anda.",confirmMessage:"Menutup percakapan berarti Anda tidak akan dapat melanjutkan sekalipun Anda kembali atau masuk. Anda yakin ingin melanjutkan?",startConversationError:"Harap segarkan halaman dan mulailah percakapan baru.",connectionUnavailable:"Koneksi tidak tersedia",sessionExpired:"Sesi telah berakhir",sessionError:"Sesi Anda telah berakhir. Harap tutup jendela ini dan mulailah percakapan baru untuk melanjutkan.",sharkSessionExpired:"Harap segarkan halaman dan mulailah percakapan baru."},"Cy-sr-SP":{error:"Greška",couldNotConnect:"Ups - nismo uspeli da se povežemo",tryAgain:"Pokušaj ponovo",loadingOnMinimize:"Učitavanje",loading:"Učitavanje",unableToConnect:"Povezivanje nije uspelo",reconnect:"Pokušava se ponovno povezivanje",chatEndedOnExternalWindow:"Zatvorite prozor da biste započeli novo ćaskanje",externalWindowOpen:"Već je u toku drugo ćaskanje. Vratite se u taj prozor da biste nastavili ćaskanje.",unsupportedBrowserMode:"Vaš pregledač je možda u inkognito režimu ili blokira kolačiće trećih strana. Otvorite standardnu sesiju u pregledaču da biste ćaskali ili proverite postavke privatnosti pregledača",cannotResumeChat:"Nastavite ćaskanje sa kartice gde je interakcija počela",crossDomainError:"Nije moguće nastaviti razgovor, vratite se na prethodnu stranicu da biste nastavili.",chatAuthError:"Vratite se nazad na prethodnu stranicu ili se prijavite da nastavite razgovor.",confirmMessage:"Ako zatvorite razgovor nećete moći da nastavite čak i ako se vratite nazad ili se prijavite. Želite li zaista da nastavite?",startConversationError:"Osvežite stranicu i započnite nov razgovor.",connectionUnavailable:"Veza nije dostupna",sessionExpired:"Sesija je istekla",sessionError:"Vaša sesija je istekla. Da biste nastavili, zatvorite ovaj prozor i započnite nov razgovor.",sharkSessionExpired:"Osvežite stranicu i započnite nov razgovor."},"vi-VN":{couldNotConnect:"ÔI - không thể kết nối",tryAgain:"Thử lại",loadingOnMinimize:"Đang tải",unableToConnect:"Không thể kết nối",reconnect:"Cố gắng kết nối lại",startConversationError:"Vui lòng làm mới trang và bắt đầu một cuộc hội thoại mới."},"sv-SV":{error:"Fel",couldNotConnect:"Oj - det går inte att ansluta",tryAgain:"Försök igen",loadingOnMinimize:"Laddar",loading:"Laddar",unableToConnect:"Det går inte att ansluta",reconnect:"Försöker att återansluta",chatEndedOnExternalWindow:"Stäng fönstret för att starta en ny chatt",externalWindowOpen:"Du har en pågående chatt. Gå tillbaka till det fönstret för att fortsätta chatten.",unsupportedBrowserMode:"Din webbläsare kan vara i inkognitoläge, eller den kan blockera cookies från tredje part. Öppna en vanlig webbläsarsession för att chatta, eller kontrollera din webbläsares sekretessinställningar",cannotResumeChat:"Återuppta chatt från fliken där interaktionen började",crossDomainError:"Kan ej återuppta konversation, återgå till föregående sida för att fortsätta.",chatAuthError:"Gå tillbaks till föregående sida eller logga in för att fortsätta din konversation.",confirmMessage:"Att stänga konversationen innebär att du inte kan fortsätta även om du går tillbaks eller loggar in. Är du säker du vill fortsätta?",startConversationError:"Uppdatera sidan och starta en ny konversation.",connectionUnavailable:"Ingen anslutning tillgänglig",sessionExpired:"Session slut",sessionError:"Din session har gått ut. Stäng detta fönster och starta en ny konversation för att återuppta.",sharkSessionExpired:"Uppdatera sidan och starta en ny konversation."},"hi-IN":{error:"त्रुटि",couldNotConnect:"ओ हो - कनेक्ट करने में अक्षम।",tryAgain:"पुनः प्रयास करें",loadingOnMinimize:"लोड हो रहा है",loading:"लोड हो रहा है",unableToConnect:"कनेक्ट करने में अक्षम",reconnect:"रीकनेक्ट करने का प्रयास कर रहा है",chatEndedOnExternalWindow:"नई चैट शुरु करने के लिए विंडों को बंद कर दें",externalWindowOpen:"आपकी एक चैट चल रही है। उस चैट को जारी रखने के लिए विंडो पर वापस जाएं।",unsupportedBrowserMode:"आपका ब्राउज़र गुप्त ( incognito) मोड में हो सकता है या तीसरे पक्ष की कुकीस को ब्लॉक कर रहा हो सकता है। कृपया चैट करने के लिए एक नियमित ब्राउज़र सत्र खोलें या अपने ब्राउज़र की निजता सेटिंग की जांच करें",cannotResumeChat:"उस टैब से चैट शुरु करें जहां से बातचीत शुरु हुई थी।",crossDomainError:"बातचीत फिर से शुरू नहीं की जा सकती है, जारी रखने के लिए कृपया पिछले पेज पर वापस जाएं।",chatAuthError:"अपनी बातचीत जारी रखने के लिए पिछले पेज पर वापस जाएं या लॉगिन करें। ",confirmMessage:"बातचीत बंद करने का अर्थ है कि आप वापस जाने या लॉगिन करने भी जारी नहीं रख पाएंगे। क्या आप वाकई डिसकनेक्ट करना चाहते हैं?",startConversationError:"कृपया यह पेज रीफ्रेश करें व नई बातचीत शुरु करें।",connectionUnavailable:"कनेक्शन अनुपलब्ध",sessionExpired:"सत्र समाप्त हो गया",sessionError:"आपका सत्र समाप्त हो गया है। कृपया इस विंडो को बंद करें और पुनः जारी रखने के लिए एक नयी बातचीत शुरु करें।",sharkSessionExpired:"कृपया यह पेज रीफ्रेश करें व नई बातचीत शुरु करें।"},"he-IL":{couldNotConnect:"אופס – התחברות נכשלה",tryAgain:"נסו שוב",loadingOnMinimize:"טוען",unableToConnect:"כישלון בהתחברות",reconnect:"ניסיון התחברות מחדש",startConversationError:"רענן את הדף ופתח שיחה חדשה."}};window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.unifiedWindow.apps=lpTag.unifiedWindow.apps||{UNIFIED_WINDOW:"lpUnifiedWindow"};lpTag.unifiedWindow.staticConfig=lpTag.unifiedWindow.staticConfig||{secureForms:{isDesktopSupported:!0},passSiteSettings:!0};lpTag.unifiedWindow.customization=lpTag.unifiedWindow.customization||{deviceClass:null};lpTag.taglets.lpUnifiedWindow=lpTag.taglets.lpUnifiedWindow||function(){function e(e){var n;a(e);Y(Xe);Fe.init({debug:Xe.debug,loggosLogging:Xe.loggosLogging});Fe.info("init",Ue);Ce=window.lpTag.taglets.lpSecureStorage;xe=new Be.DeviceDetector;window&&window.opener&&(sn=window.opener);window.lpTag.unifiedWindow.customization.deviceClass=H(xe);_e=new lpTag.unifiedWindow.AppConfigurationManager({lpTag:lpTag,utils:lpTag.taglets.lpUtil,deviceDetector:xe,queryParams:rn});$(Xe,qe);Xe.engConf&&Xe.engConf.offsiteEngContext&&(Xe.clickedChannel=_e.getClickedChannel(Xe.engConf,!0));ze=new Be.BrowserStateManager(xe);Ee=new lpTag.unifiedWindow.Events({eventBufferLimit:0,cloneEventData:!1});m();ee();n=i(Xe);n?Q(n,!0):o()}function n(e){e=e||{};e.dispose&&pe()}function t(){Xe.clickedChannel&&_e&&_e.getClickedChannel&&Xe.clickedChannel===_e.getClickedChannel({async:!0})&&!Xe.poppedOut&&!Xe.external&&Ee.trigger({appName:"*",eventName:lpTag.unifiedWindow.events.chat.AUTHENTICATION_ERROR,data:{error:lpTag.unifiedWindow.consts.authErrorsTypes.LOGOUT}})}function o(){var e={debug:Xe.debug};e[on]={site:Xe.accountId,env:Xe.env,app:on,url:Xe.secureStorageLocation,firstParty:!0,disableFirstPartyGlobalConfig:Xe.disableFirstPartyGlobalConfig,chosenStorageHandler:l};Ce.configure(e)}function i(e){var n;e.invalidAuthConnector?n=Te.Messages.SESSION_EXPIRED:e.JsLoadingFailure?n=Te.Messages.CONNECTION_UNAVAILABLE:"#RIP"===window.location.hash&&(n=Te.Messages.RIP);return n}function a(e){lpTag.getExternalConfig&&(Xe=lpTag.getExternalConfig());r(e)}function r(e){if(e&&e.constructor===Array){try{He.convertConfig(e,Xe)}catch(n){}Xe.displayShortlyMessage=s()}else e&&(Xe=He.cloneExtend(Xe,e,!0))}function s(){var e=Xe.textCustomization&&Xe.textCustomization[0]&&Xe.textCustomization[0].displayShortlyMessage;return e===!0||"true"===e}function l(e){f(e,g.bind(this,e))}function c(e){e=ke(e);if(e.redirect||"undefined"!=typeof Xe.embeddedSupported)d(e);else{Xe.startedEngConf=e;Xe.clickedChannel=_e.getClickedChannel(e,!0)}}function d(e){var n,t,o,i;e=ke(e);e&&e.preChatLines&&(e.preChatLines=be(e.preChatLines));Xe.clickedChannel=_e.getClickedChannel(e);e.accountSettings&&(Ze=e.accountSettings);if(un&&!Le.engConf.externalFailed){i=!Le||!Le.window||Le.window.maximized;Be.Application&&we()&&i&&Ee.trigger({appName:Ue,eventName:"maximize"});t=Ae.getCurrentSessionKey();if(Xe.clickedChannel!==t){n=_e.getEngagementTypeByChannel(t);Ee.trigger({appName:Ue,eventName:lpTag.unifiedWindow.events.chat.MULTIPLE_CHANNELS_REQUESTED,data:{channelType:n}})}}else if(ze.isConnected()){he()&&fe();o=E(e);if(o)w(e,o);else if(Xe.browserModeUnSupported){m();$e=Te.Messages.UNSUPPORTED;u(W.bind(this,e))}else{m();u(M.bind(this,e))}}else{m();$e=Te.Messages.CONNECTION_UNAVAILABLE;u(W.bind(this,e))}}function u(e,n){n&&m();f(null,function(){Se.getState(e,e)})}function p(){return{conf:He.clone(Xe)}}function g(e){"object"!=typeof e?Xe.secureStorageType=e:e&&e.error&&(Xe.browserModeUnSupported=!0);ye=e;Xe.popoutSupported=Xe.secureStorageType&&Xe.secureStorageType!==Ce.storageTypes.SESSIONSTORAGE&&ze.visibilitySupported();Xe.embeddedSupported=!!Xe.secureStorageType;Ee.trigger({appName:Ue,eventName:gn,global:!0});O()}function m(){if(!Te){Te=new Be.WrapperWindow(Xe,xe,ze,Ee,ue);Xe.wrapperElementId=Te.getWrapperElementId()}}function f(e,n){Ae||(Ae=v());Xe.clickedChannel&&Ae.setClickedSession(Xe.clickedChannel);Ae.getSessionId(h.bind(this,e,n))}function v(){return new Be.SessionManager({accountId:Xe.accountId,sessionId:Xe.sessionId,external:Xe.external,events:Ee,sessionsPriority:_e.getChannelsPriority(Xe),sessions:_e.getChannels(Xe),clickedSession:Xe.clickedChannel,secureStorageLocation:Xe.secureStorageLocation,echoedSessionTimeout:Xe.sessionTimeout})}function h(e,n,t){if(t){Xe.sessionId=t;Se||(Se=new Be.StateAnalyzer({storageKey:Xe.sessionId,accountId:Xe.accountId,disableSessionTimeout:Xe.disableSessionTimeout,secureStorageLocation:Xe.secureStorageLocation},Ae))}He.runCallback(n,null,e)}function w(e,n){Pe=e.windowConf;switch(n.type){case mn.TAP_TO_TEXT:b(e,n.target);break;case mn.POPOUT:k(e);break;default:k(e)}if(Xe.openedExternal||!Xe.showMinimizedIfExternalBlocked){e.externalFailed=!1;lpTag.hooks&&lpTag.hooks.exec&&lpTag.hooks.exec({name:vn.ON_EXTERNAL_LAUNCH,data:{type:n.type,engConf:e,externalTarget:n}})}else{e.minimiseOnStart=!0;e.externalFailed=!0;e.externalConfIfFailed=De;m();u(M.bind(this,e))}}function b(e,n){var t="menubar=no, location=no, resizable=false, scrollbars=no, status=yes, width=280px, height=400px, modal=true",o="",i={launchProperties:R(n),smsAPI:lpTag.csds.getDomain(tn.SMS_API)};o=_e.getSMSClientLaunchResourceURL(e,Xe,i);De={url:o};Xe.openedExternal=window.open(o,e.target+"POP",t)}function k(e){try{var n=Xe.staticCodeRepository+(e.resource||"/index.html"),t=_e.getURLBreakdownInfo(n),o=_e.getURLBreakdownInfo(window.location.href);ln="https://"+t.hostname+(t&&t.port&&""!==t.port?":"+t.port:"");cn="https://"+o.hostname+(o&&o.port&&""!==o.port?":"+o.port:"")}catch(i){}if(e.redirect||A()&&x())window.location.href=_e.getExternalResourceURL(e,Xe,!1,!0);else{var a=_e.getExternalResourceURL(e,Xe,!1,!0)+(cn&&""!==cn?"&parentWindowOrigin="+cn:"");De={url:a};Xe.openedExternal=_e.openExternal(e,a)}}function E(e){if(e.externalTargets){var n=e.externalTargets[fn.SMS];if(n&&n.brandIdentifier&&xe.canAttemptSMSClientLaunch()&&n.deflectionTargetProperties&&n.deflectionTargetProperties.tapToText)return{type:mn.TAP_TO_TEXT,target:n}}return C(e)?{type:mn.POPOUT,target:e}:void 0}function C(e){return!Xe.embeddedSupported||e.isPopOut||x()||_e.isRecaptchaEnabled()||y(e)}function y(e){return T()&&S(e)&&xe.isDesktop()}function S(){return _(Ge.EXTERNAL_FALLBACK,"true","false")}function _(e,n,t){var o=Ze&&Ze.filter(function(n){return n.id===e});return o&&o.length>0&&He.getPropertyFromObject(o[0],"propertyValue.value",t)===n}function T(){return Ce.getStorageType(Xe.secureStorageLocation)[on]===Ce.storageTypes.SESSIONSTORAGE}function z(){return Xe.poppedOut||Xe.external}function x(){return!xe.isMobileOptimized()&&!xe.isDesktop()}function A(){return Xe.startedEngConf}function O(){Se&&Se.getState(j,j)}function I(e,n,t){if(N())Q(Te.Messages.EXTERNAL_OPEN,!0);else{Xe.poppedOut&&(n=Se.state.IN_SESSION);Me=n;switch(n){case Se.state.INVALID:ge();return;case Se.state.IN_SESSION:return{uiState:e};case Se.state.NOT_STARTED:return t?{engConf:t}:void 0;case Se.state.EXPIRED:ge();return null}}}function N(){if(Xe.openedExternal){if(!Xe.openedExternal.closed)return!0;Xe.openedExternal=void 0;delete Xe.openedExternal}return!1}function R(e){var n={};n.phoneNumber=e.brandIdentifier;if(e.deflectionTargetProperties&&"string"==typeof e.deflectionTargetProperties.message&&""!==e.deflectionTargetProperties.message){var t=decodeURIComponent(e.deflectionTargetProperties.message);n.message=xe.isIOS()?xe.isIOS8OrAbove()?"&body="+t:";body="+t:"?body="+t}else n.message="";return n}function j(e,n){var t=I(e,n);if(Xe.external){t&&t.uiState&&t.uiState.chat&&t.uiState.chat.state===nn&&(t.uiState={engConf:t.uiState.engConf});B(t||Xe)}else t?ze.isConnected()?B(t):Q(Te.Messages.CONNECTION_UNAVAILABLE):A()&&d(Xe.startedEngConf)}function M(e,n,t){var o=I(n,t,e);o&&B(o)}function W(e,n,t){var o=I(n,t,e);o&&B(o,!0,$e)}function L(e){Le=e;if(Ie&&Ze&&!0===Qe&&Je&&!Re){var n={window:Ie,unified:Xe,uiState:e,accountSettings:Ze};Ae.refresh(D.bind(this,n))}}function D(e){Re=Be.Application(e,{appConfigurationManager:_e,browserStateManager:ze,sessionManager:Ae,deviceDetector:xe,wrapperWindow:Te,events:Ee})}function P(e,n,t){if(t&&!t.error){Ie=t;Ie.windowSize&&(e.window.size=Ie.windowSize);Ie.floatingWindow&&(e.window.floating=Ie.floatingWindow);n(e)}else Q(Te.Messages.CONNECTION_UNAVAILABLE)}function U(e,n){Ze=n;L(e)}function V(e,n){if(n){Q(Te.Messages.CONNECTION_UNAVAILABLE);ge()}else{Qe=!0;L(e)}}function B(e,n,t,o){var i;if(!un){un=!0;Fe.triggerEvent(Fe.events.APP_STARTED);Ie=e&&e.engConf&&e.engConf.windowConf;Ze=e&&e.engConf&&e.engConf.accountSettings;Array.isArray(Ze)&&Ze.length>0?delete e.engConf.accountSettings:Ze=null;var a={storageKey:Xe.sessionId,accountId:Xe.accountId,secureStorageLocation:Xe.secureStorageLocation,domain:Xe.acCdnDomain,initialConf:Xe};if(e.uiState){i=e.uiState;i.engConf.sessionKey=Ae.getCurrentSessionKey();if(i.engConf&&"undefined"!=typeof i.engConf.lewid){a.windowId=i.engConf.lewid;i.engConf.subscription&&i.engConf.subscription.provideraccountid&&(a.accountId=i.engConf.subscription.provideraccountid)}Oe=new Be.WindowConfigurationManager(a);Oe.getConf(P.bind(this,i,L));F.call(this,i,n,t,o)}else{i=He.cloneExtend(qe);i.engConf=e.engConf;i.engConf.sessionKey=Ae.getCurrentSessionKey();if(i.engConf&&"undefined"!=typeof i.engConf.lewid){a.windowId=i.engConf.lewid;i.engConf.subscription&&i.engConf.subscription.provideraccountid&&(a.accountId=i.engConf.subscription.provideraccountid)}e.engConf&&e.engConf.minimiseOnStart&&(i.window.maximized=!1);Oe=new Be.WindowConfigurationManager(a);if(Ie){delete e.engConf.windowConf;Ie.windowSize&&(i.window.size=Ie.windowSize);Ie.floatingWindow&&(i.window.floating=Ie.floatingWindow);P.call(this,i,L,Ie);F.call(this,i,n,t,o)}else{i.engConf&&"undefined"!=typeof i.engConf.lewid&&(a.windowId=i.engConf.lewid);Oe.getConf(P.bind(this,i,function(e){F.call(this,e,n,t,o)}))}}Ne=new Be.AccountSettingsManager(a);Ze?U.call(this,i,Ze):Ne.getSettings(U.bind(this,i));q(V.bind(this,i),i)}}function F(e,n,t,o){n?Te.render(e,function(){Te.message(t,!0)},!0):Te.render(e,function(){Je=!0;Te.message(Te.Messages.WAIT);L(e)},!0);n&&(o||z()||(je=setTimeout(function(){Te&&Te.dispose()},en)))}function H(e){var n=hn.NAMESPACE+"_";n+=e.isMobile()?hn.MOBILE_CSS_CLASS:e.isTablet()?hn.TABLET_CSS_CLASS:hn.DESKTOP_CSS_CLASS;return n}function G(e){Xe.isMessaging=!!e.async;var n={},t=Xe.isMessaging?"UMSClientAPI":"lpChatV3",o=xe.getDeviceFamilyName().toLowerCase();if(Be.Application)Re||an[t]||(n=Xe.loadObj||{api:Xe.codeRepository+"/"+t+".min.js"+Ke});else{n=Xe.loadObj||{framework:Xe.codeRepository+"/ui-framework.js"+Ke,api:Xe.codeRepository+"/"+t+".min.js"+Ke,surveyLogic:Xe.codeRepository+"/surveylogicinstance.min.js"+Ke,unified:{dependency:["framework","api","surveyLogic"],url:Xe.codeRepository+"/"+o+"Embedded.js"+Ke}};an[t]=!0}if(z()){We=Z();lpTag.ovr=lpTag.ovr||{domain:We};lpTag.debug=Xe.debug?"2":"1"}e&&e.lang&&"en-us"!==e.lang.toLowerCase()&&(n.lang=Xe.langRepository+"/"+e.lang+".js"+Ke);!C(e)&&_e.isAuthenticatedEnabled(e)&&(n.xhr=Xe.codeRepository+"/xhr.js"+Ke);Xe.widgetSDK&&(n.widgetSDK="https://"+Xe.leCdnDomain+"/unifiedwindow/widgetSDK.min.js"+Ke);return n}function K(e,n){He.isEmpty(e)?He.runCallback(n):lpTag.taglets.jsLoader.loadJS({loadObj:e,success:function(){He.runCallback(n)},error:function(e){He.runCallback(n,null,e||{})}})}function q(e,n){var t=G(n.engConf);lpTag.loadTaglets&&!z()?lpTag.loadTaglets({scp:Xe.scp,excludeWhitelist:!0,success:function(){
K(t,e)},error:function(n){He.runCallback(e,null,n||{})}}):K(t,e)}function Y(e){e.accountId=""+(e.accountId||lpTag.site);e.domain=lpTag.csds.getDomain(tn.ADMIN_AREA)||lpTag.csds.getDomain(tn.ALL);e.domain="hc1"===e.domain?"hc1.dev.lprnd.net":e.domain;e.env=e.env||X();e.asyncMessagingDomain=lpTag.csds.getDomain(tn.ASYNC_MESSAGING);e.idpDomain=lpTag.csds.getDomain(tn.IDP);e.messagingHistoryDomain=lpTag.csds.getDomain(tn.MESSAGING_HISTORY);e.debug=J()}function X(){return"function"==typeof lpTag.getEnv&&lpTag.getEnv()}function Z(){return"function"==typeof lpTag.getTagDomain&&lpTag.getTagDomain(Xe.env)}function J(){return Xe.debug||Xe.accountId&&(0===Xe.accountId.indexOf("qa")||0===Xe.accountId.indexOf("le"))||Xe.domain&&0===Xe.domain.indexOf("hc1")}function $(e,n){function t(e){e&&e.data&&"string"==typeof e.data&&e.data.indexOf("LPExternalWindowClosed")>-1&&e.origin&&e.origin===ln&&ue()}var o,i,a,r;e.leCdnDomain=e.leCdnDomain||lpTag.csds.getDomain(tn.LECDN);e.acCdnDomain=e.acCdnDomain||lpTag.csds.getDomain(tn.ACCDN);o="https://"+e.leCdnDomain+"/";a="le_unified_window";i=a+_e.getUWDir(e,Ve);r=o+"le_secure_storage/"+(Ce.v?Ce.v+"/":"");e.staticCodeRepository=o+(e.codeRepository?e.codeRepository:a);e.codeRepository=o+(e.codeRepository?e.codeRepository:i);e.imagesRepository=o+(e.imagesRepository?e.imagesRepository:i+"/resources");e.iconsRepository=o+(e.iconsRepository?e.iconsRepository:i+"/resources/icons")+"/"+xe.getDeviceFamilyName().toLowerCase();e.audioRepository=o+(e.audioRepository?e.audioRepository:i+"/resources/audio");e.langRepository=o+(e.langRepository?e.langRepository:i+"/resources/i18n");e.agentImageRepository=o+(e.agentImageRepository?e.agentImageRepository:i+"/resources/agentImages");e.secureStorageLocation=e.external?Ce.sessionStorageStaticDomain:e.secureStorageLocation||r;e.jsRepository=o+(e.jsRepository?e.jsRepository:i+"/resources/js");(xe.isMobile()||xe.isTablet())&&(n.position={right:0});n.window.embedded=!e.external;window.addEventListener("message",t,!1);if(!n.window.embedded){e.NativeSDK="1"==rn.sdk;e.IOS="1"==rn.ios}e.supportBlockCCPattern=!!lpTag.taglets.cleanCCPatterns;e.scp=e.scp||"uw"}function Q(e,n){je&&clearTimeout(je);Te.render(null,function(){Te.message(e,!0)});n||z()||(je=setTimeout(function(){Te&&Te.dispose()},en))}function ee(){ze.on(ze.EVENT_NAME.FOCUS_CHANGE,ie);Ee.bind({appName:"ChatStateManager",eventName:"ended",func:ge});Ee.bind({appName:"ConversationManager",eventName:"ended",func:fe});Ee.bind({appName:"Application",eventName:"appEnded",func:fe});Ee.bind({appName:"*",eventName:"doHaraKiri(Seppuku)",func:me});Ee.bind({appName:"SessionManager",eventName:"sessionChanged",func:se});Ee.bind({appName:"ChatAPIV3",eventName:"error",func:te});Ee.bind({appName:"API",eventName:"error",func:te});Ee.bind({appName:"API",eventName:"error",func:oe});Ee.bind({appName:"ChatStateManager",eventName:"startChatInfo",func:ne});Ee.bind({appName:"*",eventName:"forgetMe",func:ge});Ee.bind({appName:"*",eventName:"knockout",func:ve})}function ne(e){e.chatTimeout&&(Xe.sessionTimeout=e.chatTimeout)}function te(e){var n=Te.Messages[e&&e.errorType]||Te.Messages.CONNECTION_UNAVAILABLE;Q(n,e&&e.keepError)}function oe(e){pn=e&&e.errorType===lpTag.unifiedWindow.consts.errorTypes.AUTH_ERROR?fe:pn}function ie(e){e.focus&&Me===Ye&&ae()}function ae(){Ae=Ae||v();Ae.setClickedSession(Xe.clickedChannel);Ae.getSession(re)}function re(e){if(e&&e.sid&&"null"!==e.sid){Ae=null;u(ce,!0)}}function se(){Ae&&Ae.getSession(le)}function le(e){if(e&&e.sid&&"null"!==e.sid){ge(!0);m();u(ce)}else ge()}function ce(e,n){Me=n;switch(n){case Se.state.INVALID:Q(Te.Messages.IN_SESSION);break;case Se.state.IN_SESSION:de(e.engConf);break;case Se.state.NOT_STARTED:fe()}}function de(e){fe();d(e)}function ue(){if(sn&&dn){sn.postMessage("LPExternalWindowClosed",dn);sn=null}Xe.clickedChannel=null;He.runCallback(pn)}function pe(){ge();fe()}function ge(e){un=!1;Fe.triggerEvent(Fe.events.APP_ENDED);je&&clearTimeout(je);Me=Ye;if(Ae){Ae.dispose(e);Ae=null}Ie=null;if(Oe){Oe.clear();Oe=null}Ne&&(Ne=null);Xe.sessionId=null;delete Xe.sessionId;Se=null}function me(){Te&&Te.dispose()}function fe(){Qe=!1;Je=!1;if(Re){Re.methods.end();Re=null;un=!1;Fe.triggerEvent(Fe.events.APP_ENDED)}Te=null;Ee.trigger({appName:Ue,eventName:"windowClosed",global:!0});lpTag.newPage(document.URL)}function ve(){fe();ge()}function he(){return He.getPropertyFromObject(Re,"methods.isDisposed")&&Re.methods.isDisposed()}function we(){return He.getPropertyFromObject(Re,"methods.isDisposed")&&!Re.methods.isDisposed()}function be(e){var n="msg",t=0,o={};e.forEach(function(e){o[n+ ++t]=e});return o}function ke(e){var n=He.getPropertyFromObject(e,"connector.configuration.acrValues");"undefined"!=typeof n&&delete e.connector.configuration.acrValues;return e}var Ee,Ce,ye,Se,_e,Te,ze,xe,Ae,Oe,Ie,Ne,Re,je,Me,We,Le,De,Pe,Ue="lpUnifiedWindow",Ve="10.11.1.2-release_5292",Be=lpTag.unifiedWindow,Fe=Be.log,He=lpTag.taglets.lpUtil,Ge=lpTag.unifiedWindow.settingsIDs,Ke="?version="+(Ve||(new Date).getTime().toString()),qe={window:{maximized:!0,position:{right:"20px",bottom:0},sound:!0,notificationCount:0,actionsVisible:!1,embedded:!0}},Ye=3,Xe={},Ze=[],Je=!1,$e=null,Qe=!1,en=5e3,nn="applicationEnded",tn={ADMIN_AREA:"adminArea",ALL:"ALL",LECDN:"leCdnDomain",ACCDN:"acCdnDomain",ASYNC_MESSAGING:"asyncMessagingEnt",MESSAGING_HISTORY:"msgHist",IDP:"idp",SMS_API:"smsConnector"},on=Be.apps.UNIFIED_WINDOW,an={UMSClientAPI:!1,lpChatV3:!1},rn=He.getURLParams(window.location.search),sn=null,ln=null,cn=null,dn=rn&&rn.parentWindowOrigin&&""!==rn.parentWindowOrigin?rn.parentWindowOrigin:null,un=!1,pn=pe,gn="STORAGE_SELECTED",mn={POPOUT:"popout",TAP_TO_TEXT:"tapToText"},fn={SMS:0},vn={ON_EXTERNAL_LAUNCH:"ON_EXTERNAL_LAUNCH"},hn={NAMESPACE:"lpc",MOBILE_CSS_CLASS:"mobile",TABLET_CSS_CLASS:"tablet",DESKTOP_CSS_CLASS:"desktop"};window.addEventListener("beforeunload",function(){if(sn&&dn){sn.postMessage("LPExternalWindowClosed",dn);sn=null}});return{v:Ve,name:Ue,init:e,reinit:t,onBeforeNavigation:n,startFlow:c,clicked:d,inspect:p}}();}catch(e){lpTag.handleGeneralError("lpUnifiedWindow",e);}try{window.lpTag=lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.SMT=lpTag.taglets.SMT||function(){function a(){}var t="SMT",g="2.21.0";return{v:g,name:t,init:a}}();}catch(e){lpTag.handleGeneralError("SMT",e);}try{"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.hooks=window.lpTag.taglets.hooks||function(o){function n(){c={};e(o.hooks);t()}function t(){o.hooks=o.taglets.hooks}function e(o){o=Array.isArray(o)?o:[o];o.length>0&&o.forEach(function(o){if(a(o)){c[o.name]=c[o.name]||[];c[o.name].push(o.callback)}})}function a(n){if(!n){o.log("Hook is not defined","ERROR","hooks");return!1}if("string"!=typeof n.name){o.log("Hook name '"+n.name+"' is not a string","ERROR","hooks");return!1}if("function"!=typeof n.callback){o.log("Hook callback for '"+n.name+"' is not a function","ERROR","hooks");return!1}o.log("Hook callback for '"+n.name+"' was added successfully","INFO","hooks");return!0}function i(n){if(n&&n.name){var t=c[n.name]||[];t.forEach(function(t){if("function"==typeof t)try{var e=t(n);if("object"===("undefined"==typeof e?"undefined":_typeof(e))){n=e;o.log("Hook '"+n.name+"' returned data successfully","INFO","hooks")}else o.log("Hook '"+n.name+"' callback didn't return an object","ERROR","hooks")}catch(a){o.log("Hook callback threw an exception: "+a.message,"ERROR","hooks")}})}return n}var l="hooks",r="0.0.2",c={};return{version:r,name:l,init:n,push:e,exec:i}}(window.lpTag);}catch(e){lpTag.handleGeneralError("hooks",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.lp_SMT=lpTag.taglets.lp_SMT||function(){function e(e){if(e)for(var t=0;t<e.length;t++){var n=e[t].value;"string"==typeof n&&""!==n&&("["===n.charAt(0)||"{"===n.charAt(0))&&("undefined"!=typeof JSON&&JSON.parse?n=JSON.parse(n):s("unable to parse JSON, no JSON object on page"));_[e[t].id]=n}else c("No cfg were given on init")}function t(){_.active=!0;if(lpTag.taglets.lp_monitoringSDK.inspect().conf.baseUrl===lpTag.getDomain("ALL")){_.active=!1;s("Monitoring set to inactive! smt domain was not found")}lpTag.events.trigger(b,"MONITORING_STATE",{active:_.active});O=lpTag.events.bind("lp_monitoringSDK","SP_SENT",a);S(q.sp)}function n(){clearTimeout(m);lpTag.events.unbind(O);N&&lpTag.events.unbind(N);_.active=!1}function i(t){clearTimeout(m);lpTag.events.unbind(O);N&&lpTag.events.unbind(N);e(t)}function o(){return _.active}function a(){lpTag.isDom?S(q.pl):N=lpTag.events.bind("LPT","DOM_READY",function(){S(q.pl)})}function r(e,t){window.lpTag&&lpTag.log&&lpTag.log(e,t,b)}function s(e){r(e,"ERROR")}function l(e){r(e,"DEBUG")}function c(e){r(e,"INFO")}function g(e){c("success call made by smt with the following result: "+("string"!=typeof e?JSON.stringify(e):e))}function p(e){s("error returned to smt callback onError: "+("string"!=typeof e?JSON.stringify(e):e))}function u(e){return e.status===A.ok&&!e.error}function f(e){d(e);v();if(_.keepAliveFreq&&_.active){if(e.reqType===q.pl||e.reqType===q.ip){m=setTimeout(function(){S(q.ip)},1e3*_.keepAliveFreq);l("Next request to be issued in "+_.keepAliveFreq+"sec")}}else lpTag.taglets.lp_monitoringSDK.stop();T(u(e)?g:p,e,"Client onSuccess callback returned an error: ")}function T(e,t,n){try{e(t)}catch(i){s(n+JSON.stringify(i.message))}}function v(){_.active||lpTag.events.trigger(b,"MONITORING_STATE",{active:_.active})}function d(e){if(e.smtConf){for(var t in e.smtConf)_[t]=e.smtConf[t];delete e.smtConf}}function S(e){if(_.active){lpTag.taglets.lp_monitoringSDK[e](function(t){t.status=A.ok;t.reqType=e;f(t)},function(t){t.status=A.err;t.reqType=e;f(t)});l("Sending"+e+"request")}else c("Monitoring is set to inactive, not sending any requests")}var m,O,N,y="2.21.0",b="lp_SMT",q={sp:"startPage",pl:"pageLoaded",ip:"inPage"},A={err:"ERROR",ok:"OK"},_={keepAliveFreq:10,active:!0};return{v:y,name:b,inspect:function(){return _},init:e,start:t,reinit:i,restart:t,stop:n,isActive:o}}();}catch(e){lpTag.handleGeneralError("lp_SMT",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.authenticator=lpTag.taglets.authenticator||function(){function t(){lpTag.log("authenticator init called","DEBUG","authenticator")}function e(t,e,i){return t.type===f.OAUTH_IMPLICIT||t.type===f.OAUTH_CODE?n(t,e,i):a(t,e,i)}function n(t,e,n){var a=r(n),o=i(e,a);t=t||{configuration:{clientId:lpTag.site}};var u={callback:o,clientId:t.configuration.clientId};lpTag.log("_getOAuthSSOKey: "+c,"DEBUG","authenticator");t.type&&t.type===f.OAUTH_IMPLICIT&&"lpTag.taglets.unAuthMessaging"===t.configuration.jsContext&&"lpTag.taglets.unAuthMessaging.lpUnauthFunction"===t.configuration.jsMethodName&&lpTag.taglets.unAuthMessaging&&lpTag.taglets.unAuthMessaging.jsMethodExtended?lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,u,a):lpTag.taglets.lpUtil.runCallbackByObject(t.configuration,u.callback,a)}function a(t,e,n){lpTag.log("_getServer2ServerSSOKey"+c,"DEBUG","authenticator");lpTag.taglets.xhr.issueCall({url:t.configuration.genKeyUrl,method:"GET",query:{rt:"json"},retries:p.retries,timeout:p.timeout,success:o(e),error:r(n)})}function i(t,e){return function(n,a){var i=null===a||"undefined"==typeof a;if(i&&n){var r,o;if("object"==typeof n){r=n.ssoKey;o=n.redirect_uri}else r=n;t({ssoKey:r,redirect_uri:o})}else e()}}function r(t){return function(e){s=!0;"function"==typeof t&&t(e)}}function o(t){return function(e){t(e.body||{})}}function u(){return s?!0:!1}function l(){var t={name:c,ssoKeyGenTransport:{timeout:p.timeout,retries:p.retries}};return t}var s,g="0.2.0",c="authenticator",p={timeout:3e4,retries:3,successResponseCode:201},f={S2S:0,OAUTH_IMPLICIT:1,OAUTH_CODE:2};return{v:g,init:t,getSSOKey:e,isErroneous:u,inspect:l}}();}catch(e){lpTag.handleGeneralError("authenticator",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.unifiedWindow=lpTag.unifiedWindow||{};lpTag.taglets.lpUtil=lpTag.taglets.lpUtil||function(){function t(t,e){if("function"==typeof[].indexOf&&"function"==typeof t.indexOf)return t.indexOf(e);if(t.constructor===Array)for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function e(t){return"string"!=typeof t?t:t.trim?t.trim():t.replace(/^\s+|\s+$/gm,"")}function n(t){if("string"!=typeof t)return t;var n=e(t);return n.toLowerCase()}function r(t,e){var n=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?\/:]+)(\/?)/gi),r=n.exec(t),o=null;if(r&&r.length>=3&&""!==r[2]){o=r[2].toLowerCase();e&&(o=r[1]+o)}return o}function o(t){var e,n,r={};if("string"==typeof t){e=t.substr(1).split("&");for(var o=0;o<e.length;o++)if(e[o].indexOf("=")>-0){n=e[o].split("=");2==n.length&&(r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]))}}return r}function a(t){t=""+t;var e,n,o=null,a={top:null,country:null};t=r(t);e=t.split(".");if(e.length<3)return t;for(var s=e.length-1,c=s;c>-1;c--){l(e[c],a,c);if(null!==a.country&&null!==a.top)break}if(null!==a.top||null!==a.country){o=a.top;(null===o||null!==a.country&&a.country<o&&o-1===a.country)&&(o=a.country);n=o>0?o-1:o;return i(e.slice(n))}return t}function i(t){return t.join(".")}function l(t,e,n){t=""+t;null===e.top&&(q.topLevelDomain[t]||q.customTopLevelDomain[t])?e.top=n:null===e.country&&q.countryTopLevelDomain[t]&&(e.country=n)}function s(t,e){var n=/(\?|&|\/|\\)$/;if("string"==typeof t&&t.length>0){n.test(t)&&(t=t.substr(0,t.length-1));if(Array.isArray(e))return c(t,e);if(m(e))return u(t,e);if("object"==typeof e)return g(t,e)}return t}function c(t,e){for(var n,r=t,o=0;o<e.length;o++){n=e[o];if(!r||"object"!=typeof n)break;r=u(r,n)}return r}function u(t,e){return p(t,e)?f(t,e.key,e.value):t}function g(t,e){for(var n in e)e.hasOwnProperty(n)&&(t=f(t,n,e[n]));return t}function f(t,e,n){var r=new RegExp("([?&])"+e+"=.*?(&|$)","ig"),o=-1===t.indexOf("?")?"?":"&";if("object"==typeof n)try{n=JSON.stringify(n)}catch(a){}return t.match(r)?t.replace(r,"$1"+e+"="+n+"$2"):t+o+e+"="+n}function p(t,e){return"string"==typeof t&&t.length>0&&m(e)}function m(t){var e=t&&t.key,n=t&&t.value;return t&&"string"==typeof e&&e.length>0&&("number"==typeof n||"string"==typeof n&&n.length>0)}function d(t,e,n){var r;if(!t||"object"!=typeof t)return t;if(!e)return y(t);r=e||t.constructor()||{};for(var o in t)r[o]!==t[o]&&t.hasOwnProperty(o)&&(r[o]=n?d(t[o],void 0,n):t[o]);return r}function y(t){try{return JSON.parse(x(t))}catch(e){lpTag.log("unable to clone object:"+JSON.stringify(e),"ERROR",I);return}}function h(t,e){if("undefined"!=typeof e){if(t)for(var n=0;n<t.length;n++){var r=t[n].value;if("string"==typeof r&&""!==r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("["==r.charAt(0)||"{"==r.charAt(0))try{r=JSON.parse(r)}catch(o){lpTag.log("unable to parse JSON:"+JSON.stringify(o),"ERROR",I)}e[t[n].id]=r}}else lpTag.log("_config is passed as undefined","ERROR",I)}function v(t,e){if(t&&"string"==typeof t){e=e||{};var n,r=e.document||window.document,o=e.id;if("undefined"!=typeof o){n=r.getElementById(o)||r.createElement("style");n.id=o}else n=r.createElement("style");n.type="text/css";r.getElementsByTagName("head")[0].appendChild(n);n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t));return n}}function b(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=n);return e}function w(t,e){function n(){o.body?R(t,r):setTimeout(n,50)}e=e||{};var r=e.context,o=e.document||window.document;n()}function x(t){var e,n;if("function"==typeof Array.prototype.toJSON){n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{e=JSON.stringify(t)}catch(r){Array.prototype.toJSON=n;throw r}Array.prototype.toJSON=n}else e=JSON.stringify(t);return e}function k(){var t="tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(t){var e=16*Math.random()|0,n="t"==t?e:3&e|8;return n.toString(16)});return t+"-"+Math.floor(1e5*Math.random())}function R(t,e){e=e||window;if("function"==typeof t){var n=Array.prototype.slice.call(arguments,2);try{return t.apply(e,n)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",I)}}}function O(t,e,n){if("function"==typeof C){t=t||{};var r=C(window,t.jsContext),o=C(window,t.jsMethodName);if("function"!=typeof o){lpTag.log("runCallbackByObject err=function "+t.jsMethodName+" was not found","ERROR","utils");n()}else{lpTag.log("runCallbackByObject calling function "+t.jsMethodName,"DEBUG","utils");o.call(r,e)}}else lpTag.log("lpTag.taglets.lpUtil.getPropertyFromObject is not a function","ERROR","utils")}function j(t,e,n){t&&e&&n&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n))}function T(t,e,n){t&&e&&n&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n))}function E(e,n,r){var o,a;e="string"==typeof e?e:"";o=e.split(" ");a=n&&n.constructor===Array?n:"string"==typeof n?[n]:[];r=r&&r.constructor===Array?r:"string"==typeof r?[r]:[];for(var i=0;i<o.length;i++)t(r,o[i])<0&&t(a,o[i])<0&&a.push(o[i]);return a.join(" ").replace(/$\s/gi,"")}function z(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function C(t,e,n){var r,o=t;if("string"==typeof e){r=e.split(".");for(var a=0;a<r.length;a++){if("undefined"==typeof o||null===o||"undefined"==typeof o[r[a]]||null===o[r[a]]){o="undefined"!=typeof n?n:void 0;break}o=o[r[a]]}}else lpTag.log("Empty path sent to lookup getPropertyFromObject","DEBUG","utils");return o}function N(t,e){if(t.className.indexOf(e)<0){t.className=[t.className,e].join(" ");t.className=S(t.className)}}function A(t,e){t.className=t.className.replace(new RegExp(e,"g"),"");t.className=S(t.className)}function S(t){return e(t.replace(/\s\s*/g," "))}function P(t,e,n){var r={};if(t&&"string"==typeof t){n&&(t=decodeURIComponent(t));for(var o,a=t.split(e),i=0;i<a.length;i++){o=a[i].split("=");r[o[0]]=o[1]}}return r}function U(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return t?t.replace(/[&<>"'`=\/]/g,function(t){return e[t]}):void 0}var I="Utils",q={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info","int":"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm","do":"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im","in":"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"}},D={delimiter:"|",set:function(t,e,n){if("string"==typeof t&&e.join&&"function"==typeof e.join){var r=encodeURIComponent(t)+"="+encodeURIComponent(e.join(this.delimiter))+";path=/";"undefined"!=typeof n&&(r+=";domain="+n);document.cookie=r;return!0}},get:function(t){var e="\\$&";if("string"==typeof t){var n=document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,e)+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1")||null;if("string"==typeof n){var r=decodeURIComponent(n);if(r)return r.split(this.delimiter)}}},remove:function(t,e){if("string"==typeof t){this.set(t,["null"],e);return!0}}};return{indexOf:t,trim:e,trimAndLower:n,getDomain:r,getURLParams:o,getParentDomain:a,addQueryParams:s,cloneExtend:d,clone:y,convertConfig:h,addStyleTag:v,objectKeys:b,waitForBody:w,stringify:x,cookieActions:D,getUID:k,runCallback:R,runCallbackByObject:O,registerEvent:j,unregisterEvent:T,buildClassString:E,isEmpty:z,getPropertyFromObject:C,addClass:N,removeClass:A,mapString:P,escapeHtml:U}}();window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.cleanCCPatterns=window.lpTag.taglets.cleanCCPatterns||function(){function t(t){c("init configuration","INFO");x=!0;o(t)}function e(t,e){if("string"==typeof t&&Array.isArray(w)){e=e||{};w.forEach(function(r){try{t=n(t,r,e.replaceValue)}catch(o){c("clean: clean execution failed","ERROR")}})}return t}function n(t,e,n){var o=t;n=""+r(n);if("string"==typeof t){var a,i=[],l=0,s=e.pattern===h;e.pattern.lastIndex=0;for(;null!==(a=e.pattern.exec(o))&&""!==a[0];)if(!s||u(a[0])){i.push({matchedText:a[0],index:a.index});if(!e.pattern.global)break}for(var c=0;c<i.length;++c){var g;e.replacePattern.lastIndex=0;var f,p=i[c].matchedText,m=0,d=RegExp(/\d/),y=t.indexOf(p)-1;f=y>0?y+p.length+1:p.length;if(e.pattern!==h||!d.test(t.charAt(y))&&!d.test(t.charAt(f))){for(;null!==(g=e.replacePattern.exec(i[c].matchedText))&&""!==g[0];){p=p.substring(0,g.index+m)+n+p.substring(g.index+g[0].length+m);m+=n.length-g[0].length;if(!e.replacePattern.global)break}o=o.substring(0,i[c].index+l)+p+o.substring(i[c].index+i[c].matchedText.length+l);l+=p.length-i[c].matchedText.length}}}return o}function r(t){return"string"==typeof t||!isNaN(t)&&"number"==typeof t?t:b}function o(t){var e=[],n={};try{m.convertConfig(t,n)}catch(r){c("_setConfigParameters: Failed to convert configuration","ERROR")}n=n.ccPatterns&&n.ccPatterns[0];if(n){x="false"===n.useDefault||n.useDefault===!1?!1:!0;e=Array.isArray(n.patternsArray)?n.patternsArray:e;k="true"===n.trueGlobalTag||n.trueGlobalTag===!0}x&&e.push(h);w=a(e)}function a(t){var e=[];Array.isArray(t)&&t.forEach(function(t){t=i(t);t&&e.push(t)});return e}function i(t){var e,n,r;if(t&&"string"==typeof t.pattern){e=t.pattern;n=t.replacePattern||t.pattern}else{e=t;n=v}e=l(e);n=l(n);s(n)||(n=e);s(e)&&(r={pattern:e,replacePattern:n});return r}function l(t){var e;if(s(t))e=t;else if("string"==typeof t){t=g(t);var n,r,o=t.lastIndexOf("/"),a=t.indexOf("/");if(0===a&&o>a){n=t.slice(a+1,o);r=t.slice(o+1);r=r.replace(y,"");if(d.test(r))try{e=new RegExp(n,r)}catch(i){c("_getRegexFromString: failed create regex: "+t,"ERROR")}else c("_getRegexFromString: regex flags are invalid: "+t,"ERROR")}else c("_getRegexFromString: regex pattern is not valid: "+t,"ERROR")}return e}function s(t){return t&&t.constructor===RegExp}function c(t,e){lpTag.log&&lpTag.log(t,e,p)}function u(t){if(/[^0-9-\s]+/.test(t))return!1;var e=0,n=!1;t=t.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--){var o=t.charAt(r),a=parseInt(o,10);n&&(a*=2)>9&&(a-=9);e+=a;n=!n}return e%10===0}function g(t){try{return decodeURIComponent(t)}catch(e){return decodeURIComponent(window.escape(t))}}var f="1.6",p="cleanCCPatterns",m=lpTag.taglets.lpUtil,d=/^[gmi]{0,3}$/,y=/(.)(?=.*\1)/g,h=/(?:4[0-9]{3}((([-\s.]*[0-9]{4}){3})|(([-\s.]*[0-9]{3}){3}))|5[1-5][0-9]{2}([-\s.]*[0-9]{4}){3}|6(?:011|5[0-9]{2})([-\s.]*[0-9]{4}){3}|3[47][0-9]{2}[-\s.]*[0-9]{6}[-\s.]*[0-9]{5}|3(?:0[0-5]|[68][0-9])[0-9][-\s.]*[0-9]{6}[-\s.]*[0-9]{4}|((?:2131|1800)[-\s.]*[0-9]{6}[-\s.]*[0-9]{5})|(35[0-9]{2}([-\s.]*[0-9]{4}){3}))/g,v=/[0-9]/g,b="*",w=[],x=!0,k=!1;return{version:f,name:p,init:t,clean:e}}();}catch(e){lpTag.handleGeneralError("cleanCCPatterns",e);}try{window.lpTag.taglets.lp_global_utils=function(){function e(){}function n(e,n){if("undefined"!=typeof n){if(e)for(var a=0;a<e.length;a++){var t=e[a].value;if("string"==typeof t&&""!==t)if("true"===t)t=!0;else if("false"===t)t=!1;else if("["===t.charAt(0)||"{"===t.charAt(0))try{"undefined"!=typeof JSON&&JSON.parse?t=JSON.parse(t):lpTag.log("unable to parse JSON, no JSON object on page ","ERROR",l)}catch(i){lpTag.log("unable to parse JSON:"+i,"ERROR",l)}n[e[a].id]=t}}else lpTag.log("_config is passed as undefined","ERROR",l)}function a(e){return e.replace(/^\s+|\s+$/g,"")}var t=1.4,l="lp_global_utils";return{v:t,name:l,init:e,convertConfig:n,trim:a}}();}catch(e){lpTag.handleGeneralError("lp_global_utils",e);}try{var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};window.lpTag=window.lpTag||{};window.lpTag.taglets=window.lpTag.taglets||{};window.lpTag.taglets.unAuthMessaging=window.lpTag.taglets.unAuthMessaging||function(){function e(e,t,n){window.lpTag&&window.lpTag.log&&window.lpTag.log(n+": "+e,t,ee)}function t(t){if(t){var n=t.split(".");if(n.length>=2)try{return JSON.parse(window.atob(n[1]))}catch(a){e("error parsing jwt","ERROR","getPayloadFromJWT")}}return{}}function n(e){return e&&e.aud?0===e.aud.substring(0,4).indexOf("acc:")?e.aud.substring(4):e.aud:""}function a(e){return n(t(e))}function o(e,t){if(lpTag.sdes&&e&&e.length>0&&de!==e&&!lpTag.identitiesSupport){de=e;lpTag.sdes.push({type:ae.names.sdeType,id:e,account:t})}}function r(e,t){t&&o(t,e);if(fe){var n={iss:"LivePerson",acr:"0"};e&&(n.account=e);t&&(n.sub=t);we.push(n);if(he<=we.length){fe(we);fe=null}}}function s(e){return e===ge.accountId?ae.names.secureStorageKey:ae.names.secureStorageKey+"_"+e}function i(e,t,n){window.lpTag.taglets.lpSecureStorage.getValue({key:s(n||ge.convOwnerAccountId),site:ge.accountId,app:ee,success:e,error:function(){he-=1;t()},appName:ee,domain:ge.secureStorageLocation,firstParty:!0})}function c(e,t,n){if(e){var a=Object.keys(e);he=a.length;we=[];a.forEach(function(e){i(t,n,e)})}else{he=1;i(t,n)}}function u(e,t){window.lpTag.taglets.lpSecureStorage.getValue({key:ae.names.storedAccountIdentitiesDictionaryKey,site:ge.accountId,app:ee,success:function(n){c(n,e,t)},error:t,appName:ee,domain:ge.secureStorageLocation,firstParty:!0})}function d(e){var t=_extends({},e);if(ge.useCaptcha){t.data=e.data||{};t.data.recaptcha={};t.data.recaptcha[ae.names.captchaResponse]=window.grecaptcha&&window.grecaptcha.getResponse()}return t}function l(e){var t=d(e);window.lpTag.taglets.postmessage.issueCall(t)}function p(e){window.lpTag.taglets.postmessage.configure({frames:{url:ae.endPoints.postmessageConfigureFrameURL({domain:e})}})}function g(t){e(t,"ERROR","handleError");if(ge.success){ge.success(null,t);delete ge.success}}function f(e){for(var t=e.search,n={},a=void 0,o=t.substr(1).split("&"),r=0;r<o.length;r+=1)if(o[r].indexOf("=")>-1){a=o[r].split("=");if(2===a.length)try{var s=decodeURIComponent(a[0]);n[s]=decodeURIComponent(a[1])}catch(i){g("Unable to parse params from UW config")}}return n}function h(e){var t={};if(e){var n=document.createElement("a");n.href=e;t=f(n)}return t}function w(e){var t=void 0;if(e.state)try{t=JSON.parse(e.state);if(t.lpUnifiedWindowConfig)return t.lpUnifiedWindowConfig;t=null}catch(n){t=null}!t&&e.redirect_uri&&(t=h(e.redirect_uri));if(t&&t.lpUnifiedWindowConfig)switch(_typeof(t.lpUnifiedWindowConfig)){case"string":try{t=JSON.parse(t.lpUnifiedWindowConfig)}catch(n){g("Couldn't parse unified window config")}break;case"object":t=t.lpUnifiedWindowConfig}return t}function m(e){if(le)e();else{le=!0;var t={debug:!1};t[ee]={site:ge.accountId,env:!0,app:ee,url:ge.secureStorageLocation,chosenStorageHandler:e,firstParty:!0};window.lpTag.taglets.lpSecureStorage.configure(t)}}function T(){window.lpTag.redirect=window.lpTag.redirect||function(e){window.location.href=e}}function v(e){var t=window.lpTag.taglets.lpSecureStorage.v;return"https://"+e+"/le_secure_storage/"+(t?t+"/":"")}function I(e){ge={};var t=lpTag&&lpTag.csds&&lpTag.csds.getDomain(ae.names.csdsIDP),n=lpTag&&lpTag.csds&&lpTag.csds.getDomain(ae.names.leCdnDomain);n=n?v(n):!1;if(e){ge.useCaptcha=e.useCaptcha;ge.env=e.env||ae.envType.PRODUCTION;ge.success=e.success;ge.error=g;ge.state=e.state;ge.IDPDomain=e.IDPDomain||t;ge.accountId=lpTag&&lpTag.site||e.accountId;ge.secureStorageLocation=n||window.lpTag.taglets.lpSecureStorage.sessionStorageStaticDomain;ge.redirect_uri=e.redirect_uri;ge.isExternal=e.isExternal;ge.language=e.language||ae.defaultLanguage;ge.convOwnerAccountId=e.convOwnerAccountId||ge.accountId}return ge.success&&(ge.IDPDomain||ge.isExternal)&&ge.accountId&&ge.secureStorageLocation}function y(e,t){var n=t||{};n[e]=s(e);window.lpTag.taglets.lpSecureStorage.setValue({key:ae.names.storedAccountIdentitiesDictionaryKey,site:ge.accountId,app:ee,value:n,success:function(){},error:function(){},appName:ee,domain:ge.secureStorageLocation,firstParty:!0})}function S(e){window.lpTag.taglets.lpSecureStorage.getValue({key:ae.names.storedAccountIdentitiesDictionaryKey,site:ge.accountId,app:ee,success:function(t){y(e,t)},error:function(){y(e,{})},appName:ee,domain:ge.secureStorageLocation,firstParty:!0})}function R(e,t){var n=s(e),a=(new Date).getTime();Te&&Te.setSessionData(n,a);window.lpTag.taglets.lpSecureStorage.setValue({key:n,site:ge.accountId,app:ee,value:t,success:function(){ie[e]=oe.READY},error:function(){ie[e]=oe.NONE},appName:ee,domain:ge.secureStorageLocation,ttl:ce,firstParty:!0});S(e)}function D(e){var a=e&&e.body&&e.body.token;if(a){var o=t(a),s=n(o);R(s,a);r(s,o.sub);if(ge.success&&s===ge.convOwnerAccountId){ge.success(a);delete ge.success}}else{ie[ge.convOwnerAccountId]=oe.NONE;ge.error("Couldn't get JWT from "+ge.IDPDomain)}}function A(){ie[ge.convOwnerAccountId]=oe.PENDING;var e=function(e){ie[ge.convOwnerAccountId]=oe.NONE;ge&&ge.error&&ge.error(e)},t={url:ae.endPoints.unAuthJWT(ge),method:"POST",error:e,success:D};p(ge.IDPDomain);l(t)}function C(e){ue=ae.refreshJwtRetryAttempts;var a=e&&e.body&&e.body.token;if(a){var o=t(a),s=n(o);R(s,a);r(s,o.sub);if(ge.success){ge.success(a);delete ge.success}}else A()}function O(t,n,a){if(0>=ue){e("The amount of token refresh attempts has reached its limit, requesting a fresh token","INFO","retryJWTRefresh");ue=ae.refreshJwtRetryAttempts;A()}else{var o=a&&a.body&&a.body.internalErrorCode;if(re.SHOULD_REQUEST_NEW_TOKEN_ERRORS.indexOf(o)>-1){ue=ae.refreshJwtRetryAttempts;A()}else{ue-=1;e("Retrying to refresh the token #"+(ae.refreshJwtRetryAttempts-ue),"INFO","retryJWTRefresh");setTimeout(function(){ie[t]=oe.RETRY;P(n)},1e3)}}}function E(e){return ie[e]!==oe.PENDING}function N(e){return ie[e]!==oe.PENDING&&ie[e]!==oe.NONE}function P(e){var t=a(e),n=s(t),o=Te?Te.getSessionData(n)||1:1,r=(new Date).getTime()-o>=ae.refreshThreshold;if(E(t)&&r){ie[t]=oe.PENDING;setTimeout(function(){E(t)||(ie[t]=oe.NONE)},1e4);var i={url:ae.endPoints.unAuthJWT({IDPDomain:ge.IDPDomain,convOwnerAccountId:t}),method:"POST",data:{id_token:e},error:O.bind(this,t,e),success:C};p(ge.IDPDomain);l(i)}else E(t)&&!r&&C({body:{token:e}})}function b(e,t,n,a){var o=se[t];if(!E(n)&&o){var r=t+1;setTimeout(function(){return b(e,r)},o)}else a?i(function(e){return a(e)},A,n):i(function(e){return C({body:{token:e}})},A,n)}function U(e){if(e){if("string"!=typeof e)A();else if(e){var t=a(e);E(t)?P(e):b(e,0,t)}}else A()}function k(e){if(e){var t=a(e);E(t)?P(e):b(e,0,t)}else r()}function _(){N(ge.convOwnerAccountId)?i(U,A):b(null,0,ge.convOwnerAccountId,P)}function L(t){e("The selected storage is "+t+".","INFO","initGetAllJwtsFromSecureStorage");t&&(pe=!0);fe&&pe&&u(k,r.bind(this,null))}function J(e){L(e||"NONE")}function x(e){fe=e;L()}function W(){de="";he=1;we=[];lpTag.identities=lpTag.identities||[];lpTag.identities.push(x);I({});ie[ge.convOwnerAccountId]=oe.INIT;m(J)}function K(e){if(e&&I({success:e.callback||e,convOwnerAccountId:e.clientId})){de="";_()}}function j(e,t){return e.filter(function(e){return e.service===t})}function F(){return ge.env===ae.envType.DEV||ge.env===ae.envType.QA?ae.domains.csdsQA:ae.domains.csdsGA}function G(){var e=F(),t={url:ae.endPoints.csds({csdsDomain:e,accountId:ge.accountId}),method:"GET",error:window.lpTag.taglets.unAuthMessaging.lpUnauthCsds,success:window.lpTag.taglets.unAuthMessaging.lpUnauthCsds};window.lpTag.taglets.jsonp.issueCall(t)}function M(e){return e&&e.engConf&&e.engConf.lang||ae.defaultLanguage}function z(){var e=window.grecaptcha&&"function"==typeof window.grecaptcha.getResponse&&window.grecaptcha.getResponse();if(e&&e.length>0){ge[ae.names.captchaResponse]=e;G()}}function B(){if(ge.useCaptcha){var e=document.getElementById("captchaContainer"),t=document.getElementById("reCaptchaSubmit");e&&(e.style.display="flex");t&&(t.onclick=z)}}function H(e){var t=e,n=document.getElementById("reCaptchaTitle"),a=document.getElementById("reCaptchaSubmit"),o=document.getElementById("reCaptchaCancel");window.translations[t]||(t="en-US");if(n&&o&&a){n.innerText=window.translations[t].message_us;a.innerText=window.translations[t].next;o.innerText=window.translations[t].close}}function V(e){return!(!e||!e.useRecaptcha)}function Q(e,t){if(e&&!t){var n=void 0;if(ge.state)try{n=ae.endPoints.externalStandardAuth2({uri:ge.redirect_uri,jwt:e,state:encodeURIComponent(ge.state)})}catch(a){g("Couldn't redirect to correct URI")}else n=ae.endPoints.external({uri:ge.redirect_uri,jwt:e});window.lpTag.redirect(n)}}function Y(t){e("The selected storage is "+t+".","INFO","startExternalFlow");t&&(pe=!0);ge&&ge.accountId&&_()}function q(e){return e&&e.env||ae.envType.PRODUCTION}function X(e){de="";T();window.lpCaptchaOnloadCallback=window.lpTag.taglets.unAuthMessaging.captchaOnloadCallback;var t=f(e||window.location);if(t.redirect_uri&&t.client_id){var n={},a=w(t),o=M(a);n.accountId=t.client_id;n.redirect_uri=t.redirect_uri;n.state=t.state;n.success=Q;n.isExternal=!0;n.useCaptcha=V(a);n.language=o;n.env=q(a);if(n.accountId&&I(n)){if(ge.useCaptcha){B();H(o)}else G();return!0}}return!1}function Z(e){var t=e&&e.ResultSet&&e.ResultSet.lpData;if(t){var n=j(t.baseURIs,ae.names.csdsIDP),a=j(t.baseURIs,ae.names.leCdnDomain);if(n.length>0&&a.length>0){ge.IDPDomain=n[0].baseURI;ge.secureStorageLocation=v(a[0].baseURI);m(Y)}}else g("Couldn't get site map from csds. site: "+ge.accountId)}function $(){if(ge.useCaptcha&&window.grecaptcha&&"function"==typeof window.grecaptcha.render){var e=ae.languageMapping[ae.defaultLanguage];ge.language&&ae.languageMapping[ge.language]&&(e=ae.languageMapping[ge.language]);window.grecaptcha.render("reCaptcha",{sitekey:ae.captchaSiteKey,theme:"light",hl:e})}}var ee="unAuthMessaging",te="1.0.25",ne=!0,ae={endPoints:{unAuthJWT:function(e){var t=e.IDPDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://"+t+"/api/account/"+(a||n)+"/anonymous/authorize"},externalStandardAuth2:function(e){var t=e.uri,n=e.state,a=e.jwt;return t+"?state="+n+"#id_token="+a},external:function(e){var t=e.uri,n=e.jwt;return t+"#id_token="+n},postmessageConfigureFrameURL:function(e){var t=e.domain;return"https://"+t+"/postmessage/postmessage.min.html"},csds:function(e){var t=e.csdsDomain,n=e.accountId,a=e.convOwnerAccountId;return"https://"+t+"/csdr/account/"+(a||n)+"/service/baseURI.lpCsds?version=1.0"}},names:{secureStorageKey:"-unAuthJWT",storedAccountIdentitiesDictionaryKey:"-unAuthJWTAccounts",sdeType:"lpConsumer",captchaResponse:"gRecaptchaResponse",csdsIDP:"idp",leCdnDomain:"leCdnDomain"},domains:{csdsGA:"api.liveperson.net",csdsQA:"hc1n.dev.lprnd.net"},captchaSiteKey:"6LdCazcUAAAAACpzhC0F6mj-SpyDQkcqXvg6ymaJ",languageMapping:JSON.parse('{"ar-AE":"ar","bg-BG":"bg","cs-CZ":"cs","Cy-sr-SP":"sr","da-DK":"da","de-DE":"de","el-GR":"el","en-UK":"en-GB","en-US":"en","es-419":"es-419","es-ES":"es","et-EE":"et","fi-FI":"fi","fr-CA":"fr-CA","fr-FR":"fr","he-IL":"iw","hi-IN":"hi","hr-HR":"hr","hu-HU":"hu","id-ID":"id","it-IT":"it","ja-JP":"ja","ko-KR":"ko","lt-LT":"lt","lv-LV":"lv","ms-MY":"ms","nb-NO":"no","nl-NL":"nl","pl-PL":"pl","pt-BR":"pt-BR","pt-PT":"pt-PT","ro-RO":"ro","ru-RU":"ru","sk-SK":"sk","sl-SI":"sl","sv-SE":"sv","th-TH":"th","tr-TR":"tr","uk-UA":"uk","vi-VN":"vi","zh-CN":"zh-CN","zh-HK":"zh-HK","zh-TW":"zh-TW"}'),defaultLanguage:"en-US",envType:{ALPHA:"alpha",QA:"qa",PRODUCTION:"prod",DEV:"dev"},refreshThreshold:1e3,refreshJwtRetryAttempts:60},oe={READY:"READY",PENDING:"PENDING",NONE:"NONE",INIT:"INIT",RETRY:"RETRY"},re={SHOULD_REQUEST_NEW_TOKEN_ERRORS:["9002","9007","9008","9009","9011","9012","9014","9015","1001","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1024","1025","1026","1037","1038","1049","2001","2002","2004","2005","2006","2007","2008","2009","3001","3002","3003"]},se=[10,50,100,300,1e3,5e3],ie={},ce=31536e6,ue=ae.refreshJwtRetryAttempts,de="",le=!1,pe=!1,ge={},fe=null,he=1,we=[],me=lpTag,Te=me.storageMethods;return{version:te,name:ee,lpUnauthFunction:K,lpUnauthExternal:X,lpUnauthCsds:Z,captchaOnloadCallback:$,init:W,jsMethodExtended:ne}}();}catch(e){lpTag.handleGeneralError("unAuthMessaging",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsLoader=lpTag.taglets.jsLoader||function(e){function t(e){var t=[],n=[],a=!1;for(var r in e)if("string"==typeof e[r]||e[r].url)if(e[r].dependency){var l=o(e,e[r].dependency);l.length>0&&(t=t.concat(l))}else"string"==typeof e[r]||"string"==typeof e[r].url?a=!0:n.push(e[r]);else"string"!=typeof e[r]&&n.push(r);return{missingKeys:t,invalidUrls:n,requestValid:0===t.length&&0===n.length&&a}}function n(){lpTag.log("JSLoader was initialised","DEBUG",v)}function a(e){T+=1;var n="";if(e&&e.loadObj){var a=t(e.loadObj);if(a.requestValid){e.startTime=new Date;for(var r in e.loadObj)if(e.loadObj[r]!==!0&&!e.loadObj[r].dependency){n=e.loadObj[r].url||e.loadObj[r];f(n,e.context,i(r,e))}}else j(e.error,e.context||null,a)}}function r(){return{version:S,name:v,errors:m,downloads:E,configsCount:T}}function o(e,t){var n=[];t=t.constructor===Array?t:[t];for(var a=0;a<t.length;a++)e[t[a]]||n.push(t[a]);return n}function l(e,t,n){m+=1;n.loadError=n.loadError||[];n.loadError.push({key:e,url:t});return!0}function d(e,t,n){E+=1;if("object"==typeof t.loadObj[e]){var a=t.loadObj[e];j(n&&a.error?a.error:a.success,a.context||null,n?{error:!0,data:a}:{data:a})}t.loadObj[e]=!0}function c(e){var t=!0;for(var n in e.loadObj)if(e.loadObj.hasOwnProperty(n)&&e.loadObj[n]!==!0){t=!1;break}return t}function i(e,t){return function(n,a){d(e,t,a);a&&l(e,n,t);u(e,t);c(t)&&s(t,!!t.loadError)}}function s(e,t){e.endTime=new Date;setTimeout(function(){j(t?e.error:e.success,e.context,t?e.loadError:e);e=null},10)}function u(e,t){var n;for(var a in t.loadObj)if("object"==typeof t.loadObj[a]){t.loadObj[a].dependency=t.loadObj[a].dependency&&t.loadObj[a].dependency.constructor===Array?t.loadObj[a].dependency:[t.loadObj[a].dependency];n=[];for(var r=0;r<t.loadObj[a].dependency.length;r++)t.loadObj[a].dependency[r]!==e&&n.push(t.loadObj[a].dependency[r]);if(n.length!==t.loadObj[a].dependency.length){t.loadObj[a].dependency=n;0===n.length&&f(t.loadObj[a].url,t.loadObj[a].context,i(a,t))}}}function f(e,t,n){if(w[e])w[e].state===R.LOADING?g(n,w[e].callbackQueue):w[e].state===R.SUCCESS&&j(n,t,[e]);else{w[e]=p(R.LOADING);g(n,w[e].callbackQueue);b(e,{success:function(){w[e].state=R.SUCCESS;O.call(this,e,t,w[e].callbackQueue)},error:function(){w[e].state=R.ERROR;y.call(this,e,t,w[e].callbackQueue)}})}}function p(e,t){return{state:e,callbackQueue:t||[]}}function b(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("charset","UTF-8");n.onreadystatechange=n.onload=t.success;n.onerror=t.error;n.setAttribute("src",e);(document.head||document.getElementsByTagName("head")[0]).appendChild(n)}function O(t,n,a){var r=!1;this.readyState?e.opera||"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0):r=!0;if(r){h(t,n,a,!1);this.onerror=this.onload=this.onreadystatechange=null}}function y(e,t,n){h(e,t,n,!0);this.onerror=this.onload=this.onreadystatechange=null}function g(e,t){t&&-1===t.indexOf(e)&&t.push(e)}function h(e,t,n,a){for(var r;n.length;){r=n.pop();j(r,t,e,a)}}function j(t,n){n=n||e;if("function"==typeof t){var a=Array.prototype.slice.call(arguments,2);try{return t.apply(n,a)}catch(r){lpTag.log("Failed to execute callback exc= "+r.message,"ERROR",v)}}}var v="jsLoader",S="1.0.1",E=0,m=0,T=0,R={LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"},w={};return{v:S,init:n,loadJS:a,validateLoadObj:t,inspect:r}}(window);}catch(e){lpTag.handleGeneralError("jsLoader",e);}try{window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.sdes=lpTag.sdes||[];lpTag.taglets.lp_sms_client_api=lpTag.taglets.lp_sms_client_api||function(){function t(t){C=t;f({callback:function(t){u(t)},error:function(){_.error("error fethcing jwt","err")}})}function e(t){window.lpTag.taglets.postmessage.configure({frames:{url:"https://"+t+"/postmessage/postmessage.min.html"}})}function n(){var t=window.lpTag.taglets.lpSecureStorage.v;return"https://"+y.LECDN+"/le_secure_storage/"+(t?t:"")}function o(t,n,o){var a={url:"https://"+y.IDP+"/api/account/"+N+"/anonymous/authorize",method:"POST",error:o,success:n};t&&(a.data={id_token:t});e(y.IDP);h.issueCall(a)}function a(t){var e=r(t),n=300,o=Date.now()/1e3;return"undefined"!=typeof e.exp&&e.exp<o+n}function s(t,e,o){var a=function(){},s=t,i=b.unauthSmsStorage.name;window.lpTag.taglets.lpSecureStorage.getValue({key:s,site:N,app:i,success:e||a,error:o||a,appName:i,domain:n()})}function i(t,e,o,a){var s=function(){},i=t,r=b.unauthSmsStorage.name;window.lpTag.taglets.lpSecureStorage.setValue({key:i,site:N,app:r,value:e,success:o||s,error:a||s,appName:r,domain:n()})}function r(t){if(t&&"string"==typeof t){var e=t.split(".");if(e.length>=2)try{return JSON.parse(window.atob(e[1]))}catch(n){_.error("error parsing jwt","ERROR","getPayloadFromJWT")}}return{}}function u(t){if(C){var e=r(t),n={iss:"LivePerson",acr:"0",account:N};e&&(n.sub=e.sub);C([n]);C=null}}function c(){lpTag.identities=lpTag.identities||[];lpTag.identities.push(t);h=lpTag.taglets&&lpTag.taglets.postmessage;y={SMS_CONNECTOR:lpTag.csds.getDomain(D.CONNECTORS),IDP:lpTag.csds.getDomain(D.IDP),ACCDN:lpTag.csds.getDomain(D.ACCDN),LECDN:lpTag.csds.getDomain(D.LECDN)};d(lpTag.site);_=lpTag.unifiedWindow&&lpTag.unifiedWindow.log||{info:function(){},error:function(){}};m()}function l(t,e,n,o){var a=lpTag.protocol+"//"+y.ACCDN+"/api/account/"+(o||lpTag.site)+"/configuration/ac-common/sms_deflection_form/"+t+"?v="+k;_.info("SMSClientAPI:loadSMSForm called with url: "+a);lpTag.taglets.jsonp.issueCall({url:a,success:function(t){_.info("SMSClientAPI:loadSMSForm successfully loaded form");e&&e(t)},error:function(t){_.error("SMSClientAPI:loadSMSForm failed: "+t);n&&n(t)}})}function p(t,n,o,a){function u(t,e,s){var r={url:c,method:"POST",headers:{"Content-Type":"application/json",connectorId:a.connectorId},success:function(t){if(200===t.responseCode){_.info("SMSClientAPI:submitSMSForm submittion successfully ended");p.context&&p.context.sdes&&lpTag.sdes.push(p.context.sdes);i(b.unauthSmsStorage.stateKey,b.unauthSmsStorage.state_sent+"_"+Date.now());n()}else{_.info("SMSClientAPI:submitSMSForm submittion faild",t.body);o()}},error:function(t){_.info("SMSClientAPI:submitSMSForm submittion faild",t);o()},data:p};e&&(r.headers.authorization="Bearer "+e);t&&(r.headers.token=t);s&&(r.headers.sub=s);h.issueCall(r)}var c="https://"+y.SMS_CONNECTOR+"/api/v1.0/account/"+N+"/default/web2sms";_.info(c,"SMSClientAPI:submitSMSForm submitting to url");_.info(JSON.stringify(t||{}),"SMSClientAPI:submitSMSForm data for submit");e(y.SMS_CONNECTOR);var l=t.context||{},p={message:{to:t.To||"",from:t.From||"",text:t.Body||""},context:{engagementId:l.engagementId||"",campaignId:l.campaignId||"",contextId:3,visitorId:l.visitorId||"",sdes:{type:"personal",personal:{contacts:[{phone:t.From}]}}}};a.sessionId&&(p.context.sessionId=a.sessionId);l.visitorFirstName&&(p.context.sdes.personal.firstname=l.visitorFirstName);l.visitorLastName&&(p.context.sdes.personal.lastname=l.visitorLastName);a.subscription&&(p.subscription=a.subscription);f({callback:function(t){s(b.unauthSmsStorage.stateKey,function(e){if(e){var n=r(t);u(null,null,n.sub)}else g(t,function(e){u(t,e)},o,a)},function(){g(t,function(e){u(t,e)},o,a)})},error:function(t){o(t)}})}function f(t){function e(t){if(p>0){_.info("SMSClientAPI:getToken fail to load token: "+t+", "+p+" retries left");p-=1;setTimeout(r,500)}else l&&l(t)}function n(t,n){A=t&&t.body&&t.body.token;A?n?c(A):i(b.unauthSmsStorage.tokenKey,A,function(){c(A,!0)},function(){c(A,!0)}):e()}function r(){s(b.unauthSmsStorage.tokenKey,function(t){t?a(t)?o(t,n,e):n({body:{token:t}},!0):o(null,n,e)},function(){o(null,n,e)})}var u=function(){},c=t?t.callback||t:u,l=t?t.error||u:u,p=3;r()}function g(t,n,o,a){var s={url:"https://"+y.IDP+"/api/account/"+N+"/app/"+a.connectorId+"/authenticate?v=3",method:"POST",data:{id_token:t},success:function(t){if(n){var e=t&&t.body&&t.body.token;if(e)n(e);else{_.error("error authenticate jwt","err");o("error authenticate jwt")}}},error:function(t){401===t.statusCode&&i(b.unauthSmsStorage.tokenKey,null);o&&o(t)}};e(y.IDP);h.issueCall(s)}function d(t){N=t;var e=lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax;e&&e.configureTransports({rest2jsonp:{domain:y.ACCDN,site:N}})}function m(){var t=!1;if(lpTag.hooks&&lpTag.hooks.push){lpTag.hooks.push({name:I.AFTER_LOAD_SURVEY,callback:function(t){_.info("lp_sms_client_api::hook",t);"PreSmsSurvey"===T(t,"data.surveyType")&&S("display",t)}});lpTag.hooks.push({name:I.AFTER_SUBMIT_SURVEY,callback:function(t){_.info("lp_sms_client_api::hook",t);"PreSmsSurvey"===T(t,"data.surveyType")&&S("submit",t)}});lpTag.hooks.push({name:I.AFTER_ABANDONED_SURVEY,callback:function(e){_.info("lp_sms_client_api::hook",e);"PreSmsSurvey"===T(e,"data.surveyType")&&(t=!0)}});lpTag.hooks.push({name:I.ON_WINDOW_CLOSED,callback:function(e){if(T(e,"data.context.conf.engConf.externalTargets.0")){_.info("lp_sms_client_api::hook",e);setTimeout(function(){e.data.status=t?"cancel":"close";S("abandoned",e);t=!1},100)}}});lpTag.hooks.push({name:I.ON_EXTERNAL_LAUNCH,callback:function(t){_.info("lp_sms_client_api::hook",t);"tapToText"===T(t,"data.type")&&S("taptotext",{data:{context:{conf:{engConf:T(t,"data.engConf")}}}})}})}}function S(t,e){var n={type:"msgDeflect",channel:"sms",actionType:t};n.campaignId=T(e,"data.context.conf.engConf.cid");n.engagementId=T(e,"data.context.conf.engConf.eid");var o=T(e,"data.status");o&&(n.status=o);lpTag.sdes.push(n)}function T(t,e){if("object"==typeof t&&"string"==typeof e){for(var n=e.split("."),o=t,a=0;a<n.length-1;++a){if("object"!=typeof o||!o.hasOwnProperty(n[a]))return void 0;o=o[n[a]]}return"object"==typeof o?o[n[n.length-1]]:void 0}}var _,h,C,N,y,A,v="0.1.1",E="SMSEngagementAPI",D={ACCDN:"acCdnDomain",LECDN:"leCdnDomain",CONNECTORS:"smsConnector",IDP:"idp"},b={unauthSmsStorage:{tokenKey:"-unAuthSmsJWT",stateKey:"-unAuthSmsState",name:"unAuthSms",state_sent:"sent"}},I={ON_EXTERNAL_LAUNCH:"ON_EXTERNAL_LAUNCH",ON_WINDOW_CLOSED:"ON_WINDOW_CLOSED",AFTER_LOAD_SURVEY:"AFTER_LOAD_SURVEY",AFTER_SUBMIT_SURVEY:"AFTER_SUBMIT_SURVEY",AFTER_ABANDONED_SURVEY:"AFTER_ABANDONED_SURVEY"},k="3.0";return{version:v,v:v,name:E,init:c,loadSMSForm:l,submitSMSForm:p,getToken:f,authenticateToken:g,setAccount:d}}();}catch(e){lpTag.handleGeneralError("lp_sms_client_api",e);}