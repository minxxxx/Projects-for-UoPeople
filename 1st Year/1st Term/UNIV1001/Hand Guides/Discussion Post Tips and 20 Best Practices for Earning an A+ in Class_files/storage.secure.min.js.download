window.lpTag=window.lpTag||{};lpTag.firstParty=!0;window.lpTag=window.lpTag||{};window.lpTag.lzString=window.lpTag.lzString||function(){var y=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function a(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,function(e){return a(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return y(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8;n[2*r+1]=a%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,r=t.length;n<r;n++)t[n]=256*e[2*n]+e[2*n+1];var o=[];t.forEach(function(e){o.push(y(e))});return i.decompress(o.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return r.charAt(e)})},decompressFromEncodedURIComponent:function(t){if(null==t)return"";if(""==t)return null;t=t.replace(/ /g,"+");return i._decompress(t.length,32,function(e){return a(r,t.charAt(e))})},compress:function(e){return i._compress(e,16,function(e){return y(e)})},_compress:function(e,t,n){if(null==e)return"";for(var r,o,a,i,s={},l={},c="",u=2,p=3,f=2,g=[],d=0,m=0,h=0;h<e.length;h+=1){a=e.charAt(h);if(!Object.prototype.hasOwnProperty.call(s,a)){s[a]=p++;l[a]=!0}i=c+a;if(Object.prototype.hasOwnProperty.call(s,i))c=i;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<f;r++){d<<=1;if(m==t-1){m=0;g.push(n(d));d=0}else m++}o=c.charCodeAt(0);for(r=0;r<8;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}else{o=1;for(r=0;r<f;r++){d=d<<1|o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o=0}o=c.charCodeAt(0);for(r=0;r<16;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,f);f++}delete l[c]}else{o=s[c];for(r=0;r<f;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,f);f++}s[i]=p++;c=String(a)}}if(""!==c){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<f;r++){d<<=1;if(m==t-1){m=0;g.push(n(d));d=0}else m++}o=c.charCodeAt(0);for(r=0;r<8;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}else{o=1;for(r=0;r<f;r++){d=d<<1|o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o=0}o=c.charCodeAt(0);for(r=0;r<16;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,f);f++}delete l[c]}else{o=s[c];for(r=0;r<f;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}}if(0==--u){u=Math.pow(2,f);f++}}o=2;for(r=0;r<f;r++){d=d<<1|1&o;if(m==t-1){m=0;g.push(n(d));d=0}else m++;o>>=1}for(;;){d<<=1;if(m==t-1){g.push(n(d));break}m++}return g.join("")},decompress:function(t){return null==t?"":""==t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var r,o,a,i,s,l,c=[],u=4,p=4,f=3,g="",d=[],m={val:n(0),position:t,index:1},h=0;h<3;h+=1)c[h]=h;o=0;i=Math.pow(2,2);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}switch(o){case 0:o=0;i=Math.pow(2,8);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}l=y(o);break;case 1:o=0;i=Math.pow(2,16);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}l=y(o);break;case 2:return""}r=c[3]=l;d.push(l);for(;;){if(m.index>e)return"";o=0;i=Math.pow(2,f);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}switch(l=o){case 0:o=0;i=Math.pow(2,8);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}c[p++]=y(o);l=p-1;u--;break;case 1:o=0;i=Math.pow(2,16);s=1;for(;s!=i;){a=m.val&m.position;m.position>>=1;if(0==m.position){m.position=t;m.val=n(m.index++)}o|=(0<a?1:0)*s;s<<=1}c[p++]=y(o);l=p-1;u--;break;case 2:return d.join("")}if(0==u){u=Math.pow(2,f);f++}if(c[l])g=c[l];else{if(l!==p)return null;g=r+r.charAt(0)}d.push(g);c[p++]=r+g.charAt(0);r=g;if(0==--u){u=Math.pow(2,f);f++}}}};return i}();!function(r){var t={ie:0,chrome:1,safari:2,firefox:3,line:4,chromeios:5,oldie:6,blackberry:7,opera:8,android:9,unknown:10},n={SET:"set",GET:"get",MULTIGET:"multiget",REMOVE:"remove",TOUCH:"touch",SELECT_STORAGE:"selectStorage"},o=lpTag.lzString;function a(e){return"string"==typeof e&&0===e.replace(/\s/gi,"").length}function i(e,t,n){if(r.lpTag&&lpTag.log&&e){n=n||"SecureStorageFrame";lpTag.log(e,t,n)}}function s(e){var t=e;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){}return t}function e(){var e=t.unknown;r.addEventListener?l(/MSIE|Trident|IEMobile/)?e=t.ie:l(/Line/)?e=t.line:l(/CriOS/)?e=t.chromeios:l(/Opera|OPR/)?e=t.opera:l(/Chrome/)?e=t.chrome:l(/ BlackBerry /)?e=t.blackberry:l(/Firefox/)?e=t.firefox:l(/Safari/)&&(function(){var e=!0;if(lpTag&&lpTag.device)return lpTag.device.os()===lpTag.device.osEnum.windows;(l(/(Mac OS)/g)&&!l(/(Windows Phone|iPhone|iPod|mobile|Mobile|IEMobile)/g)||l(/(android|Android)/g)||l(/(iPhone|iPod|iPad)/g)||l(/(Linux)/g))&&(e=!1);return e}()||l(/(Mac OS)/g)||l(/(iPhone|iPod|iPad)/g))?e=t.safari:l(/(android|Android)/g)&&(e=t.android):e=t.oldie;return e}function l(e){return!!navigator.userAgent.match(e)}r.lpTag=r.lpTag||{};r.lpTag.secureStorageUtils={log:{error:function(e,t){i(e,"error",t)},log:function(e,t){i(e,"log",t)}},getUrlParameters:function(e){for(var t,n=(e=e||location.search).substr(1).split("&"),r={},o=0;o<n.length;++o)(t=n[o].split("=")).length<2||(r[decodeURIComponent(t[0])]=decodeURIComponent(t[1].replace(/\+/g," ")));return r},JSONParse:s,runCallback:function(e,t,n){if("function"==typeof e)try{return e.call(n||null,t)}catch(e){}},bindEvent:function(e,t,n){r.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},unBindEvent:function(e,t,n){r.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},hasProperties:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){n=!0;break}return n},decodeItem:function(e){var t;if(void 0!==e)try{t=(e=decodeURIComponent(e))&&!a(e)?s(e):e}catch(e){}return t},encodeItem:function(e){var t;try{t=JSON.stringify(e);t=encodeURIComponent(t)}catch(e){}return t},isEmptyString:a,isSameValue:function(e,t){return"object"==typeof e&&"object"==typeof t?JSON.stringify(e)===JSON.stringify(t):e===t},parseInteger:function(e){e+="";return""+(e=parseInt(e,10))!="NaN"?e:null},getUID:function(){return"tttttttt-tttt-4ttt-fttt-t7ttttttttttt".replace(/[tf]/g,function(e){var t=16*Math.random()|0;return("t"==e?t:3&t|8).toString(16)})+"-"+Math.floor(1e5*Math.random())},removeKeyFromObj:function(e,t){if(e&&void 0!==e[t]){e[t]=null;delete e[t]}return e},cloneObj:function(e){return e&&"object"==typeof e&&JSON.parse(JSON.stringify(e))},isIE:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.ie:e()===t.ie},isSafari:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.safari:e()===t.safari},isTouchRequest:function(e){return e&&e.type===n.TOUCH},isSetRequest:function(e){return e&&e.type===n.SET},isSelectStorageRequest:function(e){return e&&e.type===n.SELECT_STORAGE},lzwEncode:function(e){return o.compressToEncodedURIComponent(e)},lzwDecode:function(e){return o.decompressFromEncodedURIComponent(e)},isChrome:function(){return lpTag&&lpTag.device?lpTag.device.browser()===lpTag.device.browserEnum.chrome:e()===t.chrome},requestTypes:n}}(window);window.lpTag=window.lpTag||{};lpTag.taglets=lpTag.taglets||{};lpTag.taglets.jsonp=lpTag.taglets.jsonp||function(a){var i,e,o={callback:"cb",encoding:"UTF-8",timeout:1e4,retries:2,metricsCount:100,metricsTimeout:6e4},s={ERROR:"ERROR",DEBUG:"DEBUG",INFO:"INFO"},l=!0,c=2083,n="lpCb",u={},p=0,f=0,g=0,t=0,r=0,d=[],m={},h=k(!0).length,y="jsonp";function v(){if(lpTag&&lpTag.taglets&&lpTag.taglets.lpAjax)try{lpTag.taglets.lpAjax.addTransport(y,U)}catch(e){}R()}function b(e){var t=!1;if(l&&e&&e.url){var n,r=!1;e.callbackName&&"string"==typeof e.callbackName&&(m[e.callbackName]||a[e.callbackName])&&(r=!0);try{n=function(e){var t=h;e.callbackName&&"string"==typeof e.callbackName&&(t=e.callbackName.length);return 4+(e.callback||o.callback).length+e.url.length+t+C(e.data).length+C(e.query).length}(e)}catch(e){I("Could not evaluate the length  of the request, e="+e,s.ERROR,"isValidRequest");t=!1}void 0!==n&&n<c&&!r&&(t=!0)}return t}function w(e){var t;if(!b(e)){I("URL request was too long or static callback name already exists, url: "+t,s.ERROR,"issueCall");D();e&&e.error&&j(s.ERROR,e.error,S(600,"Transport - JSONP - unable to run request: "+e.url),e.context);return!1}(e=function(e){"string"==typeof e&&(e={url:e});if(!e.url)return!1;e.encoding=e.encoding||o.encoding;e.callback=e.callback||o.callback;e.retries=("number"==typeof e.retries?e:o).retries;e.timeout=e.timeout||o.timeout;return e}(e)).callbackName&&"string"==typeof e.callbackName?e.retries=0:e.callbackName=n+k();t=e.url+(-1<e.url.indexOf("?")?"&":"?")+e.callback+"="+e.callbackName;e.data&&(t+="&"+C(e.data));e.query&&(t+="&"+C(e.query));e.callUrl=t;if(function(e){var t=!1,n=new RegExp(/(http{1}s{0,1}?:\/\/)([^\/\?]+)(\/?)/gi);n=0===e.callUrl.indexOf("http")?n.exec(e.callUrl):n.exec(a.location.href);if(n&&3<=n.length&&""!==n[2]){n=n[2].toLowerCase();e.domainMatch=n;u[n]=u[n]||[];u[n].inFlight=u[n].inFlight||0;u[n].push(e);t=!0;f+=1;I("buffered URL: "+e.callUrl,s.DEBUG,"lpTag.taglets.jsonp.bufferRequest")}else I("NO MATCH for URL: "+e.callUrl,s.ERROR,"lpTag.taglets.jsonp.bufferRequest");return t}(e)){!function(n){if(m[n.callbackName]){D();N(S(409,{message:"This callbackName is already in a pending request and can't be serviced",id:409,name:"CONFLICT"}),n)}else a[n.callbackName]=function(e,t){!function(e,t,n){!function(e,t,n){var r;if(e){r=(new Date).getTime();r=r-e;d.push({rd:r,ts:e,url:t,method:"GET",statusCode:n?400:200});d.length>=o.metricsCount&&A()}}(t.startTime,t.url,n);!function(e){e=document.getElementById(e);if(e)try{e.parentNode.removeChild(e)}catch(e){I("error when removing script",s.ERROR,"removeScript")}}(t.scriptId);!function(e){u[e].inFlight=u[e].inFlight-1;g-=1}(t.domainMatch);!function(e,t){m[e]=null;delete m[e];if(!0===t)a[e]=function(){a[e]=null;try{delete a[e]}catch(e){}};else{a[e]=null;try{delete a[e]}catch(e){}}}(t.callbackName,n);if(n){if(t.callbackName){t.callbackName=null;delete t.callbackName}N(e,t)}else{P(t);j("callback",t.success,e,t.context);t=null;E()}}(e,n,t)}}(e);E()}else I("URL request was too long and was not sent, url: "+t,s.ERROR,"issueCall");return!0}function T(){var e,t={};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e]);return t}function k(e){var t=99999,t=e?t+"x"+t:Math.round(Math.random()*t)+"x"+Math.round(Math.random()*t);return t}function S(e,t){return{statusCode:e,responseCode:e,error:t,body:"ERROR"}}function C(e){var t="";if("string"==typeof e)t+=e;else{var n,r,o=!0;for(n in e){"object"==typeof e[n]?r=function(e){var t;if("function"==typeof Array.prototype.toJSON){var n=Array.prototype.toJSON;delete Array.prototype.toJSON;try{t=JSON.stringify(e)}catch(e){Array.prototype.toJSON=n;throw e}Array.prototype.toJSON=n}else t=JSON.stringify(e);return t}(e[n]):"function"!=typeof e[n]&&(r=e[n]);if(void 0!==r){o||(t+="&");t+=encodeURIComponent(n)+"="+encodeURIComponent(r);o=!1}}}return t}function E(){for(var e in u)if(u.hasOwnProperty(e))for(var t=u[e],n=!1;!n&&t.inFlight<6&&0<t.length;){var r=t.shift();if(r){I("Sent URL: "+r.callUrl,s.DEBUG,"lpTag.taglets.jsonp.sendRequests");r.scriptId=function(e,t,n){var r="scr"+Math.round(999999999*Math.random())+"_"+Math.round(999999999*Math.random()),o=document.createElement("script");o.setAttribute("type","text/javascript");o.setAttribute("charset",t);o.onload=function(){m[n]&&(m[n].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null};a.addEventListener?o.onerror=function(){m[n]&&(m[n].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}:o.onreadystatechange=function(){if(this.readyState&&("loaded"===this.readyState||"complete"===this.readyState)){m[n]&&(m[n].loadTime=new Date);this.onload=this.onerror=this.onreadystatechange=null}};o.setAttribute("src",e);o.setAttribute("id",r);document.getElementsByTagName("head")[0].appendChild(o);i=i||setTimeout(O,1e3);o=null;return r}(r.callUrl,r.encoding,r.callbackName);r.startTime=(new Date).getTime();!function(e,t,n){u[e].inFlight=u[e].inFlight+1;m[t]={launchTime:new Date,timeout:n};g+=1;p+=1}(e,r.callbackName,r.timeout);f-=1}else n=!0}t=null}function O(){clearTimeout(i);i=null;var e,t=new Date;for(e in m)if(m.hasOwnProperty(e)&&m[e].launchTime){var n=t-m[e].launchTime;(m[e].loadTime||n>m[e].timeout)&&a[e].apply(null,[S(408,{message:"Request timed out",name:"timeout"}),!0])}0<g&&(i=setTimeout(O,1e3))}function D(){t+=1}function A(){if(lpTag.taglets.lpAjax&&lpTag.taglets.lpAjax.publishMetrics&&0<d.length){lpTag.taglets.lpAjax.publishMetrics({tags:[{transport:y}],metrics:d});d.length=0}R()}function R(){e&&clearTimeout(e);e=setTimeout(A,o.metricsTimeout)}function N(e,t){r+=1;if(0<t.retries){t.retries=t.retries-1;w(t)}else{P(t);j(s.ERROR,t.error,e||S(408,{id:408,name:"TIMEOUT",message:"Request has timed out on all retries"}),t.context);t=null;E()}}function P(e){for(var t=["callUrl","retries","id","requestTimeout","type","encoding","launchTime","callbackName","domainMatch","startTime"],n=0;n<t.length;n++)if(e.hasOwnProperty(t[n])){e[t[n]]=null;delete e[t[n]]}}function j(t,e,n,r){if("function"==typeof e)try{e.call(r||null,n);e=null}catch(e){I("Exception in execution of callback, type :"+t+" e=["+e.message+"]",s.ERROR,"runCallback")}else I("No callback, of type :"+t,s.INFO,"runCallback")}function I(e,t,n){if(a.lpTag&&lpTag.log){"string"==typeof e&&n&&(e=n+": "+e);lpTag.log(e,t,y)}}var U={init:v,configure:function(e){if(e)for(var t in e)o.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(o[t]=e[t]);v()},issueCall:w,isValidRequest:b,getVersion:function(){return"1.1.7"},getName:function(){return y},getDefaults:T,inspect:function(){return{name:y,version:"1.1.7",callsMade:p,errorsFound:r,pending:g,buffered:f,refused:t,defaults:T()}}};v();return U}(window);window.lpTag=window.lpTag||{};lpTag.cookieMethods=lpTag.cookieMethods||function(){"use strict";var r=!1,o=!1,a=!0;!function(){var e="lpTestCookie"+(new Date).getTime(),t="testValue";s({name:e,value:t});r=t===n(e);l(e);!r&&navigator.userAgent.match(/Chrome/)&&function(){var e="lpTestCookie"+(new Date).getTime(),t="testValue";s({name:e,value:t,sameSite:"none",secure:!0});o=t===n(e);l(e,null,null,!0,"none")}();a=!1}();function n(e){var t,n="";if(a||r||o){if("string"!=typeof e)return"";e=encodeURIComponent(e);try{t="; "+document.cookie}catch(e){}n=1==(e=t.split("; "+e+"=")).length?"":decodeURIComponent(e[1].split(";")[0])}return n}function i(e,t,n,r,o,a,i){return s("object"==typeof e?e:{name:e,value:t,seconds:n,path:r,domain:o,secure:a,sameSite:i})}function s(e){var t,n=!1;if(a||r||o&&e.secure&&"none"===e.sameSite){if("string"!=typeof e.name||""===e.name)return!1;null!==e.value&&void 0!==e.value||(e.seconds=-1);if("number"==typeof e.seconds){t=(new Date).getTime();t=new Date(t+1e3*e.seconds)}e.value=e.value?encodeURIComponent(e.value):"";try{document.cookie=[encodeURIComponent(e.name),"=",e.value,t?"; expires="+t.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":"",e.sameSite?"; samesite="+e.sameSite:""].join("");n=!0}catch(e){}}return n}function l(e,t,n,r,o){return s({name:e,path:t,domain:n,secure:r,sameSite:o})}return{clearCookie:l,writeSessionCookie:i,writePersistentCookie:function(e,t,n){n="number"==typeof n?n:2592e3;"object"==typeof e&&(e.seconds=n);return i(e,t,n)},readCookie:n,isCookieEnabled:function(){return r},isChromeThirdPartyEnabled:function(){return o}}}();window.lpTag=window.lpTag||{};lpTag.storageMethods=lpTag.storageMethods||function(){"use strict";var n=!1,r=!1;function e(){return n}function t(){return r}function o(e){if(n)return sessionStorage.getItem(e)||""}function a(e){if(r)return localStorage.getItem(e)||""}function i(e){var t=!1,n="lpTestCase";try{if("undefined"!=typeof Storage){e.setItem(n,"abc");t="abc"===e.getItem(n);e.removeItem(n)}}catch(e){}return t}!function(){try{n=i(sessionStorage);r=i(localStorage)}catch(e){}}();return{isStorageEnabled:function(){return n&&r},isSessionStorageEnabled:e,isLocalStorageEnabled:t,setSessionData:function(e,t){if(n){sessionStorage.setItem(e,t);return!0}},getSessionData:o,removeSessionData:function(e){if(n&&o(e)){sessionStorage.removeItem(e);return!0}return!1},setPersistentData:function(e,t){if(r){localStorage.setItem(e,t);return!0}},getPersistentData:a,removePersistentData:function(e){if(r&&a(e)){localStorage.removeItem(e);return!0}return!1}}}();window.lpTag=window.lpTag||{};lpTag.domainUtil=lpTag.domainUtil||function(){var a={customTopLevelDomain:{aero:"aero",asia:"asia",bike:"bike",biz:"biz",camera:"camera",cat:"cat",clothing:"clothing",coop:"coop",equipment:"equipment",estate:"estate",eus:"eus",gallery:"gallery",graphics:"graphics",guru:"guru",info:"info",int:"int",holdings:"holdings",jobs:"jobs",lighting:"lighting",mobi:"mobi",museum:"museum",name:"name",photography:"photography",plumbing:"plumbing",post:"post",pro:"pro",singles:"singles",tel:"tel",travel:"travel",ventures:"ventures",xxx:"xxx"},topLevelDomain:{ac:"ac",co:"co",com:"com",edu:"edu",gov:"gov",mil:"mil",net:"net",org:"org"},countryTopLevelDomain:{ac:"ac",ad:"ad",ae:"ae",af:"af",ag:"ag",ai:"ai",al:"al",am:"am",an:"an",ao:"ao",aq:"aq",ar:"ar",as:"as",at:"at",au:"au",aw:"aw",ax:"ax",az:"az",ba:"ba",bb:"bb",bd:"bd",be:"be",bf:"bf",bg:"bg",bh:"bh",bi:"bi",bj:"bj",bm:"bm",bn:"bn",bo:"bo",bq:"bq",br:"br",bs:"bs",bt:"bt",bv:"bv",bw:"bw",by:"by",bz:"bz",bzh:"bzh",ca:"ca",cc:"cc",cd:"cd",cf:"cf",cg:"cg",ch:"ch",ci:"ci",ck:"ck",cl:"cl",cm:"cm",cn:"cn",co:"co",cr:"cr",cs:"cs",cu:"cu",cv:"cv",cw:"cw",cx:"cx",cy:"cy",cz:"cz",dd:"dd",de:"de",dj:"dj",dk:"dk",dm:"dm",do:"do",dz:"dz",ec:"ec",ee:"ee",eg:"eg",eh:"eh",er:"er",es:"es",et:"et",eu:"eu",fi:"fi",fj:"fj",fk:"fk",fm:"fm",fo:"fo",fr:"fr",ga:"ga",gb:"gb",gd:"gd",ge:"ge",gf:"gf",gg:"gg",gh:"gh",gi:"gi",gl:"gl",gm:"gm",gn:"gn",gp:"gp",gq:"gq",gr:"gr",gs:"gs",gt:"gt",gu:"gu",gw:"gw",gy:"gy",hk:"hk",hm:"hm",hn:"hn",hr:"hr",ht:"ht",hu:"hu",id:"id",ie:"ie",il:"il",im:"im",in:"in",io:"io",iq:"iq",ir:"ir",is:"is",it:"it",je:"je",jm:"jm",jo:"jo",jp:"jp",ke:"ke",kg:"kg",kh:"kh",ki:"ki",km:"km",kn:"kn",kp:"kp",kr:"kr","krd:":"krd",kw:"kw",ky:"ky",kz:"kz",la:"la",lb:"lb",lc:"lc",li:"li",lk:"lk",lr:"lr",ls:"ls",lt:"lt",lu:"lu",lv:"lv",ly:"ly",ma:"ma",mc:"mc",md:"md",me:"me",mg:"mg",mh:"mh",mk:"mk",ml:"ml",mm:"mm",mn:"mn",mo:"mo",mp:"mp",mq:"mq",mr:"mr",ms:"ms",mt:"mt",mu:"mu",mv:"mv",mw:"mw",mx:"mx",my:"my",mz:"mz",na:"na",nc:"nc",ne:"ne",nf:"nf",ng:"ng",ni:"ni",nl:"nl",no:"no",np:"np",nr:"nr",nu:"nu",nz:"nz",om:"om",pa:"pa",pe:"pe",pf:"pf",pg:"pg",ph:"ph",pk:"pk",pl:"pl",pm:"pm",pn:"pn",pr:"pr",ps:"ps",pt:"pt",pw:"pw",py:"py",qa:"qa",re:"re",ro:"ro",rs:"rs",ru:"ru",rw:"rw",sa:"sa",sb:"sb",sc:"sc",sd:"sd",se:"se",sg:"sg",sh:"sh",si:"si",sj:"sj",sk:"sk",sl:"sl",sm:"sm",sn:"sn",so:"so",sr:"sr",ss:"ss",st:"st",su:"su",sv:"sv",sx:"sx",sy:"sy",sz:"sz",tc:"tc",td:"td",tf:"tf",tg:"tg",th:"th",tj:"tj",tk:"tk",tl:"tl",tm:"tm",tn:"tn",to:"to",tp:"tp",tr:"tr",tt:"tt",tv:"tv",tw:"tw",tz:"tz",ua:"ua",ug:"ug",uk:"uk",us:"us",uy:"uy",uz:"uz",va:"va",vc:"vc",ve:"ve",vg:"vg",vi:"vi",vn:"vn",vu:"vu",wf:"wf",ws:"ws",ye:"ye",yt:"yt",yu:"yu",za:"za",zm:"zm",zr:"zr"},sldRestricted:{au:"au",bn:"bn",br:"br",bt:"bt",cy:"cy",et:"et",fk:"fk",gh:"gh",gn:"gn",jm:"jm",ke:"ke",kh:"kh",kp:"kp",kw:"kw",lb:"lb",lr:"lr",ls:"ls",mm:"mm",mq:"mq",mt:"mt",mz:"mz",ni:"ni",np:"np",om:"om",pa:"pa",pg:"pg",py:"py",qa:"qa",sb:"sb",sv:"sv",sx:"sx",sz:"sz",th:"th",tz:"tz",va:"va",ve:"ve",ye:"ye",zw:"zw"}};function i(e,t){var n=new RegExp(/((?:http|ftp|ws){1}s{0,1}?:\/\/){0,1}([^\/\?/:]+)(\/?)/gi).exec(e),e=null;if(n&&3<=n.length&&""!==n[2]){e=n[2].toLowerCase();t&&(e=n[1]+e)}return e}return{v:"1.1",name:"domainUtil",getParentDomain:function(e){var t,n=null,r={top:null,country:null};if((t=(e=i(e=""+e)).split(".")).length<3)return e;for(var o=t.length-1;-1<o;o--){!function(e,t,n){e=""+e;null===t.top&&(a.topLevelDomain[e]||a.customTopLevelDomain[e])?t.top=n:null===t.country&&a.countryTopLevelDomain[e]&&(t.country=n)}(t[o],r,o);if(null!==r.country&&null!==r.top)break}if(null===r.top&&null===r.country)return e;(null===(n=r.top)||null!==r.country&&r.country<n&&n-1===r.country&&t[r.country]!==a.sldRestricted[t[r.country]])&&(n=r.country);return t.slice(0<n?n-1:n).join(".")},getDomain:i,isValidDomain:function(e){e=i(e);return new RegExp(/^[a-z]{1}[a-z+|\d+|_+|\-|.]+[a-z]{1}$/gi).test(e)}}}();window.lpTag=window.lpTag||{};window.lpTag.SessionCookieWrapper=window.lpTag.SessionCookieWrapper||function(){var r=lpTag.cookieMethods,o=lpTag.secureStorageUtils,e=r.isCookieEnabled()||!lpTag.firstParty&&o.isChrome()&&r.isChromeThirdPartyEnabled(),a=/[\-\.\+\*]/g,i="\\@@SessionCookieWrapper",s="https:"===location.protocol,l=!lpTag.firstParty&&o.isChrome()?"none":"";return{set:function(e,t,n){r.writeSessionCookie(e+"_lzw2".replace(a,i),o.lzwEncode(t),null,"/",null,s,l);o.runCallback(n,e||null)},get:function(e,t){var n=null;if("string"==typeof e){n=r.readCookie(e+"_lzw2".replace(a,i));n=o.lzwDecode(n)}o.runCallback(t,n||null)},remove:function(e,t){r.clearCookie(e+"_lzw2".replace(a,i),"/",null,s,l);o.runCallback(t,null)},isActive:function(){return e},name:"secureSessionCookie"}};window.lpTag=window.lpTag||{};window.lpTag.IndexDBWrapper=window.lpTag.IndexDBWrapper||function(t,e){var n,r,i,o=e||"LPSecureStorage",s="lpSS",a=1,l="tk"+(new Date).getTime(),c="1",u=10,p=80,f=1.1,g=15,d=0,m={READWRITE:"readwrite",READONLY:"readonly",VERSIONCHANGE:"versionchange"},h={ADD:"add",PUT:"put",GET:"get",DELETE:"delete"},y=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,v=lpTag.secureStorageUtils;y?b():t(null);function b(){var t;try{if(null===(t=y.open(o,a))){C(!1);return}}catch(e){C(!1);return}t.onupgradeneeded=function(e){(i=e&&e.target&&e.target.result)&&(i.objectStoreNames.contains(s)||i.createObjectStore(s))};t.onsuccess=function(e){i=e.target.result;t.onerror=function(){};clearTimeout(r);setTimeout(k,u)};t.onerror=function(e){i=null;C(!1)};r=setTimeout(function(){C(!1);p*=f},p)}function w(e,t){S(h.GET,e,null,t)}function T(e,t){S(h.DELETE,e,null,t)}function k(){try{S(h.ADD,l,c,function(e){e&&e.error?C(!1):setTimeout(function(){w(l,function(e){if(e===c){C(!0);T(l)}else C(!1)})},u)})}catch(e){C(!1)}}function S(e,t,n,r){if(i){var o,a=e===h.GET?m.READONLY:m.READWRITE;(o=null!==n?i.transaction(s,a).objectStore(s)[e](""+n,t):i.transaction(s,a).objectStore(s)[e](t)).onsuccess=function(e){e=e&&e.target&&e.target.result;void 0===e&&(e=null);"function"==typeof r&&r(e);o=null};o.onerror=function(e){"function"==typeof r&&r({error:e.target.result||"Error making IDB request for "+t});o=null}}else"function"==typeof r&&r({error:"IndexedDB not active"})}function C(e){e?v.runCallback(t,n):function(){if(g<=d)v.runCallback(t,null);else{d++;b()}}()}n={set:function(n,r,o){w(n,function(e){var t=h.ADD;S(t=null!=e?h.PUT:t,n,r,o)})},get:w,remove:T,isActive:function(){return!!i},name:"indexedDB"}};window.lpTag=window.lpTag||{};window.lpTag.DomStorageWrapper=window.lpTag.DomStorageWrapper||function(e){var o=lpTag.storageMethods,a=!0===e||"true"===e||!1,i=lpTag.secureStorageUtils;function s(){return a?o.isSessionStorageEnabled():o.isLocalStorageEnabled()}return{get:function(e,t){var n={error:"Unable to perform getItem on "+e};s()&&(n=a?o.getSessionData(e):o.getPersistentData(e));i.runCallback(t,n||null)},set:function(e,t,n){var r={error:"Unable to perform setItem on "+e};s()&&(r=a?o.setSessionData(e,t):o.setPersistentData(e,t));i.runCallback(n,r||null)},remove:function(e,t){var n={error:"Unable to perform removeItem on "+e};s()&&(n=a?o.removeSessionData(e):o.removePersistentData(e));i.runCallback(t,n||null)},isActive:s,name:e?"sessionStorage":"localStorage"}};window.lpTag=window.lpTag||{};window.lpTag.DataAnalyzer=window.lpTag.DataAnalyzer||function(e,t,n,r,o){var a=864e5,i="1.0",s="meta",l=lpTag.secureStorageUtils,c=new lpTag.DomainResolver(e,t,n,r,o);function u(e){return!e||"string"!=typeof e&&"number"!=typeof e?a:+e}function p(e){var t=null,n=(new Date).getTime();if(e)for(var r in e)if(e.hasOwnProperty(r)&&!f(e[r],n)&&c.isValidByLocations(e[r])){t=e[r].value;break}return t}function f(e,t){var n="string"==typeof e.ts?parseInt(e.ts,10):e.ts,e=u(e.ttl);t=t||(new Date).getTime();return n&&n+e<t}function g(e){e[s]={v:i}}return{getItems:function(e,t){var n,r;if(e)if("*"!==t)r=p(e[t]);else{r={};for(var o in e)e.hasOwnProperty(o)&&o!==s&&(n=p(e[o]))&&(r[o]=n);r=l.hasProperties(r)?r:null}return r},getItemId:function(e){var t,n,r;for(r in e)e.hasOwnProperty(r)&&c.isValidByLocations(e[r])&&(!n||e[r].ts>n)&&(n=e[t=r].ts);return t},cleanupObject:function(e){var t,n=(new Date).getTime(),r={};if(e&&"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&o!==s&&(t=function(e,t){var n,r={};if(e&&"object"==typeof e)for(var o in e)if(e.hasOwnProperty(o)&&!f(e[o],t)){e[o].locations=c.cleanLocations(e[o].locations);if(e[o].locations)if(c.isValidByLocations(e[o])){if(!n||e[o].ts>e[n].ts){n&&r[n]&&l.removeKeyFromObj(r,n);r[n=o]=e[o]}}else r[o]=e[o]}return l.hasProperties(r)?r:null}(e[o],n))&&(r[o]=t);if(l.hasProperties(r)){g(r);return r}return null},enhanceObject:function(e,t,n){var r,o=e,a=u(n.ttl),i=(new Date).getTime();o&&"object"==typeof o||g(o={});o[n.appName]||(o[n.appName]={});t=t||l.getUID();r=o[n.appName][t]&&o[n.appName][t].locations||{};r=c.updateLocations(r,n.origin,i);!(e=n.value)&&l.isTouchRequest(n)&&(e=o[n.appName][t]&&o[n.appName][t].value);o[n.appName][t]={value:e,locations:r,ttl:a,ts:i};return o}}};window.lpTag=window.lpTag||{};window.lpTag.StorageSelector=window.lpTag.StorageSelector||function(e){var o,t=e.site,a=lpTag.secureStorageUtils,i=a.log.log,r={},s="storage_expiration-"+t,l=0,c={indexedDB:{name:"indexedDB",priority:3,wrapperName:"IndexDBWrapper"},localStorage:{name:"localStorage",priority:2,wrapperName:"DomStorageWrapper"},secureSessionCookie:{name:"secureSessionCookie",priority:1,wrapperName:"SessionCookieWrapper"},sessionStorage:{name:"sessionStorage",priority:0,wrapperName:"DomStorageWrapper"}},u={name:"NONE",isActive:function(){return!1}},p=864e5,f="priority",g="timestamp";function d(e,t,n,r){if(!r&&n)t.get(s,d.bind(this,e,t,!1));else{l--;c[t.name][g]=function(e){e=a.parseInteger(e);return"number"==typeof e&&e>(new Date).getTime()?e:-1}(r);0===l&&h(e,m(g)||m(f))}}function m(e){var t,n;for(n in c)c.hasOwnProperty(n)&&c[n].storage&&"number"==typeof c[n][e]&&0<=c[n][e]&&(!t||c[n][e]>t[e])&&(t=c[n]);return t&&t.storage||null}function h(e,t){var n=e?e+"-":"";if(t&&"function"==typeof t.isActive&&t.isActive()){r[e]=t;i("Chosen storage: "+r[e].name+", app: "+e);a.runCallback(o,{app:e,storage:r[e]});r[e].set(n+s,(new Date).getTime()+p+"")}else{r[e]=u;i("Storage selection error, chosen storage: "+r[e].name+", app: "+e);a.runCallback(o,{app:e,storage:r[e]})}}return{createWrappers:function(t){(a.isIE()||a.isSafari())&&!lpTag.firstParty||!0!==e.localStorageEnabled||(c.localStorage.storage=new lpTag[c.localStorage.wrapperName]);!0===e.cookiesEnabled&&(c.secureSessionCookie.storage=new lpTag[c.secureSessionCookie.wrapperName]);!0===e.sessionStorageEnabled&&(c.sessionStorage.storage=new lpTag[c.sessionStorage.wrapperName](!0));if(a.isSafari()&&!lpTag.firstParty)a.runCallback(t);else try{new lpTag[c.indexedDB.wrapperName](function(e){e&&e.isActive()&&(c.indexedDB.storage=e);a.runCallback(t)})}catch(e){a.runCallback(t)}},selectStorage:function(e,t,n,r){o=r;c[e]?function(e,t,n){i("_selectInitialStorage");h(e,n?c[t].storage:c[t].storage||m(f))}(n,e,t):function(t){i("_selectStorageByTimestampOrPriority");var n=!1,e=function(){var e,t=[];for(e in c)c.hasOwnProperty(e)&&c[e].storage&&t.push(c[e].storage);return t}(),r=t?t+"-":"",o=!!t;l=e.length;e.forEach(function(e){n=!0;e.get(r+s,d.bind(this,t,e,o))});n||h(t,u)}(n)},getStorage:function(e){return(e=e||Object.keys(r)[0])&&r[e]},hasValidStorageSelected:function(e){return(e=e||Object.keys(r)[0])&&r[e]&&a.runCallback(r[e].isActive)},noStorageType:u}};window.lpTag=window.lpTag||{};window.lpTag.DomainResolver=window.lpTag.DomainResolver||function(e,s,t,n,r){var l,o=lpTag.secureStorageUtils,a=o.log.log,c=/^\*\.([^\.]+\.)*([^\.\s])+$/gi,i=["liveperson.net","liveperson.com","lprnd.net","lpsnmedia.net"],u="boolean"==typeof t?t:"true"===t,p={DEV:"DEV",QA:"QA",ALPHA:"ALPHA",GA:"GA"},f={};f[p.DEV]=f[p.QA]="qtvr-wap06.dev.lprnd.net";f[p.ALPHA]="accdn-a.lpsnmedia.net";f[p.GA]="accdn.lpsnmedia.net";u?function(e,t){lpTag.taglets.jsonp.issueCall({url:"https://"+(f[n&&n.toUpperCase()]||f[p.GA])+"/api/account/"+e+"/configuration/domainprotection/refererrestrictions",timeout:7e3,retries:3,success:h(t),error:h(t),context:this})}(e,g):g([s]);function g(e){var t=lpTag.domainUtil.getParentDomain(s);(e=l=e,Array.isArray(e)&&1<e.length)&&d(t)||(u=!(l=[t]));a("DomainResolver::setAllowedDomains: isCrossDomain="+u);o.runCallback(r)}function d(e){var t,n,r,o,a=m(s);if(!a)for(var i=0;i<l.length;i++){t=l[i];c.lastIndex=null;if(a=c.test(t)?(n=e,o=void 0,o=(r=t).substring(2),0<=(r=n.lastIndexOf(o))&&n.length===r+o.length):lpTag.domainUtil.getParentDomain(e)===lpTag.domainUtil.getParentDomain(t))break}return a}function m(e){for(var t=!1,n=0;n<i.length;n++)if(-1<e.indexOf(i[n])){t=!0;break}return t}function h(t){return function(e){e=Array.isArray(e)&&e.length?e[0]:null,e=(e=e&&Array.isArray(e.whiteList)?e.whiteList:[]).filter(function(e){return"string"==typeof e});a("DataAnalyzer::_onWhiteListReceived whiteList:"+e.join(", "));o.runCallback(t,e)}}return{isValidByLocations:function(e){return!!((e=e&&e.locations&&Object.keys(e.locations))&&Array.isArray(e)&&0<e.length)&&function(e){e=e.filter(d);return!!(Array.isArray(e)&&0<e.length)}(e)},cleanLocations:function(e){var t=e&&Object.keys(e)&&Object.keys(e).length;if(e&&"object"==typeof e&&1<t)for(var n in e)e.hasOwnProperty(n)&&(u?d(n)||o.removeKeyFromObj(e,n):d(n)&&o.removeKeyFromObj(e,n));return o.hasProperties(e)?e:null},updateLocations:function(e,t,n){m(t=lpTag.domainUtil.getParentDomain(t))&&o.hasProperties(e)||(e[t]={ts:n});return e},convertLocations:function(e,t){var n={};if(Array.isArray(e))for(var r=0;r<e.length;r++)n[e[r]]={ts:t};return n}}};window.lpTag=window.lpTag||{};window.lpTag.SecureStorageManager=window.lpTag.SecureStorageManager||function(e){var p,t,n="lpStrMap",r=200,f=lpTag.secureStorageUtils,g=f.log.log,c=f.log.error,d=e.dataAnalyzer,o=e.storageSelector;if(this===window)return null;t=e.app,o.hasValidStorageSelected(t)&&window.setTimeout(function(){v(t,function(e,t){p="object"==typeof p?p:{};for(var n in t="object"==typeof t&&t||p){g("Got key in map: "+n);t.hasOwnProperty(n)&&function(n,r){h(n,r,function(e){var t=d.cleanupObject(e);g("Got key "+r);!function(t,n,e,r){if(Object.keys(r).length<2){g("removing item "+n);y(t,n,function(e){if(!e||e&&!e.error){p[n]=null;delete p[n];b(t,p)}})}else if(r&&!f.isSameValue(r,e)){g("Modifying item "+n);m(t,n,r)}}(n,r,e,t)})}(e,n)}}.bind(this,t))},r);function m(e,t,n,r){void 0!==n&&""!==n&&null!==n?o.getStorage(e).set(t,f.encodeItem(n),r):o.getStorage(e).remove(t,r)}function h(e,t,n){o.getStorage(e).get(t,function(e){f.runCallback(n,d.cleanupObject(f.decodeItem(e)))})}function y(e,t,n){o.getStorage(e).remove(t,n)}function v(e,t){h(e,n,function(e){"object"==typeof(p=e&&!e.error?e:{})&&null!==p||(p={});f.runCallback(t,e);g("Got map: "+JSON.stringify(p))})}function b(e,t){m(e,n,t,function(e){p=e&&!e.error?t:{};g("Setting map: "+JSON.stringify(t))})}return{setItem:function(s,l,c){var u=l.app;(s=encodeURIComponent(s))?h(u,s,function(e){!e&&f.isTouchRequest(l)?f.runCallback(c,{error:"No value to touch"}):(t=u,n=s,r=e,o=l,a=c,i=d.getItemId(r&&r[o.appName]),e=f.isTouchRequest(o),void 0===n||void 0===o.value&&!e?!e&&r&&r[o.appName]?function(r,o,e,t,a,n){e=f.removeKeyFromObj(n&&n[t.appName],e);f.hasProperties(e&&e[t.appName])||(e=f.removeKeyFromObj(e&&e,t.appName));f.hasProperties(e)?m(r,o,e,function(e){f.runCallback(a,e&&e.error?e:null)}):y(r,o,function(e){f.runCallback(a,e);e&&e.error||(t=r,n=o,p&&!p.hasOwnProperty(n)||v(t,function(){if(p&&p.hasOwnProperty(n)){p[n]=null;delete p[n];b(t,p)}}));var t,n})}(t,n,i,o,a,r):f.runCallback(a,{error:"Object not found."}):function(t,n,e,r,o,a){r=d.enhanceObject(a,e,r);r?m(t,n,r,function(e){f.runCallback(o,e);e&&e.error||function(e,t){if(p){if(!p.hasOwnProperty(t)){p[t]=1;b(e,p);g("Adding key to map: "+t)}}else v(e,function(){if(!p.hasOwnProperty(t)){p[t]=1;b(e,p);g("Got Map, adding key to map: "+t)}})}(t,n)}):f.runCallback(o,{error:"Unable to set the item."})}(t,n,i,o,a,r));var t,n,r,o,a,i}):f.runCallback(c,{error:"No key specified."})},getItems:function(e,n,r){var o,a,i=n.app,s={},l=!1;if(n.keys&&Array.isArray(e)){a=e.length;l=!0}else{a=1;n.keys=[n.key];e=[e]}e.forEach(function(e,t){e=encodeURIComponent(e);h(i,e,function(e){o=n.keys[t];s[o]=e?d.getItems(e,n.appName):null;if(0===--a)if(f.hasProperties(s))l?f.runCallback(r,s):f.runCallback(r,s[o]);else{f.runCallback(r,null);c("No value")}})})}}};window.lpTag=window.lpTag||{};window.lpTag.SecureStorageClient=window.lpTag.SecureStorageClient||function(e,t){var o,a,i={},n="SecureStorageClient",s=lpTag.secureStorageUtils,l=s.log.log,c={},u=t,p=[],r=!1,f="SecureStorageClient/storageType",g={STORAGE:"storage_error"},d=lpTag.events,m="lpSecureStorage",t=!lpTag.firstParty;i[""+e]=e;t&&s.bindEvent(window,"message",y);d&&d.bind({eventName:"firstPartyMessage",appName:n,func:h});function h(e){e.firstParty=!0;e.origin=location.origin||location.protocol+"//"+location.host;y(e)}function y(e){r?v(e):p.push(e)}function v(e,t){var n,r;if("object"==typeof(n=e&&e.data?b(e.data):n)&&null!==n){n=function(e){var t;if(e.keys&&Array.isArray(e.keys)){t=e.keys.filter(function(e){return"string"==typeof e&&e!==f});e.keys=0<t.length?t:null}else e.key&&(e.key="string"==typeof e.key&&e.key!==f?e.key:null);return e}(n);r=s.isSelectStorageRequest(n);if(n.key||n.keys||r){n.origin=e.origin;n.source=e.source;n.domain=lpTag.domainUtil.getDomain(e.origin,!1);n.firstParty=e.firstParty;a.hasValidStorageSelected(n.app)?r||(n.site&&(n.value||n.ttl)?function(e){i[""+e.site]=e.site;o&&o.setItem(""+e.site+e.key,e,w.bind(this,e))}:function(e){var t;i[""+e.site]=e.site;if(o){t=function(t){return t.key?""+t.site+t.key:t.keys.map(function(e){return""+t.site+e})}(e);o.getItems(t,e,w.bind(this,e))}})(n):r?function(e,t){a.selectStorage(e.initialStorageType,e.force,e.app,function(e,t,n){t&&t(n);!function(e,t){c[t.app]=t.storage&&t.storage.name;e={key:f,appName:"secureStorage",app:t.app||e.app,id:e.id,url:u,src:null,firstParty:e.firstParty};c[t.app]!==a.noStorageType.name?e.value=c[t.app]:e.error=g.STORAGE;T(e);l("Notify Key: "+f+" Value: "+t.storage.name)}(e,n)}.bind(this,e,t))}(n,t):w(n,{error:"no storage selected for the app "+n.app+", call 'configure' with the same app before"})}}}function b(e){var t;try{t=decodeURIComponent(e);t=JSON.parse(t)}catch(e){}return t}function w(e,t){var n={appName:e.appName,url:e.origin,src:e.source,id:e.id,firstParty:e.firstParty};t&&t.error?n.error=t.error:n.value=s.isSetRequest(e)||s.isTouchRequest(e)?e.value:t;e.key?n.key=e.key:e.keys&&(n.keys=e.keys);T(n)}function T(e){var t=function(e){var t={appName:e.appName};e.error?t.error=e.error:t.value=e.value;e.key?t.key=e.key:e.keys&&(t.keys=e.keys);e.id&&(t.id=e.id);e.app&&(t.app=e.app);t=JSON.stringify(t);return t=encodeURIComponent(t)}(e);e.firstParty?d.trigger({appName:m,eventName:"firstPartyMessage",data:{data:t}}):function(e,t,n){if(void 0!==e)try{(n||window.parent).postMessage(e,t||lpTag.domainUtil.getDomain(t,!0))}catch(e){}}(t,e.url,e.src)}return{initSelector:function(e){a=e},initManager:function(e){o=e},sendPendingMessages:function(t,e,n){var r=n?p.filter(function(e){if(e&&e.data){e=b(e.data);return e&&e.type===n}return!1}):p;0<r.length?r.forEach(function(e){v(e,t);p.splice(p.indexOf(e),1)}):"function"==typeof e&&e()},setActive:function(){r=!0},reset:function(){p=[]},dispose:function(){s.unBindEvent(window,"message",y);d&&d.unbind({eventName:"firstPartyMessage",appName:n,func:h})}}};window.lpTag=window.lpTag||{};window.lpTag.StorageInitiator=window.lpTag.StorageInitiator||function(e){var t,n,r,o,a,i=!1,s=1e3,l=[],c=-1<e.location.href.indexOf("storage.html"),u=lpTag.secureStorageUtils;p();function p(){t=function(){var e=u.getUrlParameters(location.search);e.cookiesEnabled=v(e.cookiesEnabled)&&(lpTag.cookieMethods.isCookieEnabled()||!lpTag.firstParty&&u.isChrome()&&lpTag.cookieMethods.isChromeThirdPartyEnabled());e.localStorageEnabled=v(e.localStorageEnabled)&&lpTag.storageMethods.isLocalStorageEnabled();e.sessionStorageEnabled=v(e.sessionStorageEnabled)&&lpTag.storageMethods.isSessionStorageEnabled();e.debug=c;e.isCrossDomain="true"===e.isCrossDomain||!0===e.isCrossDomain;e.loc=e.loc||location.origin;e.site=e.site||lpTag.site;return e}();n=new lpTag.SecureStorageClient(t.site,t.loc);o=new lpTag.DataAnalyzer(t.site,t.loc,t.isCrossDomain,t.env,g);(r=new lpTag.StorageSelector({site:t.site,asyncStorageMaxRetry:t.asmr,cookiesEnabled:t.cookiesEnabled,localStorageEnabled:t.localStorageEnabled,sessionStorageEnabled:t.sessionStorageEnabled})).createWrappers(f)}function f(){n.initSelector(r);d()}function g(){i=!0;y(a)}function d(){n.sendPendingMessages(m,h,u.requestTypes.SELECT_STORAGE)}function m(e){if(e&&e.storage){a=e.app;l[e.app]=e.storage;y(e.app)}}function h(){setTimeout(function(){d()},s)}function y(e){var t;if((t=e)&&i&&l&&l[t]){u.log.log("Initiated successfully with "+l[e].name+", app: "+e);e=new lpTag.SecureStorageManager({app:e,storageSelector:r,dataAnalyzer:o});n.initManager(e);n.sendPendingMessages();n.setActive()}}function v(e){return void 0===e||!0===e||"true"===e}return{init:p,reset:function(){n.reset();i=!1;l=[]},dispose:function(){n&&n.dispose();n=r=o=null}}}(window);