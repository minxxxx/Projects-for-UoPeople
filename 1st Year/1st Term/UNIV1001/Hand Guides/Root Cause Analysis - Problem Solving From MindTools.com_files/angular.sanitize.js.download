!function(e,t,r){"use strict";var n=t.$$minErr("$sanitize");var a=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,s=/^<\/\s*([\w:-]+)[^>]*>/,i=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,o=/^</,c=/^<\//,l=/<!--(.*?)-->/g,u=/<!DOCTYPE([^>]*?)>/i,p=/<!\[CDATA\[(.*?)]]>/g,f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,h=/([^\#-~| |!])/g,g=y("area,br,col,hr,img,wbr"),d=y("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),b=y("rp,rt"),m=t.extend({},b,d),v=t.extend({},d,y("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),w=t.extend({},b,y("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=y("script,style"),$=t.extend({},g,v,w,m),z=y("background,cite,href,longdesc,src"),k=t.extend({},z,y("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"));function y(e){var t,r={},n=e.split(",");for(t=0;t<n.length;t++)r[n[t]]=!0;return r}var C=document.createElement("pre"),A=/^(\s*)([\s\S]*?)(\s*)$/;function D(e){if(!e)return"";var t=A.exec(e),r=t[1],n=t[3],a=t[2];return a&&(C.innerHTML=a.replace(/</g,"&lt;"),a="textContent"in C?C.textContent:C.innerText),r+a+n}function E(e){return e.replace(/&/g,"&amp;").replace(f,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(h,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function F(e,r){var n=!1,a=t.bind(e,e.push);return{start:function(e,s,i){e=t.lowercase(e),!n&&x[e]&&(n=e),n||!0!==$[e]||(a("<"),a(e),t.forEach(s,function(n,s){var i=t.lowercase(s),o="img"===e&&"src"===i||"background"===i;!0!==k[i]||!0===z[i]&&!r(n,o)||(a(" "),a(s),a('="'),a(E(n)),a('"'))}),a(i?"/>":">"))},end:function(e){e=t.lowercase(e),n||!0!==$[e]||(a("</"),a(e),a(">")),e==n&&(n=!1)},chars:function(e){n||a(E(e))}}}t.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(e){return function(r){var f=[];return function(e,r){"string"!=typeof e&&(e=null==e?"":""+e);var f,h,d,b,$=[],z=e;for($.last=function(){return $[$.length-1]};e;){if(b="",h=!0,$.last()&&x[$.last()]?(e=e.replace(new RegExp("(.*)<\\s*\\/\\s*"+$.last()+"[^>]*>","i"),function(e,t){return t=t.replace(l,"$1").replace(p,"$1"),r.chars&&r.chars(D(t)),""}),y("",$.last())):(0===e.indexOf("\x3c!--")?(f=e.indexOf("--",4))>=0&&e.lastIndexOf("--\x3e",f)===f&&(r.comment&&r.comment(e.substring(4,f)),e=e.substring(f+3),h=!1):u.test(e)?(d=e.match(u))&&(e=e.replace(d[0],""),h=!1):c.test(e)?(d=e.match(s))&&(e=e.substring(d[0].length),d[0].replace(s,y),h=!1):o.test(e)&&((d=e.match(a))?(d[4]&&(e=e.substring(d[0].length),d[0].replace(a,k)),h=!1):(b+="<",e=e.substring(1))),h&&(f=e.indexOf("<"),b+=f<0?e:e.substring(0,f),e=f<0?"":e.substring(f),r.chars&&r.chars(D(b)))),e==z)throw n("badparse","The sanitizer was unable to parse the following block of html: {0}",e);z=e}function k(e,n,a,s){if(n=t.lowercase(n),v[n])for(;$.last()&&w[$.last()];)y("",$.last());m[n]&&$.last()==n&&y("",n),(s=g[n]||!!s)||$.push(n);var o={};a.replace(i,function(e,t,r,n,a){var s=r||n||a||"";o[t]=D(s)}),r.start&&r.start(n,o,s)}function y(e,n){var a,s=0;if(n=t.lowercase(n))for(s=$.length-1;s>=0&&$[s]!=n;s--);if(s>=0){for(a=$.length-1;a>=s;a--)r.end&&r.end($[a]);$.length=s}}y()}(r,F(f,function(t,r){return!/^unsafe/.test(e(t,r))})),f.join("")}}]}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var r=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,n=/^mailto:/;return function(a,s){if(!a)return a;for(var i,o,c,l=a,u=[];i=l.match(r);)o=i[0],i[2]==i[3]&&(o="mailto:"+o),c=i.index,p(l.substr(0,c)),f(o,i[0].replace(n,"")),l=l.substring(c+i[0].length);return p(l),e(u.join(""));function p(e){var r,n;e&&u.push((r=e,F(n=[],t.noop).chars(r),n.join("")))}function f(e,r){u.push("<a "),t.isDefined(s)&&(u.push('target="'),u.push(s),u.push('" ')),u.push('href="',e.replace('"',"&quot;"),'">'),p(r),u.push("</a>")}}}])}(window,window.angular);