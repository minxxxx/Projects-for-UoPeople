/*  AdBridg Connect v2.1.0, copyright AdBridg Inc. All rights reserved. f29bd40c:ksi0ucu3:241 */
!function i(r,o,a){function s(n,e){if(!o[n]){if(!r[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);throw new Error("Cannot find module '"+n+"'")}t=o[n]={exports:{}};r[n][0].call(t.exports,function(e){var t=r[n][1][e];return s(t||e)},t,t.exports,i,r,o,a)}return o[n].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";function i(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=e("../shim.js").polyfills,d=(s.registerBidder,s.config),c=s.utils,u=s.BANNER,p=s.VIDEO,o="33across",l="https://ssc.33across.com/api/v1/hb",g="https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",f="USD",m=/^[a-zA-Z0-9_-]{22}$/,h={SIAB:"siab",INVIEW:"inview",INSTREAM:"instream"},b=["mimes","minduration","maxduration","placement","protocols","startdelay","skip","skipafter","minbitrate","maxbitrate","delivery","playbackmethod","api","linearity"],v={uniqueSiteIds:[]},y="nm";function _(e,t,n){e=0<arguments.length&&void 0!==e?e:{};return s.utils.assign({},e,{ext:s.utils.assign({},e.ext,r({},1<arguments.length?t:void 0,2<arguments.length?n:void 0))})}function w(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function x(e){var t=e.params,n=e.mediaTypes,e=n.banner,n=n.video;return n&&!e&&"instream"===n.context?h.INSTREAM:t.productId===h.INVIEW?t.productId:h.SIAB}function A(e,t,n){t=e.getFloor({currency:f,mediaType:n,size:[t.w,t.h]});if(!isNaN(t.floor)&&t.currency===f)return t.floor}var S={NON_MEASURABLE:y,code:o,supportedMediaTypes:[u,p],isBidRequestValid:function(e){return(t=e).bidder===o&&void 0!==t.params&&!!function(e){return null!==(c.deepAccess(e,"params.siteId","")||"").trim().match(m)}(t)&&function(e){e=c.deepAccess(e,"mediaTypes.banner");return void 0===e||!!Array.isArray(e.sizes)}(e)&&function(e){var t=c.deepAccess(e,"mediaTypes.video"),e=c.deepAccess(e,"params.video",{});if(void 0===t)return!0;if(!Array.isArray(t.playerSize))return!1;if(!t.context)return!1;e=a(a({},t),e);return!(!Array.isArray(e.mimes)||0===e.mimes.length)&&(!(!Array.isArray(e.protocols)||0===e.protocols.length)&&((void 0===e.placement||"number"==typeof e.placement)&&("instream"!==t.context||void 0===e.startdelay||"number"==typeof e.startdelay)))}(e);var t},buildRequests:function(e,t){var n=s.utils.assign({consentString:void 0,gdprApplies:!1},t&&t.gdprConsent),i=t&&t.uspConsent,r=t&&t.refererInfo?t.refererInfo.referer:void 0;return v.uniqueSiteIds=e.map(function(e){return e.params.siteId}).filter(c.uniques),e.map(function(e){return function(e){var t=e.bidRequest,n=e.gdprConsent,i=void 0===n?{}:n,r=e.uspConsent,o=e.pageUrl,n={},e=t.params;n.imp=[{}],c.deepAccess(t,"mediaTypes.banner")&&(n.imp[0].banner=a({},function(i){var e=c.deepAccess(i,"mediaTypes.banner",{}),t=function(e){return document.getElementById(e)||document.getElementById(function(e){if(c.isGptPubadsDefined())for(var t=googletag.pubads().getSlots(),n=c.isSlotMatchingAdUnitCode(e),i=0;i<t.length;i++)if(n(t[i])){var r=t[i].getSlotElementId();return c.logInfo("[33Across Adapter] Map ad unit path to HTML element id: '".concat(e,"' -> ").concat(r)),r}return c.logWarn("[33Across Adapter] Unable to locate element for ad unit code: '".concat(e,"'")),null}(e))}(i.adUnitCode),n=function(e){return!c.isArray(e)||2!==e.length||c.isArray(e[0])?e.map(w):[w(e)]}(e.sizes);e="function"==typeof i.getFloor?n.map(function(e){var t,n=A(i,e,u);return s.utils.assign({},e,t=n?{ext:{ttx:{bidfloors:[n]}}}:t)}):n;n=function(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}(n),n=function(e){return{ttx:{viewability:{amount:isNaN(e)?e:Math.round(e)}}}}(function(e){return!function(){try{return c.getWindowSelf()!==c.getWindowTop()}catch(e){return!0}}()&&null!==e}(t)?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n.w,n=n.h;return"visible"===t.document.visibilityState?function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=n.w,n=n.h,n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.w,i=t.h,r=e.getBoundingClientRect(),o=r.width,a=r.height,s=r.left,t=r.top,e=r.right,r=r.bottom;(0===o||0===a)&&n&&i&&(e=s+(o=n),r=t+(a=i));return{width:o,height:a,left:s,top:t,right:e,bottom:r}}(e,{w:i,h:n}),t=function(e){for(var t={left:e[0].left,right:e[0].right,top:e[0].top,bottom:e[0].bottom},n=1;n<e.length;++n){if(t.left=Math.max(t.left,e[n].left),t.right=Math.min(t.right,e[n].right),t.left>=t.right)return null;if(t.top=Math.max(t.top,e[n].top),t.bottom=Math.min(t.bottom,e[n].bottom),t.top>=t.bottom)return null}return t.width=t.right-t.left,t.height=t.bottom-t.top,t}([{left:0,top:0,right:t.innerWidth,bottom:t.innerHeight},n]);return null===t?0:(t=t.width*t.height,n=n.width*n.height,t/n*100)}(e,t,{w:i,h:n}):0}(t,c.getWindowTop(),n):y);return{format:e,ext:n}}(t)));c.deepAccess(t,"mediaTypes.video")&&(n.imp[0].video=function(e){var t=c.deepAccess(e,"mediaTypes.video",{}),n=c.deepAccess(e,"params.video",{}),i=a(a({},t),n),r={},t=w(i.playerSize[0]),n=t.w,t=t.h;r.w=n,r.h=t,b.forEach(function(e){i.hasOwnProperty(e)&&(r[e]=i[e])});t=x(e);r.placement=r.placement||2,t===h.INSTREAM&&(r.startdelay=r.startdelay||0,r.placement=1);"function"!=typeof e.getFloor||(e=A(e,{w:r.w,h:r.h},p))&&s.utils.assign(r,{ext:{ttx:{bidfloors:[e]}}});return r}(t));n.imp[0].ext={ttx:{prod:x(t)}},n.site={id:e.siteId},o&&(n.site.page=o);n.id=t.bidId,i.consentString&&(n.user=_(n.user,"consent",i.consentString));Array.isArray(t.userIdAsEids)&&0<t.userIdAsEids.length&&(n.user=_(n.user,"eids",t.userIdAsEids));n.regs=_(n.regs,"gdpr",Number(i.gdprApplies)),r&&(n.regs=_(n.regs,"us_privacy",r));n.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"5.8.0-pre"}]}},t.schain&&(n.source=_(n.source,"schain",t.schain));1===e.test&&(n.test=1);t=d.getConfig("ttxSettings");return{method:"POST",url:t&&t.url||"".concat(l,"?guid=").concat(e.siteId),data:JSON.stringify(n),options:{contentType:"text/plain",withCredentials:!0}}}({bidRequest:e,gdprConsent:n,uspConsent:i,pageUrl:r})})},interpretResponse:function(e,t){var n=[];return 0<e.body.seatbid.length&&0<e.body.seatbid[0].bid.length&&n.push(function(e){var t=e.seatbid[0].bid[0].adomain&&e.seatbid[0].bid[0].adomain.length,n={requestId:e.id,bidderCode:o,cpm:e.seatbid[0].bid[0].price,width:e.seatbid[0].bid[0].w,height:e.seatbid[0].bid[0].h,ad:e.seatbid[0].bid[0].adm,ttl:e.seatbid[0].bid[0].ttl||60,creativeId:e.seatbid[0].bid[0].crid,mediaType:c.deepAccess(e.seatbid[0].bid[0],"ext.ttx.mediaType",u),currency:e.cur,netRevenue:!0};t&&(n.meta={advertiserDomains:e.seatbid[0].bid[0].adomain});n.mediaType===p&&("xml"===c.deepAccess(e.seatbid[0].bid[0],"ext.ttx.vastType","xml")?n.vastXml=n.ad:n.vastUrl=n.ad);return n}(e.body)),n},getUserSyncs:function(e,t,n,i){return e=e.iframeEnabled?v.uniqueSiteIds.map(function(e){return function(e){var t=e.siteId,n=void 0===t?"zzz000000000003zzz":t,i=e.gdprConsent,r=void 0===i?{}:i,t=e.uspConsent,i=d.getConfig("ttxSettings"),e=i&&i.syncUrl||g,i=r.consentString,r=r.gdprApplies,t={type:"iframe",url:"".concat(e,"&id=").concat(n,"&gdpr_consent=").concat(encodeURIComponent(i),"&us_privacy=").concat(encodeURIComponent(t))};"boolean"==typeof r&&(t.url+="&gdpr=".concat(Number(r)));return t}({gdprConsent:n,uspConsent:i,siteId:e})}):[],v.uniqueSiteIds=[],e}};t.exports=e("../shim.js").wrap({spec:S,unitIDKey:"siteId",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],2:[function(e,t,n){"use strict";var i,r,o;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=e("../shim.js").polyfills,c=d.utils,u=(d.registerBidder,d.BANNER),p={AOL:"aol",VERIZON:"verizon",ONEMOBILE:"onemobile",ONEDISPLAY:"onedisplay"},l={GET:"display-get"},g={GET:"mobile-get",POST:"mobile-post"},f={TAG:"iframe",TYPE:"iframe"},m={TAG:"img",TYPE:"image"},h=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],b=x(i=i||s(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),v=x(r=r||s(["","/bidRequest?"]),"host"),y=x(o=o||s(["dcn=","&pos=","&cmd=bid",""]),"dcn","pos","dynamicParams"),_={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},w=1;function x(o){for(var e=arguments.length,a=new Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var i=n[n.length-1]||{},r=[o[0]];return a.forEach(function(e,t){e=(c.isInteger(e)?n:i)[e];r.push(e,o[t+1])}),r.join("")}}function A(e){return e===p.AOL||e===p.VERIZON||e===p.ONEMOBILE}function S(e){if(A(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){e=e.params.imp[0];return e.id&&e.tagid&&e.banner&&e.banner.w&&e.banner.h}}function I(e){return A(e.bidder)&&e.params.dcn&&e.params.pos}function C(e){return((t=e.bidder)===p.AOL||t===p.VERIZON||t===p.ONEDISPLAY)&&e.params.placement&&e.params.network;var t}function j(e){return e.userIdAsEids.filter(function(e){return-1!==h.indexOf(e.source)})}u={code:p.AOL,gvlid:25,aliases:[p.ONEMOBILE,p.ONEDISPLAY,p.VERIZON],supportedMediaTypes:[u],isBidRequestValid:function(e){return C(e)||(I(e=e)||S(e))},buildRequests:function(e,t){var n=this,i={};return t&&(i.gdpr=t.gdprConsent,i.uspConsent=t.uspConsent),e.map(function(e){var t,t=I(t=e)?g.GET:S(t)?g.POST:C(t)?l.GET:void 0;if(t)return n.formatBidRequest(t,e,i)})},interpretResponse:function(e,t){var n=e.body;if(n){e=this._parseBidResponse(n,t);if(e)return e}else c.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){t=!c.isEmpty(t)&&t[0].body;return t&&t.ext&&t.ext.pixels?this.parsePixelItems(t.ext.pixels):[]},formatBidRequest:function(e,t,n){var i;switch(e){case l.GET:i={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case g.GET:i={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case g.POST:i={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return i.bidderCode=t.bidder,i.bidId=t.bidId,i.userSyncOn=t.params.userSyncOn,i},buildMarketplaceUrl:function(e,t){var n=e.params,i=n.server,e=n.region||"us";return _.hasOwnProperty(e)||(c.logWarn("Unknown region '".concat(e,"' for AOL bidder.")),e="us"),i=i||_[e],n.region=e,this.applyProtocol(b({host:i,network:n.network,placement:parseInt(n.placement),pageid:n.pageId||0,sizeid:n.sizeId||0,alias:n.alias||c.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(n,t)}))},buildOneMobileGetUrl:function(e,t){var n=e.params,i=n.dcn,r=n.pos,o=n.ext;"object"===a(e.userId)&&(o=o||{},j(e).forEach(function(e){o["eid"+e.source]=e.uids[0].id}));e=this.buildOneMobileBaseUrl(e);return i&&r&&(t=this.formatOneMobileDynamicParams(o,t),e+=y({dcn:i,pos:r,dynamicParams:t})),e},buildOneMobileBaseUrl:function(e){return this.applyProtocol(v({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:(0===e.indexOf("//")?"".concat("https",":"):"".concat("https","://")).concat(e)},formatMarketplaceDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={};d.utils.assign(n,this.formatKeyValues(e.keyValues)),d.utils.assign(n,this.formatConsentData(t));var i="";return c._each(n,function(e,t){i+="".concat(t,"=").concat(encodeURIComponent(e),";")}),i},formatOneMobileDynamicParams:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.isSecureProtocol()&&(e.secure=w),d.utils.assign(e,this.formatConsentData(t));var n="";return c._each(e,function(e,t){n+="&".concat(t,"=").concat(encodeURIComponent(e))}),n},buildOpenRtbRequestData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(t)&&(c.deepSetValue(n,"regs.ext.gdpr",w),t.gdpr.consentString&&c.deepSetValue(n,"user.ext.consent",t.gdpr.consentString)),t.uspConsent&&c.deepSetValue(n,"regs.ext.us_privacy",t.uspConsent),"object"===a(e.userId)&&(n.user=n.user||{},n.user.ext=n.user.ext||{},0<(e=j(e)).length&&(n.user.ext.eids=e)),n},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var n={};return c._each(e,function(e,t){n["kv".concat(t)]=e}),n},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=w,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var n=/\w*(?=\s)/,i=/src=("|')(.*?)\1/,r=[];return!e||(e=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&e.forEach(function(e){var t=e.match(n)[0],e=e.match(i)[2];t&&e&&r.push({type:(t===m.TAG?m:f).TYPE,url:e})}),r},_parseBidResponse:function(e,t){var n,i;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)i=n.ext.encp;else if(null===(i=n.price)||isNaN(i))return void c.logError("Invalid price in bid response",p.AOL,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:i,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,meta:{advertiserDomains:n&&n.adomain?n.adomain:[]},ttl:t.ttl}},isOneMobileBidder:A,isSecureProtocol:function(){return"https:"===document.location.protocol}};t.exports=e("../shim.js").wrap({spec:u,unitIDKey:"placement",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],3:[function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var p=e("../shim.js").polyfills,l=p.Renderer,b=p.utils,v=p.config,g=(p.registerBidder,p.getIabSubCategory),s=p.BANNER,f=p.NATIVE,d=p.VIDEO,m=p.ADPOD,c=p.auctionManager,y=p.find,_=p.includes,w=p.OUTSTREAM,x=p.INSTREAM,r=p.getStorageManager,a="appnexus",u=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],A=["minduration","maxduration","skip","skipafter","playbackmethod","api"],S=["age","externalUid","segments","gender","dnt","language"],I=["geo","device_id"],C=["enabled","dongle","member_id","debug_timeout"],j={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},k={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},z="<script",R=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,B="trk.js",E=r(32,a),a={code:a,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[s,d,f],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var i=e.map(M),r=y(e,q),o={};!0===v.getConfig("coppa")&&(o={coppa:!0}),r&&Object.keys(r.params.user).filter(function(e){return _(S,e)}).forEach(function(e){var t,n=b.convertCamelToUnderscore(e);"segments"===e&&b.isArray(r.params.user[e])?(t=[],r.params.user[e].forEach(function(e){b.isNumber(e)?t.push({id:e}):b.isPlainObject(e)&&t.push(e)}),o[n]=t):"segments"!==e&&(o[n]=r.params.user[e])});var n,a=y(e,L);a&&a.params&&a.params.app&&(n={},Object.keys(a.params.app).filter(function(e){return _(I,e)}).forEach(function(e){return n[e]=a.params.app[e]}));var s=y(e,F);s&&s.params&&a.params.app&&a.params.app.id&&(l={appid:s.params.app.id});var d={},c={},u=E.getCookie("apn_prebid_debug")||null;if(u)try{d=JSON.parse(u)}catch(e){b.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var p=y(e,G);p&&p.debug&&(d=p.debug)}d&&d.enabled&&Object.keys(d).filter(function(e){return _(C,e)}).forEach(function(e){c[e]=d[e]});var l,g,f=y(e,N),u=f?parseInt(f.params.member,10):0,p=e[0].schain,f=y(e,W),m={tags:h(i),user:o,sdk:{source:"pbjs",version:"5.8.0-pre"},schain:p};return f&&(m.iab_support={omidpn:"Appnexus",omidpv:"5.8.0-pre"}),0<u&&(m.member_id=u),a&&(m.device=n),s&&(m.app=l),v.getConfig("adpod.brandCategoryExclusion")&&(m.brand_category_uniqueness=!0),c.enabled&&(m.debug=c,b.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(c,null,4))),t&&t.gdprConsent&&(m.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~")&&(l=(l=t.gdprConsent.addtlConsent).substring(l.indexOf("~")+1),m.gdpr_consent.addtl_consent=l.split(".").map(function(e){return parseInt(e,10)}))),t&&t.uspConsent&&(m.us_privacy=t.uspConsent),t&&t.refererInfo&&(g={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map(function(e){return encodeURIComponent(e)}).join(",")},m.referrer_detection=g),y(e,V)&&e.filter(V).forEach(function(t){var e=function(e,t){var n=t.mediaTypes.video,i=n.durationRangeSec,r=n.requireExactDuration,n=function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,i=e.requireExactDuration,e=b.getMinValueFromArray(n),e=Math.floor(t/e);return i?Math.max(e,n.length):e}(t.mediaTypes.video),o=b.getMaxValueFromArray(i),e=e.filter(function(e){return e.uuid===t.bidId}),e=b.fill.apply(b,h(e).concat([n]));{var a;r?(n=Math.ceil(n/i.length),a=b.chunk(e,n),i.forEach(function(t,e){a[e].map(function(e){K(e,"minduration",t),K(e,"maxduration",t)})})):e.map(function(e){return K(e,"maxduration",o)})}return e}(i,t),n=m.tags.filter(function(e){return e.uuid!==t.bidId});m.tags=[].concat(h(n),h(e))}),e[0].userId&&(J(g=[],b.deepAccess(e[0],"userId.flocId.id"),"chrome.com",null),J(g,b.deepAccess(e[0],"userId.criteoId"),"criteo.com",null),J(g,b.deepAccess(e[0],"userId.netId"),"netid.de",null),J(g,b.deepAccess(e[0],"userId.idl_env"),"liveramp.com",null),J(g,b.deepAccess(e[0],"userId.tdid"),"adserver.org","TDID"),J(g,b.deepAccess(e[0],"userId.uid2.id"),"uidapi.com","UID2"),g.length&&(m.eids=g)),i[0].publisher_id&&(m.publisher_id=i[0].publisher_id),function(e,t){var n=[],i={withCredentials:!0},r="https://ib.adnxs.com/ut/v3/prebid";D(t)||(r="https://ib.adnxs-simple.com/ut/v3/prebid");"TRUE"!==b.getParameterByName("apn_test").toUpperCase()&&!0!==v.getConfig("apn_test")||(i.customHeaders={"X-Is-Test":1});{var o;15<e.tags.length?(o=b.deepClone(e),b.chunk(e.tags,15).forEach(function(e){o.tags=e;e=JSON.stringify(o);n.push({method:"POST",url:r,data:e,bidderRequest:t,options:i})})):(e=JSON.stringify(e),n={method:"POST",url:r,data:e,bidderRequest:t,options:i})}return n}(m,t)},interpretResponse:function(e,t){var n=this,i=t.bidderRequest;e=e.body;var r=[];if(e&&!e.error)return e.tags&&e.tags.forEach(function(e){var t,t=(t=e)&&t.ads&&t.ads.length&&y(t.ads,function(e){return e.rtb});t&&0!==t.cpm&&_(n.supportedMediaTypes,t.ad_type)&&((e=function(t,e,n){var i=b.getBidRequest(t.uuid,[n]),r={requestId:t.uuid,cpm:e.cpm,creativeId:e.creative_id,dealId:e.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:i.adUnitCode,appnexus:{buyerMemberId:e.buyer_member_id,dealPriority:e.deal_priority,dealCode:e.deal_code}};e.adomain&&(r.meta=p.utils.assign({},r.meta,{advertiserDomains:[]}));e.advertiser_id&&(r.meta=p.utils.assign({},r.meta,{advertiserId:e.advertiser_id}));if(e.rtb.video)switch(p.utils.assign(r,{width:e.rtb.video.player_width,height:e.rtb.video.player_height,vastImpUrl:e.notify_url,ttl:3600}),b.deepAccess(i,"mediaTypes.video.context")){case m:var o=g(i.bidder,e.brand_category_id);r.meta=p.utils.assign({},r.meta,{primaryCatId:o});var o=e.deal_priority;r.video={context:m,durationSeconds:Math.floor(e.rtb.video.duration_ms/1e3),dealTier:o},r.vastUrl=e.rtb.video.asset_url;break;case w:r.adResponse=t,r.adResponse.ad=r.adResponse.ads[0],r.adResponse.ad.video=r.adResponse.ad.rtb.video,r.vastXml=e.rtb.video.content,e.renderer_url&&(o=y(n.bids,function(e){return e.bidId===t.uuid}),o=b.deepAccess(o,"renderer.options"),r.renderer=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=l.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{n.setRender(X)}catch(e){b.logWarn("Prebid Error calling setRender on renderer",e)}return n.setEventHandlers({impression:function(){return b.logMessage("AppNexus outstream video impression event")},loaded:function(){return b.logMessage("AppNexus outstream video loaded event")},ended:function(){b.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),n}(r.adUnitCode,e,o));break;case x:r.vastUrl=e.notify_url+"&redir="+encodeURIComponent(e.rtb.video.asset_url)}else if(e.rtb[f]){var a=e.rtb[f],s=e.viewability.config.replace("src=","data-src="),d=a.javascript_trackers;null==d?d=s:b.isStr(d)?d=[d,s]:d.push(s),r[f]={title:a.title,body:a.desc,body2:a.desc2,cta:a.ctatext,rating:a.rating,sponsoredBy:a.sponsored,privacyLink:a.privacy_link,address:a.address,downloads:a.downloads,likes:a.likes,phone:a.phone,price:a.price,salePrice:a.saleprice,clickUrl:a.link.url,displayUrl:a.displayurl,clickTrackers:a.link.click_trackers,impressionTrackers:a.impression_trackers,javascriptTrackers:d},a.main_img&&(r.native.image={url:a.main_img.url,height:a.main_img.height,width:a.main_img.width}),a.icon&&(r.native.icon={url:a.icon.url,height:a.icon.height,width:a.icon.width})}else{p.utils.assign(r,{width:e.rtb.banner.width,height:e.rtb.banner.height,ad:e.rtb.banner.content});try{var c,u;e.rtb.trackers&&(c=e.rtb.trackers[0].impression_urls[0],u=b.createTrackPixelHtml(c),r.ad+=u)}catch(e){b.logError("Error appending tracking pixel",e)}}return r}(e,t,i)).mediaType=function(e){e=e.ad_type;return e===d?d:e===f?f:s}(t),r.push(e))}),e.debug&&e.debug.debug_info&&(o=(o="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),b.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),b.logMessage(o)),r;var o="in response for ".concat(i.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),b.logError(o),r},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&D({gdprConsent:n}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(n,e){return n=b.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:b.transformBidderParamKeywords,publisherId:"number"},n),e&&(n.use_pmt_rule="boolean"==typeof n.usePaymentRule&&n.usePaymentRule,n.usePaymentRule&&delete n.usePaymentRule,T(n.keywords)&&n.keywords.forEach(P),Object.keys(n).forEach(function(e){var t=b.convertCamelToUnderscore(e);t!==e&&(n[t]=n[e],delete n[e])})),n},onBidWon:function(e){e.native&&function(e){var t=function(e){var t;if(b.isStr(e)&&O(e))t=e;else if(b.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];O(i)&&(t=i)}return t}(e.native.javascriptTrackers);if(t)for(var e="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,n=function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)}(t),i=n.replace("dom_id=%native_dom_id%",e),r=document.getElementsByTagName("iframe"),o=!1,a=0;a<r.length&&!o;a++){var s=r[a];try{var d=s.contentDocument||s.contentWindow.document;if(d)for(var c=d.getElementsByTagName("script"),u=0;u<c.length&&!o;u++){var p=c[u];p.getAttribute("data-src")==n&&(p.setAttribute("src",i),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),o=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}}(e)}};function T(e){return b.isArray(e)&&0<e.length}function P(e){T(e.value)&&""===e.value[0]&&delete e.value}function O(e){var t=e.match(R),n=null!=t&&1<=t.length,t=e.match(B),t=null!=t&&1<=t.length;return e.startsWith(z)&&t&&n}function D(e){var t=!0;return t=e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion?!(!0!==b.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1")):t}function M(n){var i={};i.sizes=U(n.sizes),i.primary_size=i.sizes[0],i.ad_types=[],i.uuid=n.bidId,n.params.placementId?i.id=parseInt(n.params.placementId,10):i.code=n.params.invCode,i.allow_smaller_sizes=n.params.allowSmallerSizes||!1,i.use_pmt_rule=n.params.usePaymentRule||!1,i.prebid=!0,i.disable_psa=!0;var e=function(e){if(!b.isFn(e.getFloor))return e.params.reserve||null;e=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return!b.isPlainObject(e)||isNaN(e.floor)||"USD"!==e.currency?null:e.floor}(n);e&&(i.reserve=e),n.params.position&&(i.position={above:1,below:2}[n.params.position]||0),n.params.trafficSourceCode&&(i.traffic_source_code=n.params.trafficSourceCode),n.params.privateSizes&&(i.private_sizes=U(n.params.privateSizes)),n.params.supplyType&&(i.supply_type=n.params.supplyType),n.params.pubClick&&(i.pubclick=n.params.pubClick),n.params.extInvCode&&(i.ext_inv_code=n.params.extInvCode),n.params.publisherId&&(i.publisher_id=parseInt(n.params.publisherId,10)),n.params.externalImpId&&(i.external_imp_id=n.params.externalImpId),b.isEmpty(n.params.keywords)||(0<(t=b.transformBidderParamKeywords(n.params.keywords)).length&&t.forEach(P),i.keywords=t);var r,o,t=b.deepAccess(n,"ortb2Imp.ext.data.pbadslot");t&&(i.gpid=t),n.mediaType!==f&&!b.deepAccess(n,"mediaTypes.".concat(f))||(i.ad_types.push(f),0===i.sizes.length&&(i.sizes=U([1,1])),n.nativeParams&&(r=n.nativeParams,o={},Object.keys(r).forEach(function(e){var t=k[e]&&k[e].serverName||k[e]||e,n=k[e]&&k[e].requiredParams;o[t]=p.utils.assign({},n,r[e]),t!==k.image.serverName&&t!==k.icon.serverName||!o[t].sizes||(e=o[t].sizes,(b.isArrayOfNums(e)||b.isArray(e)&&0<e.length&&e.every(function(e){return b.isArrayOfNums(e)}))&&(o[t].sizes=U(o[t].sizes))),t===k.privacyLink&&(o.privacy_supported=!0)}),i[f]={layouts:[o]}));var a=b.deepAccess(n,"mediaTypes.".concat(d)),t=b.deepAccess(n,"mediaTypes.video.context");i.hb_source=a&&"adpod"===t?7:1,n.mediaType!==d&&!a||i.ad_types.push(d),(n.mediaType===d||a&&"outstream"!==t)&&(i.require_asset_url=!0),n.params.video&&(i.video={},Object.keys(n.params.video).filter(function(e){return _(u,e)}).forEach(function(e){switch(e){case"context":case"playback_method":var t=n.params.video[e],t=b.isArray(t)?t[0]:t;i.video[e]=j[e][t];break;case"frameworks":break;default:i.video[e]=n.params.video[e]}}),n.params.video.frameworks&&b.isArray(n.params.video.frameworks)&&(i.video_frameworks=n.params.video.frameworks)),a&&(i.video=i.video||{},Object.keys(a).filter(function(e){return _(A,e)}).forEach(function(e){switch(e){case"minduration":case"maxduration":"number"!=typeof i.video[e]&&(i.video[e]=a[e]);break;case"skip":"boolean"!=typeof i.video.skippable&&(i.video.skippable=1===a[e]);break;case"skipafter":"number"!=typeof i.video.skipoffset&&(i.video.skippoffset=a[e]);break;case"playbackmethod":"number"!=typeof i.video.playback_method&&(t=a[e],1<=(t=b.isArray(t)?t[0]:t)&&t<=4&&(i.video.playback_method=t));break;case"api":var t;!i.video_frameworks&&b.isArray(a[e])&&(t=a[e].map(function(e){e=4===e?5:5===e?4:e;if(1<=e&&e<=5)return e}).filter(function(e){return e}),i.video_frameworks=t)}})),n.renderer&&(i.video=p.utils.assign({},i.video,{custom_renderer_present:!0})),n.params.frameworks&&b.isArray(n.params.frameworks)&&(i.banner_frameworks=n.params.frameworks);t=y(c.getAdUnits(),function(e){return n.transactionId===e.transactionId});return t&&t.mediaTypes&&t.mediaTypes.banner&&i.ad_types.push(s),0===i.ad_types.length&&delete i.ad_types,i}function U(e){var t=[],n={};if(b.isArray(e)&&2===e.length&&!b.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===o(e))for(var i=0;i<e.length;i++){var r=e[i];(n={}).width=parseInt(r[0],10),n.height=parseInt(r[1],10),t.push(n)}return t}function q(e){return!!e.params.user}function N(e){return!!parseInt(e.params.member,10)}function L(e){if(e.params)return!!e.params.app}function F(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function G(e){return!!e.debug}function V(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===m}function W(e){var t=!1,n=e.params,i=e.params.video;return t=!(t=n.frameworks&&b.isArray(n.frameworks)?_(e.params.frameworks,6):t)&&i&&i.frameworks&&b.isArray(i.frameworks)?_(e.params.video.frameworks,6):t}function K(e,t,n){b.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function X(e){var t;t=e.adUnitCode,(t=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&t[0].style.setProperty("display","none"),function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}}(e.adUnitCode),e.renderer.push(function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))})}function J(e,t,n,i){return t&&(i?e.push({source:n,id:t,rti_partner:i}):e.push({source:n,id:t})),e}t.exports=e("../shim.js").wrap({spec:a,unitIDKey:"placementId",floorKey:"reserve",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],4:[function(e,t,n){"use strict";function A(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function S(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){var t,n;t=i,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function s(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var r=e("../shim.js").polyfills,j=r.utils,k=r.BANNER,w=r.VIDEO,z=r.config,m=r.find,x=(r.registerBidder,r.INSTREAM),R=r.OUTSTREAM,B="roundel",d=[k,w],h={JPY:1},c={PBJS:"p",IX:"x"},E={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},T=["britepoolid","id5id","lipbid","haloId","criteoId","lotamePanoramaId","merkleId","parrableId","connectid","tapadId","quantcastId","pubcid","TDID","flocId"],g=["mimes","minduration","maxduration"],P=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"];function O(e){var t={};t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id));e=j.deepAccess(e,"ortb2Imp.ext.data.adserver.adslot");return e&&(t.ext.dfp_ad_unit_code=e),t}function D(e,t,n){var i=null,r=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),j.isFn(e.getFloor)){var o="*",a="*";n&&j.contains(d,n)&&(a=[(n=t[o=n]).w,n.h]);try{r=e.getFloor({mediaType:o,size:a})}catch(e){j.logWarn("priceFloors module call getFloor failed, error : ",e)}}r?(t.bidfloor=r.floor,t.bidfloorcur=r.currency,t.ext.fl=c.PBJS):i&&(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=c.IX)}function a(e){return Array.isArray(e)&&2===e.length&&j.isInteger(e[0])&&j.isInteger(e[1])}function u(e,t){var n=0<arguments.length&&void 0!==e?e:[],i=1<arguments.length?t:void 0;if(a(n))return n[0]===i[0]&&n[1]===i[1];for(var r=0;r<n.length;r++)if(n[r][0]===i[0]&&n[r][1]===i[1])return 1}function M(e,t,n){var i=!0;t||j.logWarn("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var r,o=C(g);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t&&t.hasOwnProperty(a),d=n&&n.hasOwnProperty(a);s||d||(j.logError("IX Bid Adapter: ".concat(a," is not included in either the adunit or params level")),i=!1)}}catch(e){o.e(e)}finally{o.f()}if(!i)return!1;var c=t&&t.hasOwnProperty("protocol"),u=t&&t.hasOwnProperty("protocols"),p=n&&n.hasOwnProperty("protocol"),l=n&&n.hasOwnProperty("protocols");return c||u||p||l}function U(e){e=0<arguments.length&&void 0!==e?e:[];return a(e)?e:!!a(e[0])&&e[0]}function q(e,t,u,n){var p="https://htlb.casalemedia.com/cygnus",i=function(e,t){var n=[],i={};if(j.isArray(e)){var r,o=C(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;E[a.source]&&j.deepAccess(a,"uids.0")&&(i[a.source]=!0,a.uids[0].ext={rtiPartner:E[a.source]},delete a.uids[0].atype,n.push(a))}}catch(e){o.e(e)}finally{o.f()}}return t&&t.id&&t.version&&(t={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]},n.push(t),i["chrome.com"]=!0),{toSend:n,seenSources:i}}(j.deepAccess(e,"0.userIdAsEids"),j.deepAccess(e,"0.userId.flocId")),r=i.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var o=window.headertag.getIdentityInfo();if(o&&"object"===I(o))for(var a in o)!o.hasOwnProperty(a)||!(a=o[a]).responsePending&&a.data&&"object"===I(a.data)&&Object.keys(a.data).length&&!i.seenSources[a.data.source]&&r.push(a.data)}if(t&&t.bidderCode===B&&!i.seenSources["liveramp.com"])return[];var l={};l.id=e[0].bidderRequestId.toString(),l.site={},l.ext={},l.ext.source="prebid",l.ext.ixdiag={},l.ext.ixdiag.msd=0,l.ext.ixdiag.msi=0,l.imp=[];var s,d,c=function(n){for(var i,r=n.map(function(e){return e.transactionId}).filter(function(e,t,n){return n.indexOf(e)===t}),o={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"5.8.0-pre",userIds:function(e){var t=e.userId||{};return T.filter(function(e){return t[e]})}(n[0])},e=0;e<r.length;e++)!function(t){var e;i=n.filter(function(e){return e.transactionId===r[t]})[0],j.deepAccess(i,"mediaTypes")&&(1<Object.keys(i.mediaTypes).length&&o.mfu++,j.deepAccess(i,"mediaTypes.native")&&o.nu++,j.deepAccess(i,"mediaTypes.banner")&&o.bu++,"outstream"===j.deepAccess(i,"mediaTypes.video.context")&&(o.ou++,e="object"===I(j.deepAccess(i,"renderer")||j.deepAccess(i,"mediaTypes.video.renderer")),o.ren=o.ren&&e?j.deepAccess(o,"ren"):e),"instream"===j.deepAccess(i,"mediaTypes.video.context")&&o.iu++,o.allu++)}(e);return o}(e);for(s in c)l.ext.ixdiag[s]=c[s];e[0].schain&&(l.source={ext:{schain:e[0].schain}}),0<r.length&&(l.user={},l.user.eids=r),document.referrer&&""!==document.referrer&&(l.site.ref=document.referrer),t&&(t.gdprConsent&&((d=t.gdprConsent).hasOwnProperty("gdprApplies")&&(l.regs={ext:{gdpr:d.gdprApplies?1:0}}),d.hasOwnProperty("consentString")&&(l.user=l.user||{},l.user.ext={consent:d.consentString||""},d.hasOwnProperty("addtlConsent")&&d.addtlConsent&&(l.user.ext.consented_providers_settings={consented_providers:d.addtlConsent}))),t.uspConsent&&j.deepSetValue(l,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(l.site.page=t.refererInfo.referer)),z.getConfig("coppa")&&j.deepSetValue(l,"regs.coppa",1);var g={};g.s=e[0].params.siteId,g.v=n,g.ac="j",g.sd=1,8.1===n&&(g.nf=1);var t=t&&t.bidderCode||"ix",t=z.getConfig(t),f=[],m=0,h=Object.keys(u),b="".concat(p).concat(j.parseQueryStringParameters(S(S({},g),{},{r:JSON.stringify(l)}))).length;if(8e3<b)return j.logError("ix bidder: Base request size has exceeded maximum request size."),f;var v=b;if(t){if("object"===I(t.firstPartyData)){var y,_=t.firstPartyData,w="?";for(y in _)_.hasOwnProperty(y)&&(w+="".concat(encodeURIComponent(y),"=").concat(encodeURIComponent(_[y]),"&"));w=w.slice(0,-1),l.site.page+=w}"number"==typeof t.timeout&&(g.t=t.timeout),"boolean"==typeof t.detectMissingSizes?l.ext.ixdiag.dms=t.detectMissingSizes:l.ext.ixdiag.dms=!0}for(var x=0;x<h.length;x++)if("break"===function(e){if(8e3<=v||4<=f.length)return"break";for(var t=u[h[e]],n=t.missingCount,i=void 0===n?0:n,n=t.missingImps,n=void 0===n?[]:n,t=t.ixImps,r=!1,o=8e3-v,a={ixImps:void 0===t?[]:t,missingBannerImpressions:n},s=Object.keys(a).map(function(e){return a[e]}).filter(function(e){return Array.isArray(e)}).reduce(function(e,t){return e.concat.apply(e,A(t))},[]),d=encodeURIComponent(JSON.stringify({impressionObjects:s})).length;o<d;)r=!0,s.pop(),d=encodeURIComponent(JSON.stringify({impressionObjects:s})).length;k in s[0]?(t={id:(t=s[0]).id,banner:{topframe:t.banner.topframe,format:s.map(function(e){var t=e.banner;return{w:t.w,h:t.h,ext:e.ext}})}},"bidfloor"in s[0]&&(t.bidfloor=s[0].bidfloor),"bidfloorcur"in s[0]&&(t.bidfloorcur=s[0].bidfloorcur),l.imp.push(t),l.ext.ixdiag.msd+=i,l.ext.ixdiag.msi+=n.length):(c=l.imp).push.apply(c,A(s));var c=e===h.length-1;(r||c)&&(e=j.deepClone(g),c&&!m||(l.ext.ixdiag.sn=m,e.sn=m),m++,e.r=JSON.stringify(l),f.push({method:"GET",url:p,data:e}),v=b,l.imp=[],l.ext.ixdiag.msd=0,l.ext.ixdiag.msi=0)}(x))break;return f}function N(e,t){if(t)for(var n=0;n<e.length;n++){var i=e[n];if(t[0]===i[0]&&t[1]===i[1]){e.splice(n,1);break}}}r={code:"ix",gvlid:10,aliases:[{code:B,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:d,isBidRequestValid:function(e){var t=j.deepAccess(e,"params.video"),n=j.deepAccess(e,"params.size"),i=j.deepAccess(e,"mediaTypes.banner.sizes"),r=j.deepAccess(e,"mediaTypes.video"),o=j.deepAccess(e,"mediaTypes.video.playerSize"),a=e.params.hasOwnProperty("bidFloor"),s=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!j.contains(d,e.mediaType))return!1;if(j.deepAccess(e,"mediaTypes.banner")&&!i)return!1;if(n){n=U(n);if(!n)return j.logError("ix bidder params: size has invalid format."),!1;if(!u(e.sizes,n)&&!u(o,n)&&!u(i,n))return j.logError("ix bidder params: bid size is not included in ad unit sizes or player size."),!1}return"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId?(j.logError("ix bidder params: siteId must be string or number value."),!1):!a&&!s||a&&s&&(s=e.params.bidFloor,e=e.params.bidFloorCur,Boolean("number"==typeof s&&"string"==typeof e&&e.match(/^[A-Z]{3}$/)))?!(!i&&(r||t))||M(0,r,t):(j.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,i,r,o,a=[],s={},d={},c=null,u={},p=S(S({},{detectMissingSizes:!0}),z.getConfig("ix")),l=0;l<e.length;l++){var g,f,c=e[l],m=j.deepAccess(c,"mediaTypes.video"),h=j.deepAccess(c,"params.video");(c.mediaType===w||m||h)&&(d.hasOwnProperty(c.transactionId)||(g=function(e){var t,n=O(e),i=j.deepAccess(e,"mediaTypes.video"),r=j.deepAccess(e,"params.video");if(!M(0,i,r))return{};for(t in n.video=r?j.deepClone(e.params.video):{},i)-1===P.indexOf(t)||n.video.hasOwnProperty(t)||(n.video[t]=i[t]);if(n.video.minduration>n.video.maxduration)return j.logError("IX Bid Adapter: video minduration [".concat(n.video.minduration,"] cannot be greater than video maxduration [").concat(n.video.maxduration,"]")),{};if((r=r&&r.context||i&&i.context)&&!n.video.hasOwnProperty("placement")&&(r===x?n.video.placement=1:r===R?n.video.placement=4:j.logWarn("IX Bid Adapter: Video context '".concat(r,"' is not supported"))),!n.video.w||!n.video.h){r=U(j.deepAccess(n,"video.playerSize"))||U(j.deepAccess(e,"params.size"));if(!r)return j.logWarn("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};n.video.w=r[0],n.video.h=r[1],j.deepAccess(n,"ext.sid")||(n.ext.sid=j.parseGPTSingleSizeArray(r))}return D(e,n,w),n}(c),0!=Object.keys(g).length&&(d[c.transactionId]={},d[c.transactionId].ixImps=[],d[c.transactionId].ixImps.push(g)))),c.mediaType!==k&&!j.deepAccess(c,"mediaTypes.banner.sizes")&&(c.mediaType||c.mediaTypes)||(f=function(e){var t=O(e);t.banner={};var n=j.deepAccess(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1],j.deepAccess(t,"ext.sid")||(t.ext.sid=j.parseGPTSingleSizeArray(n))),t.banner.topframe=j.inIframe()?0:1,D(e,t,k),t}(c),j.deepAccess(c,"params.size")&&(s.hasOwnProperty(c.transactionId)||(s[c.transactionId]={}),s[c.transactionId].hasOwnProperty("ixImps")||(s[c.transactionId].ixImps=[]),s[c.transactionId].ixImps.push(f)),p.hasOwnProperty("detectMissingSizes")&&p.detectMissingSizes&&(n=u,m=f,g=h=void 0,g=(f=c).transactionId,n.hasOwnProperty(g)?(h=[],N(h=n[g].hasOwnProperty("missingSizes")?n[g].missingSizes:h,f.params.size),n[g].missingSizes=h):j.deepAccess(f,"mediaTypes.banner.sizes")&&(N(h=j.deepClone(f.mediaTypes.banner.sizes),f.params.size),n[g]={missingSizes:h,impression:m})))}for(i in u)if(u.hasOwnProperty(i)){var b=u[i].missingSizes;s.hasOwnProperty(i)||(s[i]={}),s[i].hasOwnProperty("missingImps")||(s[i].missingImps=[],s[i].missingCount=0);for(var v=u[i].impression,y=0;y<b.length;y++){var _=(r=c,_=v,o=b[y],(_=j.deepClone(_)).ext.sid=j.parseGPTSingleSizeArray(o),_.banner.w=o[0],_.banner.h=o[1],D(r,_,k),_);s[i].missingImps.push(_),s[i].missingCount++}}return 0<Object.keys(s).length&&a.push.apply(a,A(q(e,t,s,7.2))),0<Object.keys(d).length&&a.push.apply(a,A(q(e,t,d,8.1))),a},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var i,r,o,a,s,d=e.body,c=d.seatbid,u=0;u<c.length;u++)if(c[u].hasOwnProperty("bid"))for(var p=c[u].bid,l=JSON.parse(t.data.r),g=0;g<p.length;g++){var f=function(t,e){if(t)return m(e,function(e){return e.id===t})}(p[g].impid,l.imp);i=p[g],r=d.cur,o=f,f=s=a=void 0,a={},s=!(!j.deepAccess(i,"exp")||!j.isInteger(i.exp)),f=j.deepAccess(i,"dealid")||j.deepAccess(i,"ext.dealid"),h.hasOwnProperty(r)?a.cpm=i.price/h[r]:a.cpm=i.price/100,a.requestId=i.impid,f&&(a.dealId=f),a.netRevenue=!0,a.currency=r,a.creativeId=i.hasOwnProperty("crid")?i.crid:"-",j.deepAccess(i,"ext.vasturl")?(a.vastUrl=i.ext.vasturl,a.width=o.video.w,a.height=o.video.h,a.mediaType=w,a.ttl=s?i.exp:3600):(a.ad=i.adm,a.width=i.w,a.height=i.h,a.mediaType=k,a.ttl=s?i.exp:300),a.meta={},a.meta.networkId=j.deepAccess(i,"ext.dspid"),a.meta.brandId=j.deepAccess(i,"ext.advbrandid"),a.meta.brandName=j.deepAccess(i,"ext.advbrand"),i.adomain&&0<i.adomain.length&&(a.meta.advertiserDomains=i.adomain),n.push(a)}return n},transformBidParams:function(e,t){return j.convertTypes({siteID:"number"},e)},getUserSyncs:function(e,t){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};t.exports=e("../shim.js").wrap({spec:r,unitIDKey:"siteId",floorKey:"bidFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],5:[function(e,t,n){"use strict";var p=e("../shim.js").polyfills,l=(p.registerBidder,p.utils),g=p.config,a=p.BANNER,s=p.NATIVE,d=p.VIDEO,i=p.getRefererInfo,r=p.Renderer,c="medianet",o="https://prebid.media.net/video/bundle.js",u={NOT_DETERMINED:0,ABOVE_THE_FOLD:1,BELOW_THE_FOLD:2},f="client_timeout",m="client_bid_won",i=i(),h={};function b(e){e={domain:(e=e||{}).domain||h.urlData.domain,page:e.page||h.urlData.page,ref:e.ref||function(){try{return window.top.document.referrer}catch(e){return document.referrer}}(),isTop:e.isTop||h.urlData.isTop};return p.utils.assign(e,function(){if(h.pageMeta)return h.pageMeta;var e=v('link[rel="canonical"]',"href"),t=v('meta[property="og:url"]',"content"),n=v('meta[name="twitter:url"]',"content");return h.pageMeta=p.utils.assign({},e&&{canonical_url:e},t&&{og_url:t},n&&{twitter_url:n}),h.pageMeta}())}function v(e,t){e=function(e,t){try{var n=l.getWindowTop().document.querySelector(e);if(null!==n&&n[t])return n[t]}catch(e){}}(e,t);return e&&(t=e,(e=l.getWindowTop().document.createElement("a")).href=t,e.href)}function y(e,t){return e.filter(function(e){return e.type===t})}function _(e){return{w:parseInt(e[0],10),h:parseInt(e[1],10)}}function w(e){var t={id:e.bidId,ext:{dfp_id:e.adUnitCode,display_count:e.bidRequestsCount},all:e.params},n=l.deepAccess(e,"mediaTypes.banner.sizes")||[],i=l.deepAccess(e,"mediaTypes.video")||{},r=l.deepAccess(e,"params.video")||{},i=p.utils.assign({},r,i);if(l.isEmpty(i)||(t.video=i),0<n.length&&(t.banner=(o=n,l.isArray(o)&&2===o.length&&!l.isArray(o[0])?[_(o)]:o.map(_))),e.nativeParams)try{t.native=JSON.stringify(e.nativeParams)}catch(e){l.logError("".concat(c," : Incorrect JSON : bidRequest.nativeParams"))}e.params.crid&&(t.tagid=e.params.crid.toString());n=parseFloat(e.params.bidfloor||e.params.bidFloor);n&&(t.bidfloor=n);var o=function(e){if((n=document.getElementById(e))||-1===e.indexOf("/")||(t=l.getGptSlotInfoForAdUnitCode(e).divId,l.isStr(t)&&(n=document.getElementById(t))),n&&n.getBoundingClientRect){var t=n.getBoundingClientRect(),n={};return n.top_left={y:t.top,x:t.left},n.bottom_right={y:t.bottom,x:t.right},n}return null}(e.adUnitCode);o&&t.banner&&0!==t.banner.length?(n={top_left:{x:o.top_left.x+window.pageXOffset,y:o.top_left.y+window.pageYOffset},bottom_right:{x:o.bottom_right.x+window.pageXOffset,y:o.bottom_right.y+window.pageYOffset}},t.ext.coordinates=n,t.ext.viewability=S(o.top_left,A(t.banner)),.5<S(n.top_left,A(t.banner))?t.ext.visibility=u.ABOVE_THE_FOLD:t.ext.visibility=u.BELOW_THE_FOLD):t.ext.visibility=u.NOT_DETERMINED;e=function(n){var i=[];"function"==typeof n.getFloor&&[a,d,s].forEach(function(t){n.mediaTypes.hasOwnProperty(t)&&(t==a?n.mediaTypes.banner.sizes.forEach(function(e){x(n,t,e,i)}):x(n,t,"*",i))});return i}(e);return e&&0<e.length&&(t.bidfloors=e),t}function x(e,t,n,i){e=e.getFloor({currency:"USD",mediaType:t,size:n});1<n.length&&(e.size=n),e.mediaType=t,i.push(e)}function A(e){return e.reduce(function(e,t){return t.h*t.w<e.h*e.w?t:e})}function S(e,t){var n=t.w*t.h,i=k.getWindowSize(),t={x:e.x+t.w,y:e.y+t.h};return 0==n||-1===i.w||-1===i.h?0:function(e,t,n,i){if(e.x>i.x||t.x<n.x||e.y>i.y||t.y<n.y)return 0;return(Math.min(t.x,i.x)-Math.max(e.x,n.x))*(Math.min(t.y,i.y)-Math.max(e.y,n.y))}(e,t,{x:0,y:0},{x:i.w,y:i.h})/n}function I(e,t){return{site:b(e[0].params.site),ext:(n=e[0],i=t,r=l.deepAccess(n,"params"),o=l.deepAccess(i,"gdprConsent"),a=l.deepAccess(i,"uspConsent"),s=l.deepAccess(n,"userId"),d=l.deepAccess(n,"schain")||{},c=k.getWindowSize(),u=!(!o||!o.gdprApplies),i=!!a,n=!!g.getConfig("coppa"),p.utils.assign({},{customer_id:r.cid},{prebid_version:AdBridg.globals.version},{gdpr_applies:u},u&&{gdpr_consent_string:o.consentString||""},{usp_applies:i},i&&{usp_consent_string:a||""},{coppa_applies:n},-1!==c.w&&-1!==c.h&&{screen:c},s&&{user_id:s},AdBridg.globals.medianetGlobals.analyticsEnabled&&{analytics:!0},!l.isEmpty(d)&&{schain:d})),id:e[0].auctionId,imp:e.map(w),tmax:t.timeout||g.getConfig("bidderTimeout")};var n,i,r,o,a,s,d,c,u}function C(e,t){t={protocol:"https",hostname:"qsearch-a.akamaihd.net/log",search:function(e,t){t=l.isArray(t)&&t||[];var n={logid:"kfk",evtid:"projectevents",project:"prebid"};return n.acid=l.deepAccess(t,"0.auctionId")||"",n.cid=AdBridg.globals.medianetGlobals.cid||"",n.crid=t.map(function(e){return l.deepAccess(e,"params.0.crid")||e.adUnitCode}).join("|"),n.adunit_count=t.length||0,n.dn=h.urlData.domain||"",n.requrl=h.urlData.page||"",n.istop=h.urlData.isTop||"",n.event=e.name||"",n.value=e.value||"",n.rd=e.related_data||"",n}(e,t)};l.triggerPixel(l.buildUrl(t))}function j(e){var t=l.deepAccess(e,"context")||"",n=l.deepAccess(e,"vto");"outstream"==t&&n&&(e.renderer=((e=r.install({url:o})).setRender(function(n){window.mnet.queue.push(function(){var e={width:n.width,height:n.height,vastTimeout:n.vto,maxAllowedVastTagRedirects:n.mavtr,allowVpaid:n.avp,autoPlay:n.ap,preload:n.pl,mute:n.mt},t=n.dfp_id,t=l.getGptSlotInfoForAdUnitCode(t).divId||t;window.mnet.mediaNetoutstreamPlayer(n,t,e)})}),e))}window.mnet=window.mnet||{},window.mnet.queue=window.mnet.queue||[],h.urlData={domain:l.parseUrl(i.referer).hostname,page:i.referer,isTop:i.reachedTop},AdBridg.globals.medianetGlobals=AdBridg.globals.medianetGlobals||{};var k={code:c,gvlid:142,supportedMediaTypes:[a,s,d],isBidRequestValid:function(e){return e.params?e.params.cid&&l.isStr(e.params.cid)&&!l.isEmptyStr(e.params.cid)?(p.utils.assign(AdBridg.globals.medianetGlobals,!AdBridg.globals.medianetGlobals.cid&&{cid:e.params.cid}),!0):(l.logError("".concat(c," : cid should be a string")),!1):(l.logError("".concat(c," : Missing bid parameters")),!1)},buildRequests:function(e,t){e=I(e,t);return{method:"POST",url:(t=e.ext.customer_id,"https://prebid.media.net/rtb/prebid?cid="+encodeURIComponent(t)),data:JSON.stringify(e)}},interpretResponse:function(e,t){var n=[];if(!e||!e.body)return l.logInfo("".concat(c," : response is empty")),n;e=e.body.bidList;return l.isArray(e)&&0!==e.length?(n=e.filter(function(e){return!1===(e=e).no_bid&&0<parseFloat(e.cpm)})).forEach(j):l.logInfo("".concat(c," : no bids")),n},getUserSyncs:function(e,t){t=t,t=!l.isEmpty(t)&&t[0].body&&t[0].body.ext&&l.isArray(t[0].body.ext.csUrl)?t[0].body.ext.csUrl:[];return e.iframeEnabled?y(t,"iframe"):e.pixelEnabled?y(t,"image"):void 0},onTimeout:function(e){try{C({name:f,value:e.length,related_data:e[0].timeout||g.getConfig("bidderTimeout")},e)}catch(e){}},onBidWon:function(e){try{C({name:m,value:e.cpm},[e])}catch(e){}},clearMnData:function(){h={}},getWindowSize:function(){return{w:window.screen.width||-1,h:window.screen.height||-1}}};t.exports=e("../shim.js").wrap({spec:k,unitIDKey:"crid",floorKey:"bidfloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],6:[function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=e("../shim.js").polyfills,a=o.config,u=(o.registerBidder,o.utils),s=o.BANNER,p=o.VIDEO,l=o.includes,g=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],d="hb_pb",c="3.0.3",f="USD",m={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",tapadId:"tapadid",tdid:"ttduuid",uid2:"uid2",flocId:"floc"},o={code:"openx",gvlid:69,supportedMediaTypes:[s,p],isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return u.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<u.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],i=r(e.reduce(function(e,t){var n;return n=t,(u.deepAccess(n,"mediaTypes.video")&&!u.deepAccess(n,"mediaTypes.banner")||n.mediaType===p?e[0]:e[1]).push(t),e},[[],[]]),2),e=i[0],i=i[1];return 0<i.length&&n.push(function(e,t){var n=[],i=!1,r=h(e,t),t=u._map(e,function(e){return e.params.unit});r.aus=u._map(e,function(e){return u.parseSizesInput(e.mediaTypes.banner.sizes).join(",")}).join("|"),r.divids=u._map(e,function(e){return encodeURIComponent(e.adUnitCode)}).join(","),r.aucs=u._map(e,function(e){e=u.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(e||"")}).join(","),t.some(function(e){return e})&&(r.auid=t.join(","));e.some(function(e){return e.params.doNotTrack})&&(r.ns=1);!0!==a.getConfig("coppa")&&!e.some(function(e){return e.params.coppa})||(r.tfcd=1);e.forEach(function(t){var e;t.params.customParams?(e=u._map(Object.keys(t.params.customParams),function(e){return function(e,t){t=t[e];u.isArray(t)&&(t=t.join(","));return(e.toLowerCase()+"="+t.toLowerCase()).replace("+",".").replace("/","_")}(e,t.params.customParams)}),e=window.btoa(e.join("&")),i=!0,n.push(e)):n.push("")}),i&&(r.tps=n.join(","));return b(r,s,e),{method:"GET",url:r.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:r,payload:{bids:e,startTime:new Date}}}(i,t)),0<e.length&&e.forEach(function(e){n.push(function(e,t){t=function(e,t){var n,i,r=u.deepAccess(e,"mediaTypes.video"),o=h([e],t),a=u.deepAccess(e,"params.video")||{},s=u.deepAccess(e,"mediaTypes.video.context"),t=u.deepAccess(e,"mediaTypes.video.playerSize");u.isArray(e.sizes)&&2===e.sizes.length&&!u.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),i=parseInt(e.sizes[1],10)):u.isArray(e.sizes)&&u.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),i=parseInt(e.sizes[0][1],10)):u.isArray(t)&&2===t.length&&(n=parseInt(t[0],10),i=parseInt(t[1],10));var d={w:n,h:i},c=e.params.video||e.params.openrtb||{};c.openrtb&&(c=c.openrtb);u.isArray(c.imp)&&(c=c.imp[0].video);Object.keys(c).filter(function(e){return l(g,e)}).forEach(function(e){return d[e]=c[e]}),Object.keys(r).filter(function(e){return l(g,e)}).forEach(function(e){return d[e]=r[e]});t={imp:[{video:d}]};o.openrtb=JSON.stringify(t),o.auid=e.params.unit,o.vwd=n||a.vwd,o.vht=i||a.vht,"outstream"===s&&(o.vos="101");a.mimes&&(o.vmimes=a.mimes);e.params.test&&(o.vtest=1);a=u.deepAccess(e,"ortb2Imp.ext.data.pbadslot");a&&(o.aucs=encodeURIComponent(a));return b(o,p,[e]),o}(e,t);return{method:"GET",url:t.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:t,payload:{bid:e,startTime:new Date}}}(e,t))}),n},interpretResponse:function(e,t){e=e.body;return((/avjp$/.test(t.url)?p:s)===p?function(e,t){var n=t.bid,i=(t.startTime,[]);{var r;void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(r=u.parseUrl(e.vastUrl).search||{},(t={}).requestId=n.bidId,e.deal_id&&(t.dealId=e.deal_id),t.ttl=300,t.netRevenue=!0,t.currency=e.currency,t.cpm=parseInt(e.pub_rev,10)/1e3,t.width=parseInt(e.width,10),t.height=parseInt(e.height,10),t.creativeId=e.adid,t.vastUrl=e.vastUrl,t.mediaType=p,e.ph=r.ph,e.colo=r.colo,e.ts=r.ts,i.push(t))}return i}:function(e,t){for(var n=t.bids,i=(t.startTime,e.ads.ad),r=[],o=0;o<i.length;o++){var a=i[o],s=parseInt(a.idx,10),d={};d.requestId=n[s].bidId,a.pub_rev&&(d.cpm=Number(a.pub_rev)/1e3,(s=a.creative[0])&&(d.width=s.width,d.height=s.height),d.creativeId=s.id,d.ad=a.html,a.deal_id&&(d.dealId=a.deal_id),d.ttl=300,d.netRevenue=!0,d.currency=a.currency,a.tbd&&(d.tbd=a.tbd),d.ts=a.ts,d.meta={},a.brand_id&&(d.meta.brandId=a.brand_id),a.adomain&&0<length(a.adomain)?d.meta.advertiserDomains=a.adomain:d.meta.advertiserDomains=[],a.adv_id&&(d.meta.dspid=a.adv_id),r.push(d))}return r})(e,t.payload)},getUserSyncs:function(e,t,n,i){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:u.deepAccess(t,"0.body.ads.pixels")||u.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")}(n,i)}]},transformBidParams:function(e,t){return u.convertTypes({unit:"string",customFloor:"number"},e)}};function h(e,t){var i,n=u.inIframe(),r={ju:a.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:n,tz:(new Date).getTimezoneOffset(),tws:function(e){var t,n,i=window,r=document,o=r.documentElement;if(e){try{i=window.top,r=window.top.document}catch(e){return}o=r.documentElement,n=r.body,t=i.innerWidth||o.clientWidth||n.clientWidth,n=i.innerHeight||o.clientHeight||n.clientHeight}else o=r.documentElement,t=i.innerWidth||o.clientWidth,n=i.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)}(n),be:1,bc:e[0].params.bc||"".concat(d,"_").concat(c),dddid:u._map(e,function(e){return e.transactionId}).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(r.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(r.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(r.gdpr=n.gdprApplies?1:0),"iab"===a.getConfig("consentManagement.cmpApi")&&(r.x_gdpr_f=1)),t&&t.uspConsent&&(r.us_privacy=t.uspConsent),u.deepAccess(e[0],"crumbs.pubcid")&&u.deepSetValue(e[0],"userId.pubcid",u.deepAccess(e[0],"crumbs.pubcid")),i=r,t=e[0].userId,u._each(t,function(e,t){var n=m[t];if(m.hasOwnProperty(t))switch(t){case"flocId":case"uid2":i[n]=e.id;break;case"lipb":i[n]=e.lipbid;break;case"parrableId":i[n]=e.eid;break;case"id5id":i[n]=e.uid;break;default:i[n]=e}}),r=i,e[0].schain&&(r.schain=(e=e[0].schain,"".concat(e.ver,",").concat(e.complete,"!").concat(function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return t[e]||""}).join(",")}).join("!")}(e.nodes)))),r}function b(e,t,n){var i=[],r=!1;n.forEach(function(e){e=function(e,t){var n={},i=a.getConfig("currency.adServerCurrency")||f;"function"==typeof e.getFloor&&(n=e.getFloor({currency:i,mediaType:t,size:"*"}));e=n.floor||e.params.customFloor||0;return Math.round(1e3*e)}(e,t);e?(i.push(e),r=!0):i.push(0)}),r&&(e.aumfs=i.join(","))}t.exports=e("../shim.js").wrap({spec:o,unitIDKey:"unit",floorKey:"customFloor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],7:[function(e,t,n){"use strict";function i(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=e("../shim.js").polyfills,f=g.utils,m=(g.registerBidder,g.config),h=g.BANNER,b=g.VIDEO,d=g.find,o=g.Renderer,v=g.getGlobal,y={};m.getConfig("rubicon",function(e){f.mergeDeep(y,e.rubicon)});var _={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640"};f._each(_,function(e,t){return _[e]=t});var w={code:"rubicon",gvlid:52,supportedMediaTypes:[h,b],isBidRequestValid:function(e){if("object"!==l(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return f.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i,r,o,a,s=I(e,!0);return!!s&&("video"!==s||(i=e,r=!0,o=Object.prototype.toString.call([]),s=Object.prototype.toString.call(0),a={mimes:o,protocols:o,linearity:s,api:o},Object.keys(a).forEach(function(e){Object.prototype.toString.call(f.deepAccess(i,"mediaTypes.video."+e))!==a[e]&&(r=!1,f.logError("Rubicon: mediaTypes.video."+e+" is required and must be of type: "+a[e]))}),r))},buildRequests:function(e,d){var r,t=e.filter(function(e){return"video"===I(e)}).map(function(e){e.startTime=(new Date).getTime();var t={id:e.transactionId,test:m.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:d.timeout,imp:[{exp:m.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:u({},e.bidder,e.params),video:f.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:AdBridg.globals.version},cache:{vastxml:{returnCreative:!0===y.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:(a=m).getConfig("customPriceBucket")&&a.getConfig("customPriceBucket").buckets}[a.getConfig("priceGranularity")]}},bidders:{rubicon:{integration:y.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(t.ext.prebid.aliases=u({},e.bidder,"rubicon"));var n,i,r,o,a=v().installedModules;if(!a||a.length&&-1===a.indexOf("rubiconAnalyticsAdapter")||f.deepSetValue(t,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||y.disableFloors)i=parseFloat(f.deepAccess(e,"params.floor"));else{try{n=e.getFloor({currency:"USD",mediaType:"video",size:A(e,"video")})}catch(e){f.logError("Rubicon: getFloor threw an error: ",e)}i="object"!==l(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:parseFloat(n.floor)}isNaN(i)||(t.imp[0].bidfloor=i),t.imp[0].ext[e.bidder].video.size_id=(i=e,a=parseInt(f.deepAccess(i,"params.video.size_id")),isNaN(a)?"outstream"===f.deepAccess(i,"mediaTypes.".concat(b,".context"))?203:201:a),o=e,a=d,(r=t)&&("object"===l(m.getConfig("app"))?r.app=m.getConfig("app"):r.site={page:x(o,a)},"object"===l(m.getConfig("device"))&&(r.device=m.getConfig("device")),o.params.video.language&&["site","device"].forEach(function(e){r[e]&&(r[e].content=g.utils.assign({language:o.params.video.language},r[e].content))})),function(e,t){"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay);"object"===l(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));t=A(t,"video");e.imp[0].video.w=t[0],e.imp[0].video.h=t[1]}(t,e),d.gdprConsent&&("boolean"==typeof d.gdprConsent.gdprApplies&&(s=d.gdprConsent.gdprApplies?1:0),f.deepSetValue(t,"regs.ext.gdpr",s),f.deepSetValue(t,"user.ext.consent",d.gdprConsent.consentString)),d.uspConsent&&f.deepSetValue(t,"regs.ext.us_privacy",d.uspConsent);var s=f.deepAccess(d,"bids.0.userIdAsEids");s&&s.length&&f.deepSetValue(t,"user.ext.eids",s);s=m.getConfig("user.id");s&&f.deepSetValue(t,"user.id",s),!0===m.getConfig("coppa")&&f.deepSetValue(t,"regs.coppa",1),e.schain&&C(e.schain)&&f.deepSetValue(t,"source.ext.schain",e.schain);s=m.getConfig("multibid");return s&&f.deepSetValue(t,"ext.prebid.multibid",s.reduce(function(e,t){var n={};return Object.keys(t).forEach(function(e){n[e.toLowerCase()]=t[e]}),e.push(n),e},[])),S(e,b,t),e.storedAuctionResponse&&f.deepSetValue(t.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),f.deepSetValue(t.imp[0],"ext.prebid.auctiontimestamp",d.auctionStart),{method:"POST",url:"https://".concat(y.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:t,bidRequest:e}});return!0!==y.singleRequest?t.concat(e.filter(function(e){return"banner"===I(e)}).map(function(e){var i=w.createSlotParams(e,d);return{method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(i).reduce(function(e,t){var n=i[t];return f.isStr(n)&&""!==n||f.isNumber(n)?"".concat(e).concat(j(t,n),"&"):e},"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}})):(r=e.filter(function(e){return"banner"===I(e)}).reduce(function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e},{}),t.concat(Object.keys(r).reduce(function(t,e){var n,i;return n=r[e],i=10,n.map(function(e,t){return t%i==0?n.slice(t,t+i):null}).filter(function(e){return e}).forEach(function(e){var i=w.combineSlotUrlParams(e.map(function(e){return w.createSlotParams(e,d)}));t.push({method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:w.getOrderedParams(i).reduce(function(e,t){var n=i[t];return f.isStr(n)&&""!==n||f.isNumber(n)?"".concat(e).concat(j(t,n),"&"):e},"")+"slots=".concat(e.length,"&rand=").concat(Math.random()),bidRequest:e})}),t},[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,i=/^eid_|^tpid_/,r=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter(function(e){return i.test(e)})).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter(function(e){return t.test(e)})).concat(Object.keys(e).filter(function(e){return n.test(e)})).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return r.concat(Object.keys(e).filter(function(e){return-1===r.indexOf(e)}))},combineSlotUrlParams:function(r){if(1===r.length)return r[0];var i=r.reduce(function(t,n,i){return Object.keys(n).forEach(function(e){t.hasOwnProperty(e)||(t[e]=new Array(r.length)),t[e].splice(i,1,n[e])}),t},{}),o=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(i).forEach(function(e){var t=i[e].join(";"),n=t.match(o);i[e]=n?n[1]:t}),i},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n=e.params,i=A(e,"banner"),r=p(n.latLong||[],2),o=r[0],r=r[1],a={account_id:n.accountId,site_id:n.siteId,zone_id:n.zoneId,size_id:i[0],alt_size_ids:i.slice(1).join(",")||void 0,rp_floor:.01<=(n.floor=parseFloat(n.floor))?n.floor:void 0,rp_secure:"1",tk_flint:"".concat(y.int_type||"pbjs_lite","_v5.8.0-pre"),"x_source.tid":e.transactionId,"x_source.pchain":n.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:n.userId,"p_geo.latitude":isNaN(parseFloat(o))?void 0:parseFloat(o).toFixed(4),"p_geo.longitude":isNaN(parseFloat(r))?void 0:parseFloat(r).toFixed(4),"tg_fl.eid":e.code,rf:x(e,t)};if("function"==typeof e.getFloor&&!y.disableFloors){try{s=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){f.logError("Rubicon: getFloor threw an error: ",e)}a.rp_hard_floor="object"!==l(s)||"USD"!==s.currency||isNaN(parseInt(s.floor))?void 0:s.floor}var s={1:"atf",3:"btf"}[f.deepAccess(e,"mediaTypes.banner.pos")]||"";a.p_pos="atf"===n.position||"btf"===n.position?n.position:s;s=m.getConfig("user.id");return s&&(a.ppuid=s),e.userIdAsEids&&e.userIdAsEids.forEach(function(t){try{var e;"adserver.org"===t.source?(a.tpid_tdid=t.uids[0].id,a["eid_adserver.org"]=t.uids[0].id):"liveintent.com"===t.source?(a["tpid_liveintent.com"]=t.uids[0].id,a["eid_liveintent.com"]=t.uids[0].id,t.ext&&Array.isArray(t.ext.segments)&&t.ext.segments.length&&(a["tg_v.LIseg"]=t.ext.segments.join(","))):"liveramp.com"===t.source?a.x_liverampidl=t.uids[0].id:"id5-sync.com"===t.source?a["eid_id5-sync.com"]="".concat(t.uids[0].id,"^").concat(t.uids[0].atype,"^").concat(t.uids[0].ext&&t.uids[0].ext.linkType||""):a["eid_".concat(t.source)]="".concat(t.uids[0].id,"^").concat(t.uids[0].atype||""),a.ppuid||(e=d(t.uids,function(e){return e.ext&&"ppuid"===e.ext.stype}))&&e.id&&(a.ppuid=e.id)}catch(e){f.logWarn("Rubicon: error reading eid:",t,e)}}),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(a.gdpr=Number(t.gdprConsent.gdprApplies)),a.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(a.us_privacy=encodeURIComponent(t.uspConsent)),a.rp_maxbids=t.bidLimit||1,S(e,h,a),!0===m.getConfig("coppa")&&(a.coppa=1),e.schain&&C(e.schain)&&(a.rp_schain=w.serializeSupplyChain(e.schain)),a},serializeSupplyChain:function(e){if(!C(e))return"";var t=e.ver,n=e.complete,e=e.nodes;return"".concat(t,",").concat(n,"!").concat(w.serializeSupplyChainNodes(e))},serializeSupplyChainNodes:function(e){var n=["asi","sid","hp","rid","name","domain"];return e.map(function(t){return n.map(function(e){return encodeURIComponent(t[e]||"")}).join(",")}).join("!")},interpretResponse:function(s,e){var d=e.bidRequest;if(!(s=s.body)||"object"!==l(s))return[];if(s.seatbid){var t=f.deepAccess(s,"ext.errors.rubicon");Array.isArray(t)&&0<t.length&&f.logWarn("Rubicon: Error in video response");var r=[];return s.seatbid.forEach(function(i){(i.bid||[]).forEach(function(e){var t={requestId:d.bidId,currency:s.cur||"USD",creativeId:e.crid,cpm:e.price||0,bidderCode:i.seat,ttl:300,netRevenue:!1!==y.netRevenue,width:e.w||f.deepAccess(d,"mediaTypes.video.w")||f.deepAccess(d,"params.video.playerWidth"),height:e.h||f.deepAccess(d,"mediaTypes.video.h")||f.deepAccess(d,"params.video.playerHeight")};e.id&&(t.seatBidId=e.id),e.dealid&&(t.dealId=e.dealid),e.adomain&&f.deepSetValue(t,"meta.advertiserDomains",Array.isArray(e.adomain)?e.adomain:[e.adomain]),f.deepAccess(e,"ext.bidder.rp.advid")&&f.deepSetValue(t,"meta.advertiserId",e.ext.bidder.rp.advid);var n=f.deepAccess(s,"ext.responsetimemillis.rubicon");d&&n&&(d.serverResponseTimeMs=n),f.deepAccess(e,"ext.prebid.type")===b?(t.mediaType=b,f.deepSetValue(t,"meta.mediaType",b),(n=f.deepAccess(e,"ext.prebid.targeting"))&&"object"===l(n)&&(t.adserverTargeting=n),e.ext.prebid.cache&&"object"===l(e.ext.prebid.cache.vastXml)&&e.ext.prebid.cache.vastXml.cacheId&&e.ext.prebid.cache.vastXml.url?(t.videoCacheKey=e.ext.prebid.cache.vastXml.cacheId,t.vastUrl=e.ext.prebid.cache.vastXml.url):n&&n.hb_uuid&&n.hb_cache_host&&n.hb_cache_path&&(t.videoCacheKey=n.hb_uuid,t.vastUrl="https://".concat(n.hb_cache_host).concat(n.hb_cache_path,"?uuid=").concat(n.hb_uuid)),e.adm&&(t.vastXml=e.adm),e.nurl&&(t.vastUrl=e.nurl),!t.vastUrl&&e.nurl&&(t.vastUrl=e.nurl),"outstream"===f.deepAccess(d,"mediaTypes.video.context").toLowerCase()&&(t.renderer=function(e){e=o.install({id:e.adId,url:y.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.0.0.js",config:y.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{e.setRender(a)}catch(e){f.logWarn("Prebid Error calling setRender on renderer",e)}return e}(t))):f.logWarn("Rubicon: video response received non-video media type"),r.push(t)})}),r}var c,t=s.ads,u=0;return"object"!==l(d)||Array.isArray(d)||"video"!==I(d)||"object"!==l(t)||(t=t[d.adUnitCode]),!Array.isArray(t)||t.length<1?[]:t.reduce(function(e,t,n){if(t.impression_id&&c===t.impression_id?u++:c=t.impression_id,"ok"!==t.status)return e;var i,r,o,a=Array.isArray(d)?d[n-u]:d;return a&&"object"===l(a)?(i={requestId:a.bidId,currency:"USD",creativeId:t.creative_id||"".concat(t.network||"","-").concat(t.advertiser||""),cpm:t.cpm||0,dealId:t.deal,ttl:300,netRevenue:!1!==y.netRevenue,rubicon:{advertiserId:t.advertiser,networkId:t.network},meta:{advertiserId:t.advertiser,networkId:t.network,mediaType:h}},t.creative_type&&(i.mediaType=t.creative_type),t.adomain&&(i.meta.advertiserDomains=Array.isArray(t.adomain)?t.adomain:[t.adomain]),t.creative_type===b?(i.width=a.params.video.playerWidth,i.height=a.params.video.playerHeight,i.vastUrl=t.creative_depot_url,i.impression_id=t.impression_id,i.videoCacheKey=t.impression_id):(i.ad=(r=t.script,o=t.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(o,"'>\n<script type='text/javascript'>").concat(r,"<\/script>\n</div>\n</body>\n</html>")),r=p(_[t.size_id].split("x").map(function(e){return Number(e)}),2),i.width=r[0],i.height=r[1]),i.rubiconTargeting=(Array.isArray(t.targeting)?t.targeting:[]).reduce(function(e,t){return e[t.key]=t.values[0],e},{rpfl_elemid:a.adUnitCode}),e.push(i)):f.logError("Rubicon: bidRequest undefined at index position:".concat(n),d,s),e},[]).sort(function(e,t){return(t.cpm||0)-(e.cpm||0)})},getUserSyncs:function(e,t,n,i){if(!k&&e.iframeEnabled){e="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?e+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):e+="?gdpr_consent=".concat(n.consentString)),i&&(e+="".concat(e?"&":"?","us_privacy=").concat(encodeURIComponent(i))),k=!0,{type:"iframe",url:"https://".concat(y.syncHost||"eus",".rubiconproject.com/usync.html")+e}}},transformBidParams:function(e,t){return f.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function x(e,t){var n=m.getConfig("pageUrl"),n=e.params.referrer||n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function a(e){var t,n=document.getElementById(e.adUnitCode);(t=(t=n).querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),(n=(n=(n=n).querySelector("script[id^='sas_script']"))&&n.nextSibling)&&"iframe"===n.localName&&n.style.setProperty("display","none");var i=e.renderer.getConfig();e.renderer.push(function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:"#".concat(e.adUnitCode),align:i.align||"center",position:i.position||"append"},closeButton:i.closeButton||!1,label:i.label||void 0,collapse:i.collapse||!0})})}function A(e,t){var n=e.params;if("video"===t){var i=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?i=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(f.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?i=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(i=e.sizes[0]),i}var r,i=[];return Array.isArray(n.sizes)?i=n.sizes:void 0!==f.deepAccess(e,"mediaTypes.banner.sizes")?i=s(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?i=s(e.sizes):f.logWarn("Rubicon: no sizes are setup or found"),r=[15,2,9],i.sort(function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1<n||-1<i?-1===n?1:-1===i?-1:n-i:e-t})}function S(e,t,r){var n={user:{ext:{data:c({},e.params.visitor)}},site:{ext:{data:c({},e.params.inventory)}}};e.params.keywords&&(n.site.keywords=f.isArray(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);function i(e,t,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],e=function(e,t,n){if("data"===t&&Array.isArray(e))return e.filter(function(e){return e.segment&&f.deepAccess(e,"ext.segtax")&&s[n]&&-1!==s[n].indexOf(f.deepAccess(e,"ext.segtax"))}).map(function(e){e=e.segment.filter(function(e){return e.id}).reduce(function(e,t){return e.push(t.id),e},[]);if(0<e.length)return e.toString()}).toString();if("object"!==l(e)||Array.isArray(e)){if(void 0!==e)return(Array.isArray(e)?e.filter(function(e){return"object"!==l(e)&&void 0!==e?e.toString():void f.logWarn("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")}):e).toString()}else f.logWarn("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")}(e,n,t),n=d[n]&&i?"".concat(d[n]):"data"===n?"".concat(d[t],"iab"):"".concat(d[t]).concat(n);r[n]=r[n]?r[n].concat(",",e):e}var o=f.mergeDeep({},m.getConfig("ortb2")||{},n),a=f.deepAccess(e.ortb2Imp,"ext.data")||{},s={user:[4],site:[1,2,5,6]},d={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"};Object.keys(a).forEach(function(t){"adserver"===t?["name","adslot"].forEach(function(e){a[t][e]&&(a[t][e]=a[t][e].toString().replace(/^\/+/,""))}):"pbadslot"===t&&(a[t]=a[t].toString().replace(/^\/+/,""))}),t===h?(["site","user"].forEach(function(t){Object.keys(o[t]).forEach(function(e){"site"===t&&"content"===e&&o[t][e].data?i(o[t][e].data,t,"data"):"ext"!==e?i(o[t][e],t,e):o[t][e].data&&Object.keys(o[t].ext.data).forEach(function(e){i(o[t].ext.data[e],t,e,!1)})})}),Object.keys(a).forEach(function(e){"adserver"===e?i(a[e].adslot,name,e):i(a[e],"site",e)})):(Object.keys(a).length&&f.mergeDeep(r.imp[0].ext,{data:a}),f.mergeDeep(r,o))}function s(e){return f.parseSizesInput(e).reduce(function(e,t){t=parseInt(_[t],10);return t&&e.push(t),e},[])}function I(e,t){var n=1<arguments.length&&void 0!==t&&t;if(t=e,"object"===l(f.deepAccess(t,"params.video"))&&void 0!==f.deepAccess(t,"mediaTypes.".concat(b)))if(-1!==["outstream","instream"].indexOf(f.deepAccess(e,"mediaTypes.".concat(b,".context")))){if(!(A(e,"video").length<2))return n&&f.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video";n&&f.logError("Rubicon: could not determine the playerSize of the video")}else n&&f.logError("Rubicon: mediaTypes.video.context must be outstream or instream");else{if(0!==A(e,"banner").length)return n&&f.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner";n&&f.logError("Rubicon: could not determine the sizes for banner request")}}function C(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce(function(e,t){return e&&n.every(function(e){return t.hasOwnProperty(e)})},!0))||f.logError("Rubicon: required schain params missing")),t}function j(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var k=!1;t.exports=e("../shim.js").wrap({spec:w,unitIDKey:"zoneId",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],8:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function a(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){var t,n;t=i,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var d=e("../shim.js").polyfills,c=d.BANNER,u=d.VIDEO,p=(d.registerBidder,d.utils),l=d.config,g=!0,f=null,u={gvlid:28,code:"triplelift",supportedMediaTypes:[c,u],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n="https://tlx.3lift.com/header/auction?",i=function(e){var t={},n=e[0].schain,i=function(){var e={},t={},n={},i=l.getLegacyFpd(l.getConfig("ortb2"))||{},r=d.utils.assign({},i.context),i=d.utils.assign({},i.user);h(t,r),h(n,i),p.isEmpty(t)||(e.context=t);p.isEmpty(n)||(e.user=n);return e}();t.imp=e.map(function(e,t){t={id:t,tagid:e.params.inventoryCode,floor:function(e){var t=null;{var n;"function"==typeof e.getFloor&&("object"!==r(n=e.getFloor({currency:"USD",mediaType:m(e)?"video":"banner",size:"*"}))||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t=parseFloat(n.floor)))}return null!==t?t:e.params.floor}(e)};return m(e)?t.video=function(e){e=a(a({},e.params.video),e.mediaTypes.video);e.w||(e.w=e.playerSize[0][0]);e.h||(e.h=e.playerSize[0][1]);"instream"===e.context&&(e.placement=1);return delete e.playerSize,e}(e):e.mediaTypes.banner&&(t.banner={format:e.sizes.filter(v).map(function(e){return{w:e[0],h:e[1]}})}),p.isEmpty(e.ortb2Imp)||(t.fpd=function(e){var t={},n={};h(n,e.ext),p.isEmpty(n)||(t.context=n);return t}(e.ortb2Imp)),t});e=[].concat(s(function(e){return b(e,"tdid","adserver.org","TDID")}([e[0]])),s(function(e){return b(e,"idl_env","liveramp.com","idl")}([e[0]])),s(function(e){return b(e,"criteoId","criteo.com","criteoId")}([e[0]])),s(function(e){return b(e,"pubcid","pubcid.org","pubcid")}([e[0]])));0<e.length&&(t.user={ext:{eids:e}});i=function(e,t){var n={};p.isEmpty(e)||(n.schain=a({},e));p.isEmpty(t)||(n.fpd=a({},t));return n}(n,i);p.isEmpty(i)||(t.ext=i);return t}(e);return n=p.tryAppendQueryString(n,"lib","prebid"),n=p.tryAppendQueryString(n,"v","5.8.0-pre"),t&&t.refererInfo&&(e=t.refererInfo.referer,n=p.tryAppendQueryString(n,"referrer",e)),t&&t.timeout&&(n=p.tryAppendQueryString(n,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(g=t.gdprConsent.gdprApplies,n=p.tryAppendQueryString(n,"gdpr",g.toString())),void 0!==t.gdprConsent.consentString&&(f=t.gdprConsent.consentString,n=p.tryAppendQueryString(n,"cmp_cs",f))),t&&t.uspConsent&&(n=p.tryAppendQueryString(n,"us_privacy",t.uspConsent)),(n=!0===l.getConfig("coppa")?p.tryAppendQueryString(n,"coppa",!0):n).lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),p.logMessage("tlCall request built: "+n),{method:"POST",url:n,data:i,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map(function(e){return function(e,t){var n={},i=t.width||1,r=t.height||1,o=t.deal_id||"",a=t.crid||"",e=e.bids[t.imp_id];0!=t.cpm&&t.ad&&(n={requestId:e.bidId,cpm:t.cpm,width:i,height:r,netRevenue:!0,ad:t.ad,creativeId:a,dealId:o,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},m(e)&&(n.vastXml=t.ad,n.mediaType="video"),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native"));return n}(n,e)})},getUserSyncs:function(e,t,n,i){var r=function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0}(e);if(r){e="https://eb2.3lift.com/sync?";return"image"===r&&(e=p.tryAppendQueryString(e,"px",1),e=p.tryAppendQueryString(e,"src","prebid")),null!==f&&(e=p.tryAppendQueryString(e,"gdpr",g),e=p.tryAppendQueryString(e,"cmp_cs",f)),[{type:r,url:e=i?p.tryAppendQueryString(e,"us_privacy",i):e}]}}};function m(e){return e.mediaTypes.video&&(e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase())}function h(t,n){p.isEmpty(n)||Object.keys(n).forEach(function(e){null!=n[e]&&(t[e]=n[e])})}function b(e,t,n,i){return e.map((a=t,function(e){return e&&e.userId&&e.userId[a]})).filter(function(e){return!!e}).map((r=n,o=i,function(e){return{source:r,uids:[{id:e,ext:{rtiPartner:o}}]}}));var r,o,a}function v(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.exports=e("../shim.js").wrap({spec:u,unitIDKey:"inventoryCode",floorKey:"floor",floorStr:!1,uspSupport:!0,gdprSupport:!0})},{"../shim.js":36}],9:[function(e,t,n){t.exports=e(8)},{"../shim.js":36}],10:[function(e,t,n){var o=e("./utils.js");t.exports=o.wrapAsync(function(n,i){var r,e=!1,t=n.method||(n.data?"POST":"GET");window.XMLHttpRequest?(r=new window.XMLHttpRequest).onreadystatechange=o.wrapAsync(function(){if(4===r.readyState){var e=r.status;if(200<=e&&e<300||304===e){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var t=JSON.parse(r.responseText||"null");i(null,t,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}else i(0===e?{err:"",type:"timeout"}:{err:r.statusText,type:"status="+e},"",r)}}):(e=!0,(r=new window.XDomainRequest).onload=o.wrapAsync(function(){if(n.rawProcessor)try{n.rawProcessor(r)}catch(e){o.err("AjaxRawProcFail",e)}if(n.parseResponseJson)try{var e=JSON.parse(r.responseText||"null");i(null,e,r)}catch(e){i({err:e,type:"parse"},"",r)}else i(null,r.responseText,r)}),r.onerror=o.wrapAsync(function(e){i({err:e,type:"error"},"",r)}),r.ontimeout=o.wrapAsync(function(e){i({err:e,type:"timeout"},"",r)}),r.onprogress=function(){}),r.open(t,n.url),0!==n.max_ms&&(r.timeout=n.max_ms||3e3,o.logl("at","Ajax >",n.url,r.timeout)),e||(n.withCredentials&&(r.withCredentials=!0),o.each(n.headers,function(e,t){r.setRequestHeader(t,e)}),n.preflight&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Content-Type",n.contentType||"text/plain")),r.send("POST"===t&&n.data)})},{"./utils.js":38}],11:[function(e,t,s){function i(){for(var e="",t=0;t<10;++t)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return e}var l=e("./utils.js"),d=e("./config.js"),c=3,g={USD:1,EUR:2},f={banner:1,native:2,video:3},r=i(),o="aX0";s.id=[2,o,r].join(",");var u="";d.afterConsent(function(e,t,n){try{u=(window.__tcfapi?"2":window.__cmp?"1":"0")+(window.__uspapi?"1":"0")+n,e&&(u+=".g"+(e.gdprApplies?"Y":"N")+(e.consentString||"")),t&&(u+=".u"+(t.version||0)+(t.uspString||""))}catch(e){l.err("ClogErr",e)}e&&e.gdprApplies||(o=(o=String((document.cookie.match(/_adb=([^;]+)/)||[""]).pop()))||"a2"+(new Date).getTime().toString(36)+i(),l.cw("_adb",o,365),s.id=[2,o,r].join(","))});function p(e,t,n,i,r){m[e]||(m[e]=[]),m[e].push(r),h[e]=i,b[e]||(b[e]=setTimeout(function(){a(e,t)},n))}function a(e,t){var n,i;clearTimeout(b[e]),b[e]=!1,m[e]&&m[e].length&&(n=h[e],i=e===c?"1//"+m[e].length+n:"",i+=m[e].join(n),m[e]=[],_(e,t,i))}var m={},h={},b={};s.flushNow=function(){for(var e in m)a(e)};function v(e,t){return w(e)+"`"+w(t)}function y(e){var t=[];return l.each(e,function(e){e=e.split("x");2==e.length&&t.push(v(e[0],e[1]))}),t.join(".")}var _=function(e,t,n){var i=s.id,r=function(){if(!m[c]||!m[c].length)return"";var e=m[c].join("&e=");return m[c]=[],e}(),o=l.vp(),a="https://adspsp.com/pt/"+d.getId()+"/"+e+"/"+t+"/?a="+i+"&aa="+u+"&b="+n+"&e="+r+"&c="+encodeURIComponent(l.url().href)+"&d="+encodeURIComponent(l.url().referrer)+"&f="+l.pgts().join(".")+"&g="+l.perfts()+"&u=f29bd40c:ksi0ucu3:241&v="+w(o.w)+"."+w(o.h)+"."+w(o.y)+"."+w(document.body.clientHeight),o=x();for(o&&(a+="&m="+o),a=d.deca(a),l.each(A,function(e,t){l.isarr(e)||(e=[e]),l.each(e,function(e){a+="&"+t+"="+encodeURIComponent(e)})});S.length;)delete A[S.pop()];l.each(I,function(e,t){a+="&"+t+"="+encodeURIComponent(e)}),I={},a+=M(),l.pixel(a,!0)},w=function(e){return(parseInt(e,10)||0).toString(36)},n=[];s.mod=function(e){-1===n.indexOf(e)&&n.push(e)};var x=function(){return n.length?n.join(""):""},A={};s.meta=l.thread(function(e,t){A[e]=t});var S=[];s.metaqx=l.thread(function(e,t){-1==S.indexOf(e)&&S.push(e),A[e]?l.isarr(A[e])||(A[e]=[A[e]]):A[e]=[],A[e].push(t)});var I={};s.ctr=l.thread(function(e,t){(t=void 0===t?1:t)&&(I[e]=(I[e]||0)+t)}),s.auctionConfigured=l.thread(function(e){var i=[];e.eachUnit(function(e){var n=[],t=y(e.all_sizes);e.eachBidReqConf(function(e){var t,t=e.bidder_id+"@"+(t=e.bidder_unit_id,String(t).replace(/[^\d\w-]/,"")),e=y(e.all_sizes);n.push(t+"^"+e)}),i.push(e.id+"^"+t+":"+n.join(","))});var n=e.instancectr+"//"+i.length+"-"+i.join("_");e.eachUnit(function(e){var t=R("auctionConfigured",e);n+="&bu="+[e.unique_id,encodeURIComponent(t.dom_id),encodeURIComponent(t.gpt_path)].join(",")}),_(1,2,n)});function C(e,i){var r="";return e.rawbid&&e.rawbid.meta&&(r=[],l.each(e.rawbid.meta,function(e,t){var n=z[String(t).toLowerCase()];n&&(l.isarr(e)||(e=[e]),l.each(e,function(e){r.push(n+i.id(e))}))}),r=r.join(".")),r}function j(e,t){var n=e._origin?t.id(e._origin.config.unit.unique_id):"";n?(c=(l.dts()-e.ts)/1e3,u=0|Math.max(0,e.extras.ttl-c),n+="@"+l.b62(u)):n=l.b62(0|e.ms);var i,r,o,a,s,d,c,u,p=[n];return(e._bid_cpm||e.extras.dealid)&&(i=t.id(e.width+"x"+e.height),r=l.b62(e.extras.ttl),o=g[e.extras.cur]||(e.extras.cur?t.id(e.extras.cur):""),a=e.extras.nr?1:0,s=f[e.extras.mediaType]||0,d=e.extras.crid!==e.config.id?t.id(e.extras.crid):"",c=e.extras.dealid?t.id(e.extras.dealid):"",u=e.cpm,n=C(e,t),p=p.concat([i,r,o,a,s,d,c,u,n]),e._bid_cpm!=e.cpm&&(p.push(e._bid_cpm),p.push(e._min_cpm),e.blocked&&p.push(t.id(e.blocked)))),p.join(",")}function k(){this.reset()}var z={advertisername:"0",advertiserdomains:"1",adomain:"1",advertiserid:"2",buyerid:"3",networkid:"4",brandid:"5",brandname:"6",dspid:"7",primarycatid:"8"},R=function(t,e){var n="",i="";try{n=e.get("dom_id").replace(/[:,]+/g,""),i=e.get("gpt_slot").getAdUnitPath().replace(/[:,]+/g,"")}catch(e){l.log(t,"failed to encode ids",e)}return{dom_id:n,gpt_path:i}};k.prototype.reset=function(){this.ids={},this.data=[],this.length=0},k.prototype.id=function(e){var t;return e=String(e).replace(/,/,"_"),this.ids[e]||(t=encodeURIComponent(e),this.length+=t.length,this.ids[e]=l.b62(this.data.push(t)-1)),this.ids[e]},s.auctionCompleted=l.thread(function(t){var a=new k,n=[],i=0;t.eachUnit(function(r){var e=R("bidRendered",r),e=[a.id(t.instancectr),a.id(t.id),a.id(r.id),a.id(r.unique_id),a.id(e.dom_id),a.id(e.gpt_path)].join(","),o=[];r.eachBidReqConf(!1,function(e){var i=a.id(e.bidder_id)+","+a.id(e.bidder_unit_id);e.responses.length?l.each(e.responses,function(e){var t=r.getWinner()===e?1:"",n=i,e=j(e,a);e&&(n+=","+t+","+e),o.push(n)}):o.push(i)}),encoded_unit=e+":"+o.join(":"),i+=encoded_unit.length,n.push(encoded_unit),3e3<i+a.length&&(_(11,3,n.join("&b=")+"&bi="+a.data.join(",")),a.reset(),n=[],i=0)}),i&&_(11,3,n.join("&b=")+"&bi="+a.data.join(","))}),s.bidRendered=l.thread(function(e,t,n){var i=R("bidRendered",e.config.unit),r=[e.config.unit.auction.instancectr,e.config.unit.id];r.push(e.config.bidder_id),r.push(e.config.bidder_unit_id),r.push(e.cpm),r.push(e.width),r.push(e.height),r.push(e.config.unit.unique_id),r.push(t),r.push(encodeURIComponent(i.dom_id)),r.push(encodeURIComponent(i.gpt_path));t=new k,i=C(e,t),t=t.data;i&&(e.extras.anfo=i,e.extras.anfd=t);t=JSON.stringify(e.extras);"{}"!=t&&r.push(encodeURIComponent(t));r=(n?5:1)+":"+r.join(",");d.libSettings().record_bidids&&(r+="&b=4:"+[e.config.unit.unique_id,e.config.unit.id,e.id].join(",")),p(12,2,100,"&b=",r)}),s.enhRendered=l.thread(function(e,t,n){n=[e,t,w(n.advertiserId),w(n.campaignId),w(n.creativeId),w(n.versionId)];p(12,1,100,"&b=","3:"+n.join(","))}),s.gptRendered=l.thread(function(e,t,n){var i=R("gptRendered",t);p(12,2,100,"&b=","2:"+[e.instancectr,t.id,w(n.advertiserId),w(n.campaignId),w(n.creativeId),n.isEmpty||"",w(n.lineItemId),n.size?v(n.size[0],n.size[1]):"",w(n.sourceAgnosticCreativeId),w(n.sourceAgnosticLineItemId),t.unique_id,encodeURIComponent(i.dom_id),encodeURIComponent(i.gpt_path)].join(","))}),s.gptViewed=l.thread(function(e,t,n){var i=R("gptViewed",t);p(15,2,100,"&b=","1:"+[e.instancectr,t.id,t.unique_id,encodeURIComponent(i.dom_id),encodeURIComponent(i.gpt_path)].join(","))});function B(){var e,n,i;clearTimeout(E),E=!1,T?E=setTimeout(B,100):(e=O,O={},T=P,P=new k,n=[],i=0,l.each(e,function(e,t){e=t+":"+e.join(":");i+=e.length,n.push(e),3e3<i+T.length&&(_(13,3,n.join("&b=")+"&bi="+T.data.join(",")),n=[],i=0)}),i&&_(13,3,n.join("&b=")+"&bi="+T.data.join(",")),T=!1)}var E,T,P=new k,O={};s.lateBid=l.thread(function(e){var t=R("lateBid",e.config.unit),t=[P.id(e.config.unit.auction.instancectr),P.id(e.config.unit.auction.id),P.id(e.config.unit.id),P.id(e.config.unit.unique_id),P.id(t.dom_id),P.id(t.gpt_path)].join(","),e=[P.id(e.config.bidder_id),P.id(e.config.bidder_unit_id),"",j(e,P)].join(",");O[t]||(O[t]=[]),O[t].push(e),E=E||setTimeout(B,500)}),l.onerr(function(){try{var t="";l.each(arguments,function(e){null!=e&&("object"==typeof e?e=e.stack?(e.message||"")+" "+e.stack:JSON.stringify(e):"string"!=typeof e&&"number"!=typeof e&&(e=e.toString?e.toString():String(e)),t+=" "+e)}),t=t.substr(0,300)+(300<t.length?"...":""),t="500.1:"+l.perfts()+":"+t,p(c,1,1e3,"&e=",t)}catch(e){l.isdebug()&&console.error("AdBridg error report failed: ",e)}}),s.rec=l.thread(function(e){p(17,1,500,"&b=",e)}),l.onrec(s.rec);var D={};s.sqz=l.thread(function(e,t,n,i,r){var o,a=t+"."+i;D[a]||(D[a]={qk:t,qd:i,s:!1,d:[]},t&&(D[a].s=new k)),!1===t?D[a].d.push(r):(l.isarr(n)||(n=[n]),o=[],l.each(n,function(e){o.push(D[a].s.id(e))}),o=o.join(","),D[a].d.push(o+":"+r)),p(18,1,e,"","")});var M=function(){var e=D;D={},m[18]=[];var n="";return l.each(e,function(t,e){t.qk&&(n+="&"+t.qk+"="+t.s.data.join(",")),l.each(t.d,function(e){n+="&"+t.qd+"="+e})}),n};s.init=l.thread(function(){p(19,1,100,"","")})},{"./config.js":13,"./utils.js":38}],12:[function(e,t,n){var h=e("./utils"),b=(e("./unit"),e("./analytics")),v=e("./modules"),y=e("./config"),_=0;t.exports=function(){var i,r;this.instancectr=++_,this.id=h.genID("A"),this.uuid=h.genUUID(),this.ts=0,this.jsts=0,this.jstsend,this.max_ms,y.afterConsent(function(e,t){i=e,r=t}),this.ajax_ms=y.libSettings().ajax_ms,"function"==typeof this.ajax_ms&&(this.ajax_ms=this.ajax_ms());var d,o=this,a={},s=[],c=[],u=[],p=!1,l=[],g=!1,f=[];this.addUnit=function(e){return c.push(e),u.push(e.alias),e.auction=o,e.eachBidder(function(e,t){!t.uspSupport&&r&&"Y"===r.uspString[2]||a[e]||(a[e]=t,.5<Math.random()?s.push(e):s.unshift(e))}),o.max_ms=o.max_ms?Math.min(o.max_ms,e.max_ms):e.max_ms,(!o.ajax_ms||o.ajax_ms<o.max_ms)&&(o.ajax_ms=o.max_ms+200),o},this.ctUnits=function(){return c.length},this.hasUnit=function(){return 0<c.length},this.eachUnit=function(e){h.each(c,e)},this.findUnit=function(e){for(var t=0;t<c.length;++t)if(e(c[t]))return c[t];return!1},this.eachBidRequest=function(e,n){"function"==typeof e&&(n=e,e=!1),this.eachUnit(function(t){t.eachBidReqConf(e,function(e){n(t,e)})})},this.getUnitByBidReqId=function(t){var n=!1;return o.eachUnit(function(e){e.getBidReqConf(t)&&(n=e)}),n},this.getBidRequest=function(t){var n=!1;return o.eachUnit(function(e){n=n||e.getBidReqConf(t)}),n},this.getBid=function(e){for(var t=0;t<c.length;++t){var n=c[t].getBid(e);if(n)return n}return!1},this.markBidEmpty=function(e){var t=o.getUnitByBidReqId(e);t?t.addEmptyBid(e):h.err("Cannot mark bid empty: unknown id",e)},this.markBidderEmpty=function(t){o.eachUnit(function(e){e.markEmpty(t)})},this.isDone=function(){return p},this.lock=function(e){-1==l.indexOf(e)&&(h.log("Auction ",o.id," locked: ",e),l.push(e))},this.unlock=h.wrapAsync(function(e){var t=l.indexOf(e);-1!=t?(l.splice(t,1),h.log("Auction ",o.id," unlocked: ",e,l),!l.length&&g&&g()):h.log("Auction ",o.id," lock not found: ",e)}),this.onHalt=function(e){f.push(e)},this.execute=function(e){o.ts=h.dts(),o.jsts=(new Date).getTime();var t=y.libSettings().fbo;"function"==typeof t&&(s=t(a)),d="started",v.trigger("auction.before_bids",o),h.log("Auction",o.id,"starting with",c.length,"units:",u,"/ bidders:",s,"/ timeout:",o.max_ms),d="inProgress",b.auctionConfigured(o),v.trigger("auction.start",o);var n=h.wrapAsync(function(){p||(p=!0,v.trigger("auction.bidding_done",o),o.eachUnit(function(e){e.halt()}),d="completed",o.jstsend=(new Date).getTime(),b.auctionCompleted(o),v.trigger("auction.complete",o),h.each(f,function(e){h.thread(e)()}),e(o))}),i=h.wrapAsync(function(){return l.length?(h.log("Auction ",o.id,"waiting on locks",l),void(g=n)):void n()}),r=0;o.eachUnit(function(e){e.onReady(h.wrapAsync(function(){p||++r>=c.length&&(h.log("Auction ",o.id," received bids for ",r," / ",c.length," units. Duration: ",h.dts()-o.ts,"ms"),i())}))}),h.each(s,function(e){var t=a[e];h.thread(function(){t.execute(o)})()}),setTimeout(function(){p||(h.log("Auction ",o.id," timing out with ",r," / ",c.length," units completed. Duration: ",h.dts()-o.ts,"ms"),i())},o.max_ms)};var t=[],m={};this.getBdrReqId=function(e){return t[e]||(t[e]=h.genID("R")),t[e]},this.toPrebidBidderReq=function(e){var n,t;return m[e]||(a[e],n=[],this.eachBidRequest(e,function(e,t){n.push(t.toPrebid())}),t={referer:h.url().href,stack:[h.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)},m[e]={auctionId:this.uuid,auctionStart:this.jsts,bidderCode:e,bidderRequestId:this.getBdrReqId(e),bids:n,gdprConsent:i,uspConsent:(r||{}).uspString,timeout:this.max_ms,refererInfo:t}),m[e]},this.toPrebidBidderReqs=function(){var n=[];return h.each(a,function(e,t){n.push(this.toPrebidBidderReq(t))}.bind(this)),n},this.toPrebid=function(){var e=this.toPrebidBidderReqs(),n=[],i=[],r=[],o=[],a=[],s=[];return this.eachUnit(function(e){var t=e.toPrebidAdUnit();n.push(t),i.push(t.code);e=e.toPrebidResults();r=r.concat(e.noBids),o=o.concat(e.bidsReceived),a=a.concat(e.winningBids),s=s.concat(e.prebidWinningBids)}),{auctionId:this.uuid,timestamp:this.jsts,auctionEnd:this.jstsend,auctionStatus:d,adUnits:n,adUnitCodes:i,labels:void 0,bidderRequests:e,noBids:r,bidsReceived:o,winningBids:a,timeout:this.max_ms,prebidWinningBids:s}}}},{"./analytics":11,"./config":13,"./modules":17,"./unit":37,"./utils":38}],13:[function(d,e,t){function c(e,t,n){var i=t.mapping_rules;if(i){var r,o=e.get("gpt_slot"),a=o.getAdUnitPath(),s=e.get("gpt_sizes"),d=e.get("dom_id"),c=e.get("dom_ad_class");for(r in i){if(!i.hasOwnProperty(r))return;var u=i[r],p=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if("vp.max_width"==r&&u<p)return;if("vp.min_width"==r&&p<u)return;if("lib"==r.substr(0,3)){p=n[r.substr(4)];if(("function"==typeof p&&p(o,a,s,d))!=u)return}if("gpt.adunit"==r&&u!=a)return;if("gpt.adunit_regex"==r&&!new RegExp(u,"i").test(a))return;if("gpt.domid"==r&&u!=d)return;if("gpt.domid_regex"==r&&!new RegExp(u,"i").test(d))return;if("gpt.has_size"==r&&!s.match(u))return;if("gpt.no_size"==r&&s.match(u))return;if("adb.ad_class"==r&&u!=c)return;if("adb.ad_class_regex"==r&&!new RegExp(u,"i").test(c))return}return l.log("Unit mapped: ",d,"->",t.alias),1}}function u(e,t){return{id:t[0],alias:t[1],size:t[2],other_sizes:t[3]||[],min_cpm:t[4],max_ms:t[5],settings:t[6]||{},rule_order:t[7],mapping_rules:t[8],bid_req_confs:t[9]}}var l=d("./utils"),p=(d("./ajax"),{c:2418030,s:{track_imps:!0,bid_strategy:".05:.1-.3,.01:.3-1.2,.05:1.2-5.5,.01:5.5-5.7,.05:5.7-6.35,.01:6.35-6.6,.05:6.6-6.85,.01:6.85-7.05,.05:7.05-7.35,.01:7.35-7.55,.05:7.55-9,.1:9-10.5,.5:10.5-21,1:21-35,.25:35-37,1:37-40,.5:40-44,2:44-50",usp:{image:!0,iframe:!1,delay:3e3},gamconfig_defer:function(e){function t(){if(!window.hasOwnProperty("useAdBridg")){if(!AdBridg.global("pub.config"))return setTimeout(t,50);window.useAdBridg=!1}"a"!==window.useAdBridg&&l.qs("useAdBridg")&&(window.useAdBridg="a"),"a"===window.useAdBridg&&(window.useAdBridgGamConfig=!0),e()}t()},gamconfig_fulfillment:function(e){String(window.location.search).match("disableDFP")?l.each(e,function(e){var t=document.getElementById(e.dom_id),n=l.isarr(e.size[0]),i=n?e.size[0]:e.size,r=n?e.size.map(function(e){return e.join("x")}).join(", "):e.size.join("x"),n="display:inline-block;margin:1px 5px;background:rgba(255,255,255,0.3)";t.innerHTML="<div style='display:block; width: "+i[0]+"px; height: "+i[1]+"px; background: rebeccapurple; color: white;'><span style='"+n+"'><b>DOM ID</b> <span>"+e.dom_id+"</span></span><span style='"+n+"'><b>GAM Pos</b> <span>"+e.targeting.pos+"</span></span><br><span style='"+n+"'><b>GAM Path</b> <span>"+e.gpt_path+"</span></span><br><span style='"+n+"'><b>Allowed Sizes</b> <span>"+r+"</span></span></div>"}):AdBridg.cmd.push(e)},initfn:function(){l.load("https://js-sec.indexww.com/ht/p/180447-192872210293780.js"),l.cfuspfn(function(e){if("i"===e.t)return!0;if(18!==e.a)return!1;e=!AdBridg.global("hltlpx");return AdBridg.global("hltlpx",!0),e})},lazy:function(e,t,n,i){return l.vp().h},gpt_clear_kvps:["hb_bidder","hb_pb","hb_adid"],gpt_kvp_overrides:{adb_bdr:"hb_bidder",adb_hbc:"hb_pb",adb_adid:"hb_adid"},gpt_keep_oop:1,allow_serve_from_refresh:!0,gamconfig_ad_class_mutate:function(e,t){if("pc-incontent"==e)return!1;if((t.id+"").match(/^t?\d?_?ina$/))return"ina";var n=l.dom_invisible(t.id);if(n)return l.log("GamConfig ignore CSS hidden element",e,t.id,n),!1;var i=e,r=(e=e.replace(/^t\d+_(.*)$/i,"$1")).match(/(sticky|inline)/);if(r?r=r[1]:e.match(/^DMR/)?r="sticky":e.match(/^MMR/)&&(r="inline"),r){var o="pcbac_"+(parseInt((t.id.match(/^t(\d+)_/)||["0"]).pop())+1)+"_"+r,n=AdBridg.global(o)||0;if(n+=1,AdBridg.global(o,n),"inline"===r){o=l.vp().w;if(1190<=o){if(3<(n+=1))return l.err("HLSlotMax_LD_"+r+"__"+i+"__"+t.id),!1}else{if(o<990&&5<n)return l.err("HLSlotMax_MT_"+r+"__"+i+"__"+t.id),!1;if(990<=o)return!1}}e=r+n}return i!==e&&l.log("GamConfig ad class mutation: ",i," -> ",e),e},gamconfig_curly:function(e,t,n,i){if("pc_prefix"!==e)return"device_code"===e?l.vp().w<768?"M":"D":"inline_code"===e?1190<=l.vp().w?"LB":"MR":void 0;n=parseInt((n.match(/^t(\d+)_/)||["0"]).pop())+1;return"/4788/psy/pagenumber"+n+"/"+(1==n?"":n)},gamconfig_skip_element:function(e,t,n){var i,r;return AdBridg.global("setup_hloop")||(AdBridg.global("setup_hloop",1),i=!1,r=function(){i||(i=!0,l.log("Manually trigger GamConfig scanner"),l.off(window,"scroll",r),l.gamconfig_scanner&&l.gamconfig_scanner())},l.on(window,"scroll",r)),"div-gpt-ad-out-of-page"===e&&0<!l.vp().y},preconfigure_init:function(){googletag.cmd=googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().enableLazyLoad=function(){l.log("AdBridg ignoring GPT lazy load.")}})},new_tl_test:function(e){return!l.qs("adb_tl_new_only")&&e},before_gpt:function(){l.qs("no_sandbox")||(l.log("Requiring GPT Sandbox SafeFrames"),googletag.pubads().setSafeFrameConfig({sandbox:!0}));var e="XX";p.s.pub&&p.s.pub.cc&&"AE,AR,AT,AU,BD,BE,BG,CA,CH,CO,CY,CZ,DE,DK,EE,ES,FI,FR,GB,GH,GR,HR,HU,ID,IE,IN,IS,IT,KE,LI,LT,LU,LV,MT,MX,MY,NG,NL,NO,NZ,PH,PK,PL,PT,RO,SA,SE,SG,SI,SK,US,ZA".match(p.s.pub.cc)&&(e=p.s.pub.cc),l.log("Setting KVP hlcc",p.s.pub&&p.s.pub.cc,"=",e),googletag.pubads().setTargeting("hlcc",e)},alter_adb_pixel:function(e){try{p.s.pub&&p.s.pub.cc&&(e+="&hlcc="+p.s.pub.cc),window.useAdBridg&&(AdBridg.global("hl_1133s")||AdBridg.global("hl_1133s",window.useAdBridg+Math.floor(100*Math.random()/5).toString(36)),e+="&hl33="+AdBridg.global("hl_1133s"))}catch(e){}return e},gpt_refresh_options:function(e){var t=Object.assign({},e||{},{changeCorrelator:!1});return l.log("GPT correlator enforcement",e,t),t},dynamic_configuration:function(e,t,n){var i=t.pub.cc;return!t.pub.sponsorship||"US"!==i||(AdBridg.global("HLSPReported")||(AdBridg.global("HLSPReported",1),l.err("PCSponsorshipPage"),l.log("PsychCentral page has been reserved for a sponsorship; all bidding is disabled.")),!1)},post_render:function(e){var t=e.config.unit.get("dom_id");t.match("dlb1")&&l.resize_element(document.getElementById(t),e.width,e.height)},nodbkeys:!0},u:{77:[77,"PC Desktop DLB1 ","728x90",["970x90","970x250"],.04,2e3,0,0,{"gpt.adunit_regex":"dlb1"},[[2,"1844442",{siteId:"347750"},0],[4,"542293713",0,0],[5,"20226841",0,0],[10,"579150",{size:"728x90"},0],[10,"579150",{size:"970x250"},0],[10,"579150",{size:"970x90"},0],[18,"PsychCentral_Desktop_DLB1_728x90_AB",0,0],[115,"psychcentral_dlb1_hb_adbridg",{pos:"psychcentral_dlb1_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"814147833",0,0],[174,"PsychCentral_Desktop_DLB1_728x90",{},function(e,t){return t.new_tl_test(e)}]]],78:[78,"PC Desktop DMR1","300x250",["300x600"],.04,2e3,0,0,{"gpt.adunit_regex":"dmr1"},[[2,"1844448",{siteId:"347750"},0],[4,"542293716",0,0],[5,"20226845",0,0],[10,"579153",{size:"300x250"},0],[10,"579153",{size:"300x600"},0],[18,"PsychCentral_Desktop_DMR1_MREC_AB",0,0],[115,"psychcentral_dmr1_hb_adbridg",{pos:"psychcentral_dmr1_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"482160476",0,0],[174,"PsychCentral_Desktop_DMR1_MREC",0,function(e,t){return t.new_tl_test(e)}]]],79:[79,"PC Desktop DMR2","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr2"},[[2,"1844450",{siteId:"347750"},0],[4,"542293717",0,0],[5,"20226846",0,0],[10,"579154",{size:"300x250"},0],[115,"psychcentral_dmr2_hb_adbridg",{pos:"psychcentral_dmr2_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"157131625",0,0],[174,"PsychCentral_Desktop_DMR2_MREC",0,0]]],80:[80,"PC Mobile MLB1","320x50",["300x50"],.04,2e3,0,0,{"gpt.adunit_regex":"mlb1"},[[2,"1844488",{siteId:"347752"},0],[4,"542293706",0,0],[5,"20226867",0,0],[10,"579173",{size:"300x50"},0],[10,"579173",{size:"320x50"},0],[115,"psychcentral_mlb1_hb_adbridg",{pos:"psychcentral_mlb1_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"917839699",0,0],[154,"atqyPS6wOr64G2aKlKyvbs",0,0],[174,"PsychCentral_Mobile_MLB1_320x50",0,0]]],81:[81,"PC Mobile MMR1","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"mmr1"},[[2,"1844490",{siteId:"347752"},0],[4,"542293707",0,0],[5,"20226868",0,0],[10,"579154",{size:"300x250"},0],[18,"PsychCentral_Mobile_MMR1_300x250_AB",0,0],[115,"psychcentral_mmr1_hb_adbridg",{pos:"psychcentral_mmr1_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"339384118",0,0],[154,"bKnnVG6wOr67ScaKlKyvbs",0,0],[174,"PsychCentral_Mobile_MMR1_300x250",0,function(e,t){return t.new_tl_test(e)}]]],82:[82,"PC Mobile MMR2","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"mmr2"},[[2,"1844492",{siteId:"347752"},0],[4,"542293708",0,0],[5,"20226870",0,0],[10,"579175",{size:"300x250"},0],[18,"PsychCentral_Mobile_MMR2_300x250_AB",0,0],[115,"psychcentral_mmr2_hb_adbridg",{pos:"psychcentral_mmr2_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"189578804",0,0],[154,"ckWjci6wOr6749aKjGFx_2",0,0],[174,"PsychCentral_Mobile_MMR2_300x250",0,function(e,t){return t.new_tl_test(e)}]]],83:[83,"PC Mobile MMR3","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"mmr3"},[[2,"1844494",{siteId:"347752"},0],[4,"542293709",0,0],[5,"20226871",0,0],[10,"579176",{size:"300x250"},0],[18,"PsychCentral_Mobile_MMR3_300x250_AB",0,0],[115,"psychcentral_mmr3_hb_adbridg",{pos:"psychcentral_mmr3_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"416732783",0,0],[154,"dAvwZQ6wOr64G2aKlKyvbs",0,0],[174,"PsychCentral_Mobile_MMR3_300x250",0,function(e,t){return t.new_tl_test(e)}]]],84:[84,"PC Mobile MMR4","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"mmr4"},[[2,"1844496",{siteId:"347752"},0],[4,"542293710",0,0],[5,"20226872",0,0],[10,"579177",{size:"300x250"},0],[18,"PsychCentral_Mobile_MMR4_300x250_AB",0,0],[115,"psychcentral_mmr4_hb_adbridg",{pos:"psychcentral_mmr4_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"579762571",0,0],[154,"P2Me-6wOr64o4aKlKyvbs",0,0],[174,"PsychCentral_Mobile_MMR4_300x250",0,function(e,t){return t.new_tl_test(e)}]]],85:[85,"PC Mobile MMR5","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"mmr5"},[[2,"1844498",{siteId:"347752"},0],[4,"542293711",0,0],[5,"20226874",0,0],[10,"579178",{size:"300x250"},0],[18,"PsychCentral_Mobile_MMR5_300x250_AB",0,0],[115,"psychcentral_mmr5_hb_adbridg",{pos:"psychcentral_mmr5_hb_adbridg",dcn:"8a96945f017575d2612ad29de4d20005"},0],[116,"823314966",0,0],[154,"d4QTVK6wOr64o4aKlKyvbs",0,0],[174,"PsychCentral_Mobile_MMR5_300x250",0,function(e,t){return t.new_tl_test(e)}]]],86:[86,"PC Desktop DLB2","728x90",[],.04,2e3,0,0,{"gpt.adunit_regex":"dlb2"},[[2,"1844444",{siteId:"347750"},0],[4,"542293714",0,0],[5,"20226842",0,0],[10,"579151",{size:"728x90"},0],[18,"PsychCentral_Desktop_DLB2_728x90_AB",0,0],[115,"psychcentral_dlb2_hb_adbridg",{pos:"psychcentral_dlb2_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"275526781",0,0],[174,"PsychCentral_Desktop_DLB2_728x90",0,function(e,t){return t.new_tl_test(e)}]]],87:[87,"PC Desktop DLB3","728x90",[],.04,2e3,0,0,{"gpt.adunit_regex":"dlb3"},[[2,"1844446",{siteId:"347750"},0],[4,"542293715",0,0],[5,"20226844",0,0],[10,"579152",{size:"728x90"},0],[18,"PsychCentral_Desktop_DLB3_728x90_AB",0,0],[115,"psychcentral_dlb3_hb_adbridg",{pos:"psychcentral_dlb3_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"679392274",0,0],[174,"PsychCentral_Desktop_DLB3_728x90",0,function(e,t){return t.new_tl_test(e)}]]],88:[88,"PC Desktop DCMR1","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dcmr1"},[[2,"1844478",{siteId:"347750"},0],[4,"542293731",0,0],[5,"20226861",0,0],[10,"579168",{size:"300x250"},0],[115,"psychcentral_dcmr1_hb_adbridg",{pos:"psychcentral_dcmr1_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"398655875",0,0],[174,"PsychCentral_Desktop_DCMR1_MREC",0,0]]],89:[89,"PC Desktop DCMR2","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dcmr2"},[[2,"1844480",{siteId:"347750"},0],[4,"542293733",0,0],[5,"20226862",0,0],[10,"579169",{size:"300x250"},0],[115,"psychcentral_dcmr2_hb_adbridg",{pos:"psychcentral_dcmr2_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"734748812",0,0],[174,"PsychCentral_Desktop_DCMR2_MREC",0,0]]],90:[90,"PC Desktop DCMR3","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dcmr3"},[[2,"1844482",{siteId:"347750"},0],[4,"542293734",0,0],[5,"20226863",0,0],[10,"579170",{size:"300x250"},0],[115,"psychcentral_dcmr3_hb_adbridg",{pos:"psychcentral_dcmr3_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"873540157",0,0],[174,"PsychCentral_Desktop_DCMR3_MREC",0,0]]],91:[91,"PC Desktop DCMR4","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dcmr4"},[[2,"1844484",{siteId:"347750"},0],[4,"542293735",0,0],[5,"20226864",0,0],[10,"579171",{size:"300x250"},0],[115,"psychcentral_dcmr4_hb_adbridg",{pos:"psychcentral_dcmr4_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"512055880",0,0],[174,"PsychCentral_Desktop_DCMR4_MREC",0,0]]],92:[92,"PC Desktop DCMR5","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dcmr5"},[[2,"1844486",{siteId:"347750"},0],[4,"542293742",0,0],[5,"20226866",0,0],[10,"579172",{size:"300x250"},0],[115,"psychcentral_dcmr5_hb_adbridg",{pos:"psychcentral_dcmr5_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"734390237",0,0],[174,"PsychCentral_Desktop_DCMR5_MREC",0,0]]],93:[93,"PC Desktop DMR3","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr3"},[[2,"1844452",{siteId:"347750"},0],[4,"542293718",0,0],[5,"20226848",0,0],[10,"579155",{size:"300x250"},0],[115,"psychcentral_dmr3_hb_adbridg",{pos:"psychcentral_dmr3_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"265177797",0,0],[174,"PsychCentral_Desktop_DMR3_MREC",0,0]]],94:[94,"PC Desktop DMR4","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr4"},[[2,"1844454",{siteId:"347750"},0],[4,"542293719",0,0],[5,"20226849",0,0],[10,"579156",{size:"300x250"},0],[115,"psychcentral_dmr4_hb_adbridg",{pos:"psychcentral_dmr4_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"171862636",0,0],[174,"PsychCentral_Desktop_DMR4_MREC",0,0]]],95:[95,"PC Desktop DMR5","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr5"},[[2,"1844456",{siteId:"347750"},0],[4,"542293720",0,0],[5,"20226850",0,0],[10,"579157",{size:"300x250"},0],[115,"psychcentral_dmr5_hb_adbridg",{pos:"psychcentral_dmr5_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"662144784",0,0],[174,"PsychCentral_Desktop_DMR5_MREC",0,0]]],96:[96,"PC Desktop DMR6","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr6"},[[2,"1844458",{siteId:"347750"},0],[4,"542293720",0,0],[5,"20226851",0,0],[10,"579158",{size:"300x250"},0],[115,"psychcentral_dmr6_hb_adbridg",{pos:"psychcentral_dmr6_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"753865295",0,0],[174,"PsychCentral_Desktop_DMR6_MREC",0,0]]],97:[97,"PC Desktop DMR7","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr7"},[[2,"1844460",{siteId:"347750"},0],[4,"542293722",0,0],[5,"20226852",0,0],[10,"579159",{size:"300x250"},0],[115,"psychcentral_dmr7_hb_adbridg",{pos:"psychcentral_dmr7_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"661335883",0,0],[174,"PsychCentral_Desktop_DMR7_MREC",0,0]]],98:[98,"PC Desktop DMR8","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr8"},[[2,"1844462",{siteId:"347750"},0],[4,"542293723",0,0],[5,"20226853",0,0],[10,"579160",{size:"300x250"},0],[115,"psychcentral_dmr8_hb_adbridg",{pos:"psychcentral_dmr8_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"537318873",0,0],[174,"PsychCentral_Desktop_DMR8_MREC",0,0]]],99:[99,"PC Desktop DMR9","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr9"},[[2,"1844464",{siteId:"347750"},0],[4,"542293724",0,0],[5,"20226854",0,0],[10,"579161",{size:"300x250"},0],[115,"psychcentral_dmr9_hb_adbridg",{pos:"psychcentral_dmr9_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"787285489",0,0],[174,"PsychCentral_Desktop_DMR9_MREC",0,0]]],100:[100,"PC Desktop DMR10","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr10"},[[2,"1844466",{siteId:"347750"},0],[4,"542293725",0,0],[5,"20226855",0,0],[10,"579162",{size:"300x250"},0],[115,"psychcentral_dmr10_hb_adbridg",{pos:"psychcentral_dmr10_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"136586158",0,0],[174,"PsychCentral_Desktop_DMR10_MREC",0,0]]],101:[101,"PC Desktop DMR11","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr11"},[[2,"1844468",{siteId:"347750"},0],[4,"542293726",0,0],[5,"20226856",0,0],[10,"579163",{size:"300x250"},0],[115,"psychcentral_dmr11_hb_adbridg",{pos:"psychcentral_dmr11_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"168330849",0,0],[174,"PsychCentral_Desktop_DMR11_MREC",0,0]]],102:[102,"PC Desktop DMR12","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr12"},[[2,"1844470",{siteId:"347750"},0],[4,"542293727",0,0],[5,"20226857",0,0],[10,"579164",{size:"300x250"},0],[115,"psychcentral_dmr12_hb_adbridg",{pos:"psychcentral_dmr12_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"821682258",0,0],[174,"PsychCentral_Desktop_DMR12_MREC",0,0]]],103:[103,"PC Desktop DMR13","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr13"},[[2,"1844472",{siteId:"347750"},0],[4,"542293728",0,0],[5,"20226858",0,0],[10,"579165",{size:"300x250"},0],[115,"psychcentral_dmr13_hb_adbridg",{pos:"psychcentral_dmr13_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"678963628",0,0],[174,"PsychCentral_Desktop_DMR13_MREC",0,0]]],104:[104,"PC Desktop DMR14","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr14"},[[2,"1844474",{siteId:"347750"},0],[4,"542293729",0,0],[5,"20226859",0,0],[10,"579166",{size:"300x250"},0],[115,"psychcentral_dmr14_hb_adbridg",{pos:"psychcentral_dmr14_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"537717616",0,0],[174,"PsychCentral_Desktop_DMR14_MREC",0,0]]],105:[105,"PC Desktop DMR15","300x250",[],.04,2e3,0,0,{"gpt.adunit_regex":"dmr15"},[[2,"1844476",{siteId:"347750"},0],[4,"542293730",0,0],[5,"20226860",0,0],[10,"579167",{size:"300x250"},0],[115,"psychcentral_dmr15_hb_adbridg",{pos:"psychcentral_dmr15_hb_adbridg",dcn:"8a969d76017575d25796d2989a1c0005"},0],[116,"571841601",0,0],[174,"PsychCentral_Desktop_DMR15_MREC",0,0]]]}}),g={},f={},n={};window.AdBridg=window.AdBridg||{cmd:[]},window.AdBridg.global=function(e,t){if(void 0===t)return l.logl("g","Global read: ",e,n[e]),n[e];n[e]=t,l.logl("g","Global set: ",e,t)},window.AdBridg.globals={version:"v5.8.0-pre"},p.s.preconfigure_init&&l.wrapAsync(p.s.preconfigure_init)(p.s),t.getId=function(){return p.c},t.libSettings=function(t){if(t){var e,n;try{n="function"==typeof p.s[t]?(e=Array.prototype.slice.apply(arguments,[1]),p.s[t].apply(null,e)):p.s[t]}catch(e){l.err("ConfigKeyFail",t,e)}return n}return p.s},t.kvp=function(e){var t=p.s.gpt_kvp_overrides;return t&&t[e]?t[e]:e},t.proc=function(e){p.s.pub=p.s.pub||{},l.each(e,function(e,t){p.s.pub[t]=e}),l.log("Publisher config update: ",JSON.stringify(p.s.pub)),d("./modules.js").trigger("pub.config",p.s.pub)},t.deca=function(e){if(p.s.alter_adb_pixel)try{e=p.s.alter_adb_pixel(e)}catch(e){l.err("Alter adb fail",e)}return e};t.configureUnit=function(e,t){var n,i=!1,r=[];for(n in p.u)if(p.u.hasOwnProperty(n)){var o=u(0,p.u[n]);if(d("./modules.js").trigger("unit.dynamic",o,p.s,e),p.s.dynamic_configuration)try{var a=p.s.dynamic_configuration(o,p.s,e);if(!(o="object"==typeof a||!1===a?a:o))continue}catch(e){l.err("Failed dynamic configuration",e)}if(t){if(t!==o.id)continue;i=o;break}if(o.rule_order)r[o.rule_order]=o;else if(c(e,o,p.s)){i=o;break}}if(!i&&r.length)for(var s=0;s<r.length;++s)if(r[s]&&c(e,r[s],p.s)){i=r[s];break}i&&(e.configure(i),function(e,t){if(t.bid_req_confs&&t.bid_req_confs.length)for(var n=0;n<t.bid_req_confs.length;++n){var i=t.bid_req_confs[n],r={bidder_id:i[0],bidder_unit_id:i[1],settings:i[2]||{},mutate:i[3]||!1};0;i=f[String(r.bidder_id)];l.qsab(i,r.bidder_id)&&(e.addBidder(i,g[i]),e.addBidReqConf(i,r,p.s))}}(e,i))},t.units=function(n){l.each(p.u,function(e,t){n(u(0,e))})};var i=p.s.usp;(i="function"==typeof i?i():i)&&l.cfusp(i.image,i.iframe,i.delay),t.afterConsent=d("./consent.js")(p);function r(n,i,r){t.afterConsent(function(e){return e&&e.gdprApplies&&!e.consentString?l.log("GDPR skip register",n,e):void(g[n]?l.err("Duplicate bidder alias "+n):(t={bidder_id:r[0],settings:r[1]||{},mutate:r[2]||!1},g[n]=new i(n,t.bidder_id,t.settings,e,o),g[n].alias=n,g[n].id=t.bidder_id,g[n].settings=t.settings,g[n].mutate=t.mutate||!1,f[String(t.bidder_id)]=n));var t})}var o=d("./modules.js");o.setup(t);var a=d("./adapters/triplelift_direct.js"),s=d("./adapters/33across.js"),m=d("./adapters/medianet.js"),h=d("./adapters/aol.js"),b=d("./adapters/triplelift.js"),v=d("./adapters/index.js"),y=d("./adapters/appnexusast.js"),i=d("./adapters/openx.js");r("rubicon",d("./adapters/rubicon.js"),[2,{accountId:11314},function(e,t){try{e.inventory={k1:(t.pub&&t.pub.k1||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k1||"").replace(/'/g,""),k2:(t.pub&&t.pub.k2||window.googleDegfaultAdVars&&window.googleDegfaultAdVars.k2||"").replace(/'/g,"")},l.log("Rubicon KVP",e.inventory)}catch(e){l.err("PC Rubicon K1 fail",e)}return e}]),r("openx",i,[4,{delDomain:"healthline-d.openx.net"},0]),r("appnexus",y,[5,0,function(e,t){return e.params=e.params||{},e.params.keywords={k1:t.pub&&t.pub.k1||"",k2:t.pub&&t.pub.k2||""},e}]),r("ix",v,[10,0,0]),r("triplelift",b,[18,{check_gdpr:!0},0]),r("onemobile",h,[115,0,0]),r("medianet",m,[116,{cid:"8CUPK277N"},function(e,t){return-1<["US","GB","UK","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("33across",s,[154,{productId:"siab"},function(e,t){return-1<["US","CA"].indexOf(t.pub.cc.toUpperCase())&&e}]),r("tpl_direct",a,[174,{check_gdpr:!0},0]),t.afterConsent(function(e){d("./modules.js").trigger("consent.check_complete",e)})},{"./adapters/33across.js":1,"./adapters/aol.js":2,"./adapters/appnexusast.js":3,"./adapters/index.js":4,"./adapters/medianet.js":5,"./adapters/openx.js":6,"./adapters/rubicon.js":7,"./adapters/triplelift.js":8,"./adapters/triplelift_direct.js":9,"./ajax":10,"./consent.js":14,"./modules.js":17,"./utils":38}],14:[function(i,e,t){var r,o=i("./utils.js");e.exports=o.wrapAsync(function(e){return r=e,function(e){S(e)}});var n,a,s="",d=function(e,t){s+=e,t&&(s+=t)},c={iab:"A",conversant:"B"},u={geoblock:"C",geoblockbids:"D",geocmp:"E"},p="M",l="AT,BE,BG,CR,CY,CZ,DK,EE,FI,FR,DE,GR,HU,IE,IT,LV,LI,LU,MT,NL,PL,PT,RO,SK,SI,SP,SE,GB,NO,IS,LI,GI,AX,GF,GP,MQ,YT,RE,MF,FK,CH,AD,MC,SM,VA,",g=!1,f=!1,m=!1,h=[];o.qs("adb_skip_consent")&&(o.log("Consent: skipped by qs"),f=g=!0);function b(){if(g&&f)for(;h.length;){var e=h.shift();I(e)}}function v(){k||(k=!0,o.log("Consent: removing action configurations."),r.u=[],d("N"))}function y(){googletag&&googletag.cmd&&!z&&(z=!0,o.log("Consent: set GPT setRequestNonPersonalizedAds(1)."),d("L"),googletag.cmd.push(function(){googletag.pubads().setRequestNonPersonalizedAds(1)}))}function _(){googletag&&googletag.cmd&&!R&&(R=!0,o.log('Consent: set GPT setPrivacySettings({ "restrictDataProcessing": true }).'),d(p),googletag.cmd.push(function(){googletag.pubads().setPrivacySettings({restrictDataProcessing:!0})}))}var w,x,A,S=o.wrapAsync(function(e){"function"==typeof e?(e=o.wrapAsync(e),g&&f?I(e):(h.push(e),m||(m=!0,B(),O()))):o.err("Consent: invalid cb",e)}),I=function(e){e(n,a,s)},C=o.wrapAsync(function(e){o.log("Consent: done gathering GDPR consent",e),n=e,g=!0,d("u"),b()}),j=o.wrapAsync(function(e){o.log("Consent: done gathering USP consent",e),a=e,f=!0,d("h"),b()}),k=!1,z=!1,R=!1,B=function(){var e=r.s.cmp;"function"==typeof e?(d("t"),e(r.s,o.wrapAsync(function(e){E(e)}))):E(e)},E=o.wrapAsync(function(n){return n?"pubblock"===n?(o.log("Consent: gdpr: pubblock"),d("F"),v(),y(),void C({gdprApplies:!0,consentString:""})):"iab"===n||"conversant"===n?(d(c[n]),void P(n)):"geoblock"===n||"geoblockbids"===n||"geocmp"===n?(d(u[n]),void q(function(e){if(-1===l.indexOf(e.slice(0,2)))return o.log("Consent: gdpr: not in EU:",e),d("y"),void C({gdprApplies:!1,consentString:""});if("geocmp"===n){var t=r.s.cmp_for_geo;return o.log("Consent: gdpr: in EU, checking cmp:",t),d("x"),void setTimeout(function(){E(t)},0)}if("geoblock"===n)return d("v"),o.rec("GDPRBlockAll"),void o.log("Consent: gdpr: in EU, disabling ads");d("w"),o.log("Consent: gdpr: geoblockbids - preventing auctions and continuing to GAM"),v(),y(),C({gdprApplies:!0,consentString:""})})):(d("z"),o.err("Consent: unrecognized cmp value",n),void C()):(d("G"),void C())}),T=0,P=o.wrapAsync(function(){if("function"!=typeof window.__cmp&&"function"!=typeof window.__tcfapi){var e=r.s.cmp_check_interval,t=r.s.cmp_check_max;if(e&&T<t)return 0===T&&(d("p"),o.log("Consent: gdpr: cmp not found yet - checking every ",e,"ms; max ",t,"intervals")),T+=1,void setTimeout(P,e);var n=r.s.cmp_fallback;return n?(o.log("Consent: gdpr: fallback to",n),d("o"),void setTimeout(function(){E(n)},0)):(d("n"),void o.log("Consent: gdpr: CMP object not found, preventing further execution."))}if(window.__tcfapi)return o.log("Consent: gdpr: calling TCFv2"),d("U"),void window.__tcfapi("getTCData",2,o.wrapAsync(function(e,t){var n,i,r;e?(d("s"),n=e.tcString,r=e.gdprApplies,i=e):d("r"),C({consentString:n,vendorData:i,gdprApplies:r})}));o.log("Consent: gdpr: calling CMP"),d("q"),window.__cmp("getVendorConsents",null,o.wrapAsync(function(e){var t,n,i;o.log("Consent: gdpr: CMP result",e),e?(t=e.metadata||e.consentData,n=e.vendorConsents,i=e.gdprApplies,d("s")):d("r"),C({consentString:t,vendorData:n,gdprApplies:i})}))}),O=function(){var e=r.s.ccpa;if("optout"===e)return o.log("Consent: ccpa: opting out all users, restricting gpt processing"),d("l"),_(),void j({version:1,uspString:D()});if(0!==(e||"").indexOf("geoblock,"))return!e&&window.__uspapi&&(e="iab",d("k")),e?"iab"===e?(d("j"),void U()):(o.log("Consent: ccpa: unknown strategy, continuing as normal; strategy=",e),d("i"),void j()):(o.log("Consent: ccpa: no strategy defined, continuing as normal"),d("m"),void j());var t=e.split(",").slice(1);q(function(e){-1!==t.indexOf(e)?(o.log("Consent: ccpa: opting out ",t," users, restricting gpt processing"),d("O"),_(),j({version:1,uspString:D()})):(o.log("Consent: ccpa: region OK",e),d("T"),j({version:1,uspString:"1---"}))})},D=function(){var e=r.s.ccpa_signatory||"N";return"1"+(r.s.ccpa_button||"N")+"Y"+e},M=0,U=o.wrapAsync(function(){var n=r.s.usp_check_interval||500,i=r.s.usp_check_max||30;if(!window.__uspapi)return n&&M<i?(0===M&&(o.log("Consent: usp: __uspapi not found yet - checking every ",n,"ms; max ",i,"intervals"),d("b")),M+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi not found, preventing further execution."),void d("a"));0===M&&d("c"),window.__uspapi("getUSPData",1,o.wrapAsync(function(e,t){return o.log("Consent: usp: result",e,t),t||e&&e.uspString?(e&&e.uspString?(d("g"),"Y"===e.uspString.substr(2,1)&&_()):d("d"),void j(e)):n&&M<i?(0===M&&(o.log("Consent: usp: result empty, re-checking in ",n,"ms"),d("e")),M+=1,void setTimeout(U,n)):(o.log("Consent: usp: __uspapi returned invalid, defaulting to Opt Out"),d("f"),_(),void j({version:1,uspString:D()}))}))}),q=(A=[],function(e){var t,n;"function"==typeof e?(e=o.wrapAsync(e),w||(t=o.cr("adbrgn"))&&(o.log("Consent: region cookie found",t),d("S"),w=t),w?e(w):(A.push(e),x||(o.log("Consent: geo region requested"),n=function(){for(;A.length;)A.shift()(w)},x=!0,i("./ajax.js")({url:"https://geo.adspsp.com",withCredentials:!1,parseResponseJson:!1},o.wrapAsync(function(e,t){return e?(o.err("geo/region",e),r.s.cmp_allow_geofail?(w="????",o.log("Consent: error getting region, continuing"),d("P"),void n()):(o.log("Consent: region check failed; preventing further action"),void d("Q"))):(w=t,o.log("Consent: region check result",w),o.cw("adbrgn",w),o.log("Consent: cached region",w),d("R"),void n())}))))):o.err("Consent: bad region cb",e)})},{"./ajax.js":10,"./utils.js":38}],15:[function(e,t,n){if(window.AdBridg=window.AdBridg||{cmd:[]},window.googletag=window.googletag||{cmd:[]},window.pbjs=window.pbjs||{que:[]},AdBridg.gpt=window.googletag,!(AdBridg.exists||window.googletag&&googletag.cmd&&googletag.cmd===AdBridg.cmd)){AdBridg.exists=!0;var a,s,y=e("../utils.js"),u=e("../unit.js"),p=e("../auction.js"),_=e("../config.js"),w=e("../analytics.js"),x=e("../modules.js"),r=e("../mockprebid.js");if(!y.qs("adb_off")){if(X=y.vp(),/headless/i.test(navigator.userAgent)||0===X.w||0===X.h)return y.log("headless browser detected; shutting down"),void y.rec("headless");s={enableSingleRequest:be,disableInitialLoad:be,addEventListener:(a={add:function(e,t){a[e]=(a[e]||[]).concat(t)},remove:function(e,t){a[e]=(a[e]||[]).filter(function(e){return e!==t})},trigger:function(){var t=[].slice.apply(arguments),e=t.shift();(a[e]||[]).forEach(function(e){e.apply(0,t)})}}).add,removeEventListener:a.remove,safeFrameConfig:!1,setSafeFrameConfig:function(e){s.safeFrameConfig=e},targeting:{},setTargeting:function(e,t){s.targeting[e]=t},refresh:function(e){e.forEach(function(e){var n=document.createElement("iframe"),t=document.getElementById(e.getSlotElementId()),i=!s.safeFrameConfig||e.getTargeting("unsafe")[0];n.height=e.sizes[0][1],n.width=e.sizes[0][0],n.border="0px",n.hspace="0",n.vspace="0",n.marginWidth="0",n.marginHeight="0",n.style.border="0",n.scrolling="no";var r={slot:e,advertiserId:0,campaignId:0,creativeId:0,isEmpty:!(n.frameBorder="0"),lineItemId:0,size:null,sourceAgnosticCreativeId:0,sourceAgnosticLineItemId:0},o=e.getTargeting(_.kvp("adb_adid"))[0];i?n.src="about:blank":(s.safeFrameConfig&&s.safeFrameConfig.sandbox&&(n.sandbox="allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),n.src="https://prod.adspsp.com/iframe.html"),t.innerHTML="",t.appendChild(n),o?(n.contentDocument.open(),n.contentDocument.write(i?'<script>try { top.AdBridg.render(document, "'+o+'") } catch(e) {}<\/script>':'<html><head><script type="text/javascript" src="https://prod.adspsp.com/adbpmc2.js"><\/script><script type="text/javascript">AdBridgServe("'+location.href+'", "'+o+'");<\/script></head><body></body></html>'),a.trigger("slotRenderEnded",r)):"function"==typeof(o=_.libSettings().getHouseAd)?o(e,function(e,t){n.contentDocument.open(),n.contentDocument.write(e),r.isEmpty=!1,a.trigger("slotRenderEnded",y.assign(r,t))}):(y.log(e.getAdUnitPath(),"nothing to render"),r.isEmpty=!0,a.trigger("slotRenderEnded",r))})}},AdBridg.gptStub={cmd:{push:function(e){e()}},pubads:function(){return s},defineSlot:function(e,t,n){var i={sizes:t,targeting:{},addService:be,getSlotElementId:function(){return n},getAdUnitPath:function(){return e},setTargeting:function(e,t){i.targeting[e]=t},getTargeting:function(e){return[].concat(i.targeting[e],s.targeting[e]).filter(Boolean)},getTargetingMap:be};return i},enableServices:be,display:be},("function"==typeof _.libSettings().nogpt&&_.libSettings().nogpt()||y.qs("adb_nogpt"))&&(y.log("Disabling GPT"),AdBridg.gpt=AdBridg.gptStub);var d=!1,c=[],l=!1,g=[],o=!1,f=[],m=[],h={},A={},b={},v={},S=!1,I=[],C=[],j={},k=[],z="Workflow |",R=!0,e=_.libSettings().sra_if;(e&&!e()||_.libSettings().no_sra)&&(R=!1);function B(n,i,a){return y.wrapAsync(function(o){pe("ra",function(){var r=[];o.eachUnit(function(t){if(o===l){if(!t.get("gpt_slot")||t.get("preload_used"))return;t.set("preload_used",1)}try{var e=_.libSettings().post_auc_ufilter;if(e){var n=e(t,a);if(n)return void y.log("Ignoring",t.alias,t.get("dom_id"),n)}}catch(e){y.err("Err auc unit filter ",t.alias,t.get("dom_id"),e)}try{var i=t.getWinner();if(t.settings.require_bid&&!i)return y.log("Discarding unit ",t.alias,t.get("dom_id")," -- requires bid but had none."),void y.thread(function(){AdBridg.destroySlots([t.get("gpt_slot")])})();i&&(i.config.unit.setImpData("adb_mtype",i.extras.mediaType),t.gptTargetSet(i)),function(e){var t=_.libSettings().bid_strategy,n=e.getWinner(),i=e.get("gpt_slot");D(i),x.trigger("gpt.set_targeting",e,i);var r,o=e.get("adb_imp_data");if(o&&(r=i.getTargeting("adb_imp")||[],y.isarr(r)||(r=[r]),y.each(o,function(e){e&&-1===r.indexOf(e)&&r.push(e)}),r.length&&i.setTargeting(_.kvp("adb_imp"),r)),_.libSettings().track_alias&&i.setTargeting(_.kvp("adb_cfg"),e.alias),!n)return i.setTargeting(_.kvp("adb_bdr"),["none"]),U(i,-1),x.trigger("gpt.no_hbc",e,i,function(e){return y.toRange(e,t)},function(e,t){M(e),U(e,t)});AdBridg.gpt!==window.googletag&&(i.setTargeting("unit",e),(_.libSettings().unsafeBidders||"").split(",").filter(function(e){return e===n.config.bidder_name}).length&&i.setTargeting("unsafe",!0));var a=(j[n.id]=n).config.dfp_bidder_name||n.config.bidder_name,s=n.cpm,o=_.libSettings().cur;o&&(o.exclude&&-1<o.exclude.indexOf(n.config.bidder_id)?y.log("Currency conversion skipped: ",n.config.bidder_name):(y.log("Currency conversion: USD = ",s,"; Rate = ",o.rate,"; DFP = ",o.rate*s),s*=o.rate));var d=y.toRange(s,t),c=d.kv;x.trigger("gpt.modify_hbc",e,i,{bid:n,range:d,mod:function(e){return s=e,d=y.toRange(s,t),c=d.kv,d}}),y.qs("adb_force_bidder")?(a="force",c=""):y.qs("adb_force_sf_bidder")&&(a="forcesf",c=""),y.qs("adb_force_pbuc")&&(a="force_pbuc",c="",y.log("Forcing PBUC"));e=_.libSettings().vs_threshold;if("function"==typeof e)try{var u=e(s);u&&i.setTargeting(_.kvp("adb_vs"),u)}catch(e){y.err("HVfail",e)}i.setTargeting(_.kvp("adb_bdr"),[a]),i.setTargeting(_.kvp("adb_hbc"),[c]),i.setTargeting(_.kvp("adb_adid"),[n.id]),_.libSettings().track_mtype&&n.extras&&n.extras.mediaType&&i.setTargeting(_.kvp("adb_mtype"),[n.extras.mediaType]),y.log("Set GPT targeting for ",i.getAdUnitPath()," / ",i.getSlotElementId(),": ",a,c),U(i,s)}(t),r.push(t.get("gpt_slot"))}catch(e){y.err("Err setting unit ",t.alias,t.get("dom_id"),e)}});var e,t=C.concat(r);if(C=[],T(t),"function"==typeof n&&n(o),R&&!(t=F("AC",t)).length)return y.err("All units cancelled",o.id);(R||a)&&(Q(),y.log(z,"GPT Batch: ",t.length),(e=_.libSettings("gpt_refresh_options",i))&&(i=e),x.trigger("gpt.before_request",t,i,a),AdBridg.gpt.pubads().refresh(t,i),x.trigger("gpt.request_adbridg",o,a))})})}function E(){var e,t;S&&(e=I.length,(I=F("PT",I)).length?(y.isdebug()&&(t=[],y.each(I,function(e){t.push(e.getAdUnitPath()+" / "+e.getSlotElementId())}),y.log("Non-bid request with",I.length," units: ",t)),pe("rp",function(){var e,t=I;I=[],t.length&&(Q(),T(t),y.log(z,"GPT PT Batch: ",t.length),e=_.libSettings("gpt_refresh_options")||{},x.trigger("gpt.before_request",t,e),AdBridg.gpt.pubads().refresh(t,e),x.trigger("gpt.request_passthrough",t))})):e&&y.err("PT units cancelled"))}function T(e){y.each(e,function(e){var t=e.getSlotElementId(),n=(N[t]||0)+1;N[t]=n;t=_.libSettings().track_imps;if(t)try{"string"!=typeof t&&(t="1:1-11");for(var i=Math.floor(y.toRange(n,t).kv.split("-")[0]),r=e.getTargeting("adb_imp"),o=r.length-1;0<=o;--o)String(r[o]).match(/^\d+$/)&&r.splice(o,1);r.push(i),e.setTargeting(_.kvp("adb_imp"),r)}catch(e){y.err("Counter failed: ",e)}})}function P(e){y.log("Locked slot: ",e.getSlotElementId()),L[e.getSlotElementId()]=!0}function O(e,i,r){var o=[],o=Number(e[0])===e[0]?[e]:[].concat(e),a=[];if(y.each(o,function(e,t){if("string"==typeof e[t]){var n=e[t].split("x");return 0!==n[0]&&0!==n[1]||y.err("0 size in",i,r,e[t]),void(e[t].match(/^\d+x\d+$/)||a.push(t))}0!==e[0]&&0!==e[1]||y.err("0 size in",i,r,e.join?e.join("x"):e),o[t]=e.join("x")}),a.length)for(var t=a.length-1;0<=t;--t)o.splice(t,1);return o}var D=function(e){var t,n,i=_.libSettings().gpt_clear_kvps,r=[],o=e.getTargetingMap(),a=!1;for(n in o)o.hasOwnProperty(n)&&("adb_"===n.substr(0,4)||i&&0<=i.indexOf(n)?a=!0:r.push([n,o[n]]));if(a)for(e.clearTargeting(),t=0;t<r.length;++t)e.setTargeting(r[t][0],r[t][1]);M(e)},M=function(e){var t=_.libSettings().gpt_exclusions;if(t){for(var n=!1,i=e.getCategoryExclusions(),r=i.length-1;0<=r;--r){var o=i[r];t.hasOwnProperty(o)&&(i.splice(r,1),n=!0)}if(n)for(e.clearCategoryExclusions(),r=0;r<i.length;++r)e.setCategoryExclusion(i[r])}},U=function(e,t){var n=_.libSettings().gpt_exclusions;if(n){var i,r=[];for(i in n){var o=n[i];("function"==typeof o&&o(e,t)||o<=t)&&(e.setCategoryExclusion(i),r.push(i))}r.length&&y.log("Set GPT category exclusions for ",e.getAdUnitPath()," / ",e.getSlotElementId(),": ",r)}},q={},N={},L={},F=y.wrapAsync(function(r,e,o){var a=_.libSettings().max_imp_ctr;"function"==typeof a&&(a=a());var s=[];return y.each(e,function(e){var t=e&&e.getSlotElementId?e:e.get("gpt_slot");if(t){var n=t.getSlotElementId();if(!b[n]){if(G("F"+r,n))return y.log("Slot excluded; element hidden",n);if(o){if(L[t.getSlotElementId()])return y.log("Cannot refresh locked dom_id: ",t.getSlotElementId());if(a){var i=N[n]||0;if(a<=i)return q[n]?y.log("Slot excluded; too many imps: ",t,i+" > "+a):y.err("Slot imp max: ",t.getAdUnitPath(),n,a)}}n=[];if(x.trigger("gpt.filter_slot",r,t,o,n),n.length)return y.log("Module blocking",r,t,n);s.push(e)}}}),s}),G=function(e,t,n){var i=y.dom_invisible(t);if(i){n=n||0;var r=_.libSettings().block_invisible;if(r="function"==typeof r?r(e,t,i):r)return y.logl("dei","DEI.R",e,t,i,n),i;y.logl("dei","DEI.A",e,t,i,n)}return!1};window.AdBridg.defineSlot=y.wrapAsync(function(e,t,n){var i=G("DS",n);if(i)return y.log("Slot definition blocked: ",n,i),!1;var r=_.libSettings().block_slot;if("function"==typeof r)try{if(r(e,n))return void y.err("Blocking slot:  ",e," with dom_id: ",n)}catch(e){y.err("DefineOverride",e)}var o=_.libSettings().override_define;if("function"==typeof o)try{var a=o(e,t,n);if(!1===a)return y.log("Param override prevented defineSlot",e," dom_id=",n),!1;"object"==typeof a&&(a.dfp_ad_unit_path&&(e=a.dfp_ad_unit_path),a.dfp_sizes&&(t=a.dfp_sizes),a.dom_id&&(n=a.dom_id))}catch(e){y.err("DefineOverride",e)}t&&(!y.isarr(t)||t.length)||(w.ctr("dsea"),t=[1,1]);i=AdBridg.gpt.defineSlot(e,t,n);if(!i)return i;i.addService(AdBridg.gpt.pubads()),P(i);var r=O(t,e,n),o=r.join(","),s=new u({dom_id:n,gpt_slot:i,gpt_sizes:o,imp_ctr:(N[n]||0)+1});s.restrictSizesTo(r),h[n]=o;a=400,r=_.libSettings().lazy;return"number"==typeof(r="function"==typeof r?r(s,i,n,_.libSettings()):r)&&(a=r),r&&(y.log("Requiring lazy: ",n,"distance=",a),s.set("lock.lazy",1),r=_.libSettings().lazy_measurement_filter,y.dom(n,a,0,function(){y.logl("wf",z,"unit triggered lazy load",s.alias,s.get("dom_id")),s.set("lock.lazy",!1),R?AdBridg.serve():AdBridg.display(n)},r,_.libSettings().lazy_compatible_collapse)),f.push(s),y.log(z,"Defined slot: ",e,n,o),x.trigger("gpt.define",s,i,e,t,n),_.libSettings().allow_serve_from_display&&v[n]&&(y.logl("wf",z,"triggering serve from define after display",n),AdBridg.serve()),R||(t="function"==typeof(t=_.libSettings().nonsra_poll)?t():t)&&(y.log("Nonsra poll for DOM ids"),W(n)),i}),window.AdBridg.defineOutOfPageSlot=y.wrapAsync(function(e,t){var n=AdBridg.gpt.defineOutOfPageSlot(e,t);if(!n)return n;n.addService(AdBridg.gpt.pubads()),P(n);var i=new u({dom_id:t,gpt_slot:n,gpt_sizes:""});return f.push(i),y.log(z,"Defined OOP slot: ",e,t),x.trigger("gpt.define",i,n,e,!1,t),_.libSettings().allow_serve_from_display&&v[t]&&(y.logl("wf",z,"triggering serve from defineOOP after display",t),AdBridg.serve()),n});var V={},W=function(t){V[t]=V[t]||{ct:0,tx:-1};var n=V[t];clearTimeout(n.tx),10!==n.ct?(n.ct+=1,n.tx=setTimeout(y.wrapAsync(function(){if(!v[t]){var e=!!document.getElementById(t);if(y.log("Nonsra display poll #"+n.ct+": ",t,"; display received =",!!v[t],"; dom exists =",e),e)return y.log("Nonsra issuing display from poll",t),void AdBridg.display(t);W(t)}}),1e3)):y.log("Nonsra display poll is giving up on",t)};window.AdBridg.display=y.wrapAsync(function(e,t,n){if(n?(AdBridg.defineSlot(e,t,n),AdBridg.serve()):n=e,v[n]=!0,y.logl("wf",z,"display received",n),_.libSettings().allow_serve_from_display&&f.length&&(y.logl("wf",z,"triggering serve from display",n),AdBridg.serve()),S=!0,!R){f.length&&(m=m.concat(f),f=[]);for(var i=m.length-1;0<=i;--i){var r,o=m[i].get("dom_id");v[o]&&((r=m.splice(i,1)[0]).get("gpt_sizes")?f.push(r):y.logl("Ignoring display for unit with no sizes",o))}return f.length?(y.logl("wf",z,"nonsra issuing serve",f.length),void ee(function(i,r){pe("dn",function(){i?i.eachUnit(function(e){y.logl("wf",z,"display resolved",e.get("dom_id"),"auction=",i),AdBridg.gpt.display(e.get("dom_id")),x.trigger("gpt.request_nosra",e.get("dom_id"))}):(y.logl("wf",z,"display resolved",r," as passthrough"),AdBridg.gpt.display(r),x.trigger("gpt.request_nosra",r));var e=m.length;if(e){y.logl("wf",z,"nonsra units queued: ",e);for(var t=e-1;0<=t;--t){var n=m[t].get("dom_id");if(v[n]){setTimeout(function(){AdBridg.display(n)},0);break}}}})})):void y.logl("wf",z,"nonsra display waiting on definition/serve")}pe("ds",function(){Q(),y.logl("wf",z,"display resolved",n),AdBridg.gpt.display(n)}),E()}),window.AdBridg.refresh=y.wrapAsync(function(e,t,n){if(e=e||AdBridg.gpt.pubads().getSlots(),_.libSettings().allow_serve_from_refresh&&f.length){for(var i=e.length-1;0<=i;i--)for(var r=f.length-1;0<=r;r--)e[i]===f[r].get("gpt_slot")&&e.splice(i,1);if(AdBridg.serve(),!e.length)return}var o,a,s,d,c=e.length;e=F("RF",e,!0),y.logl("wf",z,"refresh: ",c,"slots requested; ",c-e.length,"filtered out;",e.length,"remaining."),e.length?(o=new p,!(a=!0)!==n&&"no_auction"!==_.libSettings().refresh||(a=!1),s=[],d=[],y.each(e,function(e){try{D(e)}catch(e){return y.err("Failed to clear slot: ",e)}var t=e.getSlotElementId();P(e);var n,i,r=h[t]||"";A[t]&&(i=(n=A[t].adb||A[t].gpt)&&"0x0"!==n&&n.match(/^\d{2,}x\d{2,}\d/),y.logl("sz","Refresh size restriction for",t,"=",n,"; is_valid=",i),i&&(r=n));t=new u({dom_id:t,gpt_slot:e,gpt_sizes:r,is_refresh:!0,imp_ctr:(N[t]||0)+1});a&&(_.configureUnit(t),y.logl("sz","Refresh restricting sizes to ",r),t.restrictSizesTo(r.split(","))),t.hasBidReqConf()?o.addUnit(t):(d.push(e.getAdUnitPath()+" / "+e.getSlotElementId()),s.push(e))}),s.length&&(y.log("Refreshing",s.length,"non-bid units: ",d),pe("rn",function(){Q(),T(s),y.log(z,"GPT RF Batch: ",s.length);var e=_.libSettings("gpt_refresh_options",t);e&&(t=e),x.trigger("gpt.before_request",s,t,!0),AdBridg.gpt.pubads().refresh(s,t),x.trigger("gpt.request_passthrough",s,!0)})),o.hasUnit()&&(k.push(o),o.execute(B(null,t,!0)))):c&&y.err("RF units cancelled")});var K={},X=y.wrapAsync(function(e){var t=String(e.message||e.data);if("string"==typeof e.data)try{var n=JSON.parse(e.data);if("Prebid Request"===n.message)return void AdBridg.render({safeframe:!0,source:e.source,origin:e.origin,pbuc:!0},n.adId)}catch(e){}var i=t.substr(0,9),t=t.substr(10);if("adbsrverr"===i)return y.err("Safeframe error: ",t);if("adbsrvlog"===i)return y.log("Safeframe: ",t);if("adbvidend"===i)return x.trigger("bid.outstream_end",t);if("adbductag"!==i)return"adbconfbl"===i?x.trigger("adb.confiant_block_sf",t):"adbsrvreq"===i?K.hasOwnProperty(t)?y.err("SafeframeDupe:",t):void AdBridg.render({safeframe:!0,source:e.source},t):void 0;i=JSON.stringify((t=ie(i=t),i={},t&&(t=t.pbjsBid.adserverTargeting,i.targetingMap=t,i.hbPb=t.hb_pb,i.size=t.hb_size),i));e.source.postMessage("adbductape:"+i,e.origin)});window.addEventListener?window.addEventListener("message",X,!1):document.attachEvent&&window.attachEvent("onmessage",X);function J(e,t,n){return e?(e=e.replace(/\$\{AUCTION_PRICE\}/g,t),n&&n.clickThrough?e.replace(/\$\{CLICKTHROUGH\}/g,n.clickThrough):e):""}window.AdBridg.render=y.wrapAsync(function(t,e,n){var i=j[e],r=!1;if(i||(r=!0,i=ie(e))){r?y.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," [override] creative from ",i.config.bidder_name," BR ",i.config.id):(c=i._origin?"(pooled bid from "+i._origin.config.unit.unique_id+")":"",y.log("Unit ",i.config.unit.alias," rendering ",i.width+"x"+i.height," creative from ",i.config.bidder_name,c," BR ",i.config.id));var o=i.config.unit.get("dom_id"),a=y.dom_invisible(o);G("AR",o,i.config.bidder_id),a&&y.log("AdBridg render detected invisible container at time of render:",o,a);var s={config:i.config.unit.alias,bidder:i.config.bidder_name,size:i.width+"x"+i.height,extras:i.extras,dom_id:o};r&&(s.override=1);var d=JSON.stringify(s);i.creative=J(i.creative,i.cpm,n),i.creative_url=J(i.creative_url,i.cpm,n),i.config.unit.bidRendered(i,s);var c=0,a=n&&n.pbuc;if(t.pbuc)i.creative&&(i.creative="\x3c!-- AdBridg Delivery PBUC (SF): "+d+" --\x3e"+i.creative),t.source.postMessage(JSON.stringify({message:"Prebid Response",ad:i.creative,adUrl:i.creative_url,adId:e,width:i.width,height:i.height}),t.origin),c=1;else if(t.safeframe&&t.source&&t.source.postMessage){var u=_.libSettings().pmmutatefn;if(!i.creative)return y.err("AD1245F Safeframe render fail: no creative");var p={ad:"\x3c!-- AdBridg Delivery (SF): "+d+" --\x3e"+i.creative},l=JSON.stringify(p);"function"==typeof u?p=u(i,p):x.trigger("adb.confiant_pmmutate",i,p);c=JSON.stringify(p)!==l?2:3;t.source.postMessage("adbsrvad:"+JSON.stringify(p),"*")}else if(i.creative){n=_.libSettings().pubrenderfn,u="pubrenderfn",l={};x.trigger("adb.get_ff_renderer",l);p=Object.keys(l);p.length&&(n?y.log("Module renderers ignored; dbmock pubrenderfn set"):(u=p[0],1<p.length&&y.err("More than one module provided renderer; using",u,"of",JSON.stringify(p)),n=l[u]));l=!1;"function"==typeof n&&(t.write("\x3c!-- AdBridg Delivery (ER="+u+"): "+d+" --\x3e"),n(t,i.creative,i.config.bidder_name,i.width,i.height,i,a)?(l=!0,y.log("Creative rendered externally"),c=a?"B":4):y.log("External render skipped")),l||(t.write("\x3c!-- AdBridg Delivery: "+d+" --\x3e"),t.write(i.creative),t.close(),c=a?8:5)}else if(i.creative_url)try{var g=y.iiframe();g.width=i.width,g.height=i.height,g.style.display="inline",g.style.overflow="hidden",g.src=i.creative_url,t.body.appendChild(document.createComment("AdBridg Delivery: "+d)),t.body.appendChild(g),c=a?9:6}catch(e){return y.err("AD1245F Delivery failure from ",i.config.bidder_name," / ",i.config.bidder_unit_id,e)}else{if("function"!=typeof i.render)return y.err("AD1245F No creative from ",i.config.bidder_name," / ",i.config.bidder_unit_id);i.rawbid.adUnitCode=document.getElementById(o).children[0].id,document.getElementById(i.rawbid.adUnitCode).innerHTML="";try{i.render(),y.rec("winner.render:"+i.id)}catch(e){return y.err("AD1245F Renderer",e)}c=a?"A":7}w.bidRendered(i,c,r);var f,m,h=i.resize_pad_top||!1,b=document.getElementById(o);if(b.style.textAlign="center",(m=(f=b).getElementsByClassName("adbridg-dyn-pad")).length&&y.each(m,function(e){e.parent.removeChild(e)}),h&&((m=y.prepend(f,"span")).className="adbridg-dyn-pad",m.innerHTML="&nbsp;",m.style="display:block;width:1px;height:"+h+"px;overflow:hidden;",(m=document.createElement("span")).className="adbridg-dyn-pad",m.innerHTML="&nbsp;",m.style="display:block;width:1px;height:"+h+"px;overflow:hidden;",f.appendChild(m)),t.safeframe)try{var v=b.getElementsByTagName("iframe");y.each(v,function(e){e.contentWindow===t.source&&(y.logl("RS","RS SF element: ",e.id,i.width,i.height),y.resize_element(e,i.width,i.height),String(e.parentNode.id).match(/google_ads_iframe.*container/)&&(y.logl("RS","RS SF parent: ",e.parentNode.id,i.width,i.height),y.resize_element(e.parentNode,i.width,i.height)))})}catch(e){y.err("Frame resize fail: ",e)}else t.defaultView&&t.defaultView.frameElement&&(t.defaultView.frameElement.width=i.width,t.defaultView.frameElement.height=i.height),y.logl("RS","RS iframe: ",i.width,i.height),y.resize_iframe(window,t,i.width,i.height);_.libSettings().refresh_keep_size&&(A[o]||(A[o]={gpt:"",adb:""}),A[o].adb=s.size,y.log("SIZE REFRESH KEEPING ADB: ",o,A[o]));o=_.libSettings().post_render;"function"==typeof o&&o(i)}else y.err("AD1245F Render failed for ID ",e)}),window.AdBridg.getSizes=y.wrapAsync(function(e){var t=[];return y.each(e,function(e){t.push([e.viewport,e.sizes])}),ve(t)});var H=[],$=($=y.qs("adb_restrict_size"))&&$.split(",");window.AdBridg.sizeMapping=y.wrapAsync(function(){var e,r=[],o=AdBridg.gpt.sizeMapping(),a={addSize:y.wrapAsync(function(e,t){if($){for(var n=t.length-1;0<=n;--n){var i=t[n].join("x");0<=$.indexOf(i)&&(y.log("adb_restrict_size - Size ignored",i),t.splice(n,1))}if(!t.length)return a}return o.addSize(e,t),r.push([e,t]),a}),build:y.wrapAsync(function(){return e=o.build(),H.push({gpt_map:e,sizes:r}),e})};return a}),window.AdBridg.useSizeMapping=y.wrapAsync(function(e,t,n){var i,r=!1,o=e.getSlotElementId(),a=e.getAdUnitPath();for(e.defineSizeMapping(t),i=H.length-1;0<=i;--i)if(H[i].gpt_map===t){r=H[i].sizes;break}if(r){var s=ve(r),d=O(s,a,o),s=d.join(",");h[o]=s;var c=n||!1;if(!c)for(i=f.length-1;0<=i;--i)if(f[i].get("gpt_slot")===e){c=f[i];break}if(!c)return y.err("No unit for size map: ",a,o);c.set("gpt_sizes",s),c.restrictSizesTo(d),h[o]?y.log("Applied size mapping to ",o," / ",a,": ",s):(b[o]=1,y.log("Excluding unit ",o," / ",a," because it has no valid sizes"))}else y.err("Size mapping not found: ",a,o)}),window.AdBridg.resetInternals=function(){};var Y=!(window.AdBridg.destroySlots=function(e){e=e||AdBridg.gpt.pubads().getSlots();var n=[];return y.each(e,function(e){var t;e&&(t=e.getSlotElementId(),delete N[t],delete h[t],delete A[t],delete b[t],delete L[t],delete v[t],y.undom(t),x.trigger("gpt.destroy",e,t),n.push(t))}),y.log("Destroyed slots: ",n),AdBridg.gpt.destroySlots(e)}),Q=function(){var e;Y||(Y=!0,"function"==typeof(e=_.libSettings().before_gpt)&&y.wrapAsync(e)(),x.trigger("gpt.before_enable_services"),AdBridg.gpt.enableServices(),x.trigger("gpt.after_enable_services"))},Z=!1,ee=y.wrapAsync(function(e){y.logl("wf",z,"serve called with",f.length,"pending units");var t=!1;Q();for(var n=!1,i=0;f.length>i;){var r=f.shift();if(r.get("lock.lazy"))y.logl("wf",z,"serve skipped lazy",r.alias,r.get("dom_id")),i+=1,f.push(r);else{var o=r.get("dom_id");if(b[o]||!G("AS",o))if(_.configureUnit(r),r.hasBidReqConf()){if(l){var a=g.indexOf(r.id);if(0<=a){var s=!1;if(l.eachUnit(function(e){var t,n,i;e.id===r.id&&(s=!0,g.splice(a,1),y.log("Proxy into preload ",r.alias),t=r.get("gpt_slot"),n=r.get("dom_id"),i=h[n]||r.get("gpt_sizes")||"",e.set({dom_id:n,gpt_slot:t,gpt_sizes:i}),e.restrictSizesTo(i.split(",")),x.trigger("unit.pre_attach",e))}),s){n=!0;continue}}}(t=t||new p).addUnit(r)}else R?I.push(r.get("gpt_slot")):(T([r.get("gpt_slot")]),y.thread(e)(!1,r.get("dom_id")));else y.err("Slot rejected before auction, element hidden:",o)}}(t||l)&&_.libSettings().gpt_keep_oop&&I.length&&(y.log("Batching passthrough units with auction units"),C=C.concat(I),I=[]),t&&(k.push(t),t.execute(B(e)),t=!1),n&&!Z&&(Z=!0,me(B())),E()}),te=!1;window.AdBridg.serve=function(e){if(clearTimeout(te),R){y.logl("wf",z,"queuing serve");var t=_.libSettings().batch_delay;if(0===(t="function"==typeof t?t(f):t))return y.log("Starting auctions ASAP."),ee(e);t=t||100,te=setTimeout(function(){ee(e)},t)}else for(var n=f.length-1;0<=n;--n){var i=f[n].get("dom_id");if(v[i]){setTimeout(function(){AdBridg.display(i)},0);break}}};function ne(e){for(var t,n,i=k.length-1;0<=i&&!(t=(n=k[i]).findUnit(e));--i);return!!(t=!t&&l?(n=l).findUnit(e):t)&&{auction:n,unit:t}}var ie=function(e){for(var t=k.length-1;0<=t;--t){var n=k[t].getBid(e);if(n)return n}return!1},re=y.wrapAsync(function(t){var e=t.slot.getSlotElementId();!t.isEmpty&&G("RE",e)&&y.log("Slot rendered from GPT, but element hidden by CSS:",e);try{i=t.slot,y.log("Unlocked slot: ",i.getSlotElementId()),L[i.getSlotElementId()]=!1,D(i)}catch(e){y.err("Unlock failed")}var n=N[e];x.trigger("gpt.render_raw",t,n);var i=ne(function(e){return e.get("gpt_slot")===t.slot});if(_.libSettings().refresh_keep_size&&t.size&&2===t.size.length&&(A[e]||(A[e]={gpt:"",adb:""}),A[e].gpt=t.size.join("x")),i){if(!i.auction)return y.err("AUQ",t.slot.getAdUnitPath(),t.slot.getSlotElementId());AdBridg.gpt===window.googletag?w.gptRendered(i.auction,i.unit,t):w.enhRendered(i.auction.instancectr,i.unit.id,t),x.trigger("gpt.render",i.unit,t,n),y.qdusp()}else x.trigger("gpt.render_pt",!1,t,n)}),oe=y.wrapAsync(function(t){x.trigger("gpt.viewed_raw",t);var e=ne(function(e){return e.get("gpt_slot")===t.slot});if(e){w.gptViewed(e.auction,e.unit);try{var n=_.libSettings().post_view;"function"==typeof n&&n(t,e.unit)}catch(e){y.err("PostView fail",e)}x.trigger("gpt.viewed",t.slot,e.unit);e=t.slot.getSlotElementId();G("VE",e)&&y.log("Slot viewed from GPT, but element hidden by CSS:",e)}}),ae=[],se={},de=!1;window.AdBridg.lock=function(e){if(se[e])return se[e]=null,y.log("-== GPT lock already cleared: ",e);y.log("-== GPT locked by: ",e),ae.push(e)},window.AdBridg.unlock=function(e,t){for(var n=!1,i=0;i<ae.length;++i)if(ae[i]===e){y.log("-== GPT lock cleared: ",e),ae.splice(i,1),n=!0;break}n||t||(se[e]=!0,y.log("-== GPT unrecognized lock cleared: ",e)),le()};var ce,ue=[],pe=function(e,t){ue.push({n:e,f:y.wrapAsync(t)}),le()},le=function(){if(!ae.length&&!de){for(de=!0;ue.length;)ue.shift().f();setTimeout(function(){de=!1,ue.length&&le()},0)}},ge=0,e=function(){AdBridg.cmd.unshift(function(){window.AdBridg.lock("window.focus"),ge<=99&&(ge+=1),w.meta("wb",ge)})},X=function(){AdBridg.cmd.push(function(){window.AdBridg.unlock("window.focus",!0),w.meta("wb",0)})};window.addEventListener?(window.addEventListener("blur",e),window.addEventListener("focus",X)):window.attachEvent&&(window.attachEvent("onblur",e),window.attachEvent("onfocus",X)),y.isdebug()&&(AdBridg.auctions=k,AdBridg.utils=y);var fe=y.wrapAsync(function(){clearTimeout(ce);var e={delay:!1};if(x.trigger("adb.init_check",e),"number"!=typeof e.delay){x.trigger("adb.init"),AdBridg.gpt.pubads().addEventListener("slotRenderEnded",re),AdBridg.gpt.pubads().addEventListener("impressionViewable",oe),d=!0;var t=_.libSettings().initfn;for(t&&AdBridg.cmd.push(t);c.length;){var n=c.shift();AdBridg.cmd.push(n)}}else ce=setTimeout(fe,e.delay)});window.AdBridg.lazy=function(e,t,n,i){"function"==typeof n&&(i=n,n=0),y.dom(e,t,n,i)},y.log("First execution."),_.afterConsent(function(e){if(!e||!e.gdprApplies||e.consentString){e=_.libSettings().preload&&_.libSettings().preload()||[];if(e.length){function t(n){function i(e){function t(e){2===e.length&&1<e[0]&&1<e[1]?n.push(e):y.err("Invalid preload size: ",e)}var n=[];return y.isarr(e)&&(y.isarr(e[0])?y.each(e,t):t(e)),n}var r=i(n.size||[]);return function(){var t,e=AdBridg.defineSlot(n.gpt_path,r,n.dom_id);y.isarr(n.size_map)&&(t=AdBridg.sizeMapping(),y.each(n.size_map,function(e){t.addSize(e.viewport,i(e.sizes))}),t=t.build(),e.defineSizeMapping(t),AdBridg.useSizeMapping(e,t)),AdBridg.serve()}}for(var n=AdBridg.cmd.length;0<=n;n--){var i=AdBridg.cmd[n];i&&i.gpt_path&&AdBridg.cmd.splice(n,1,t(i))}e&&e.length&&(l=new p,y.each(e,function(e){if(e=parseInt(e),y.log("Preloading",e),e){var t=new u;if(_.configureUnit(t,e),!t.hasBidReqConf())return y.err("Preload bad id",e);g.push(e),l.addUnit(t)}}),l.hasUnit()&&(y.log("Preload kickoff",l),l.execute(y.wrapAsync(function(e){y.log("Preload complete"),o&&o(e)}))))}}});var me=function(e){l.isDone()?e(l):o=e};_.afterConsent(function(){AdBridg.gpt.cmd.push(function(){y.log("Initializing. SRA is",(R?"enabled":"disabled")+"."),R&&(AdBridg.gpt.pubads().enableSingleRequest(),AdBridg.gpt.pubads().disableInitialLoad()),fe()})});function he(){return k}y.wrapAsync(function(){for(w.init(),AdBridg.cmd.push=AdBridg.cmd.unshift=function(t){if(y.qs("adb_critfail"))throw new Error("Simulating critical failure");if("function"==typeof _.libSettings().cmd_override)try{var e=_.libSettings().cmd_override(t);if(!e)return void y.log("AdBridg command cancelled",t);t=e}catch(e){y.err("CmdOverrideFail",e)}var n,i;if("object"==typeof t&&((t=y.copy(t)).targeting&&(n=t.targeting,delete t.targeting,y.log("Publisher targeting set queued:",n),i=y.genID("gpt_targeting_"),AdBridg.lock(i),x.trigger("pub.set_targeting",n),AdBridg.gpt.cmd.push(function(){y.each(n,function(e,t){AdBridg.gpt.pubads().setTargeting(t,e)}),y.log("Publisher targeting set complete:",n),AdBridg.unlock(i)})),t.config&&(_.proc(t.config),delete t.config),!t.gpt_path&&t.events&&(y.each(t.events,function(e,t){x.on(t,e)}),delete t.events),t.action&&(y.log("Publisher event triggered: ","pub."+t.action),x.trigger("pub."+t.action),delete t.action),!Object.getOwnPropertyNames(t).length))return;if(d){if("object"==typeof t&&(t.gpt_path||t.length))try{y.log("Initialization command object processing:",t);function r(r){AdBridg.gpt.cmd.push(function(){var n,e;if(r.oop)n=AdBridg.defineOutOfPageSlot(r.gpt_path,r.dom_id);else if((n=AdBridg.defineSlot(r.gpt_path,r.size||[1,1],r.dom_id))&&r.size_map){for(var t=AdBridg.sizeMapping(),i=0;i<r.size_map.length;i++)t=t.addSize(r.size_map[i].viewport,r.size_map[i].sizes);t=t.build(),n.defineSizeMapping(t),AdBridg.useSizeMapping(n,t)}n&&r.targeting&&y.each(r.targeting,function(e,t){n.setTargeting(t,e)}),n&&r.events&&(r.events["gpt.defined"]&&r.events["gpt.defined"](n),(e=function(t,e){r.events[t]&&AdBridg.gpt.pubads().addEventListener(e,function(e){e.slot===n&&r.events[t](n,e)})})("gpt.rendered","slotRenderEnded"),e("gpt.viewed","impressionViewable"),e("gpt.visibilityChanged","slotVisibilityChanged")),n&&AdBridg.display(r.dom_id)})}if(t.length)for(var o=0;o<t.length;++o)r(t[o]);else r(t);t=function(){AdBridg.serve()}}catch(e){y.err("CmdObj fail",e)}"function"==typeof t&&setTimeout(function(){try{t.call()}catch(e){y.err("AdBridg.cmd had error: ",String(t).substr(0,30),e)}},0)}else c.push(t)};AdBridg.cmd.length;){var e=AdBridg.cmd.shift();AdBridg.cmd.push(e)}r(he)})()}}function be(){}function ve(e){var t=y.vp(),n=t.w,r=t.h,o=!1,a=[];for(i=e.length-1;0<=i;--i){var s=e[i][0];if(n>=s[0]&&r>=s[1]){if(o){if(o[0]>s[0])continue;if(o[0]===s[0]&&o[1]>s[1])continue}o=s,a=e[i][1]}}return a}},{"../analytics.js":11,"../auction.js":12,"../config.js":13,"../mockprebid.js":16,"../modules.js":17,"../unit.js":37,"../utils.js":38}],16:[function(e,t,n){var i=e("./utils");t.exports=function(a){for(window.pbjs.renderAd=function(e,t,n){i.log("PBJS renderAd override",t,n),(n=n||{}).pbuc=!0,window.AdBridg.render(e,t,n)},window.pbjs.que.push=AdBridg.cmd.push;window.pbjs.que.length;){var e=window.pbjs.que.shift();AdBridg.cmd.push(e)}window.pbjs.getBidResponses=function(){var t=[];return i.each(a(),function(e){t=t.concat(e.toPrebid().bidsReceived)}),t},window.pbjs.getAllWinningBids=function(){var t=[];return i.each(a(),function(e){t=t.concat(e.toPrebid().winningBids)}),t},window.pbjs.getAllPrebidWinningBids=function(){var t=[];return i.each(a(),function(e){t=t.concat(e.toPrebid().prebidWinningBids)}),t},window.pbjs.getAdserverTargeting=function(){var n={};return i.each(a(),function(e){i.each(e.toPrebid().prebidWinningBids,function(t){n[t.adUnitCode]={},i.assign(n[t.adUnitCode],t.adserverTargeting),i.each(Object.keys(t.adserverTargeting),function(e){n[t.adUnitCode][e+"_"+t.bidder]=t.adserverTargeting[e]})})}),n},window.pbjs.getBidResponsesForAdUnitCode=function(t){var n=[];return i.each(a(),function(e){i.each(e.toPrebid().bidsReceived,function(e){e.adUnitCode===t&&n.push(e)})}),n},window.pbjs.getHighestCpmBids=function(){var t=[];return i.each(a(),function(e){e=e.toPrebid().bidsReceived.reduce(function(e,t){return e.cpm===t.cpm?e.timeToRespond<t.timeToRespond?e:t:e.cpm<t.cpm?t:e});t.push(e)}),t},window.pbjs.findBidByAdId=function(e){for(var t=null,n=0;n<a().length;n+=1){for(var i=a()[n].toPrebid().bidsReceived,r=0;r<i.length;r+=1){var o=i[r];if(o.adId===e){t=o;break}}if(t)break}return t}}},{"./utils":38}],17:[function(d,e,t){function n(e){r.push(e)}var c=d("./utils.js"),i={},r=[],o=["gpt.after_enable_services","consent.check_complete"],a={},s={},u={on:function(e,t){c.isarr(e)||(e=e.split(",")),c.each(e,function(e){a[e]?t(e):(s[e]||(s[e]=[]),s[e].push(t))})},trigger:null};u.trigger=t.trigger=c.wrapAsync(function(e){var t=arguments,n=(s[e]||[]).concat(s["*"]||[]);c.each(n,c.wrapAsync(function(e){e.apply(null,t)})),-1<o.indexOf(e)&&(a[e]=1)});var p=!1;c.onerr(c.wrapAsync(function(){return p?(console&&console.log("AdBridg nested module errors"),void c.pixel("https://adspsp.com/$CUSTOMER_PUBLIC_ID$/500/2/1/?e=errnest")):(p=!0,t.trigger("error",arguments),void(p=!1))})),t.on=c.wrapAsync(function(e,t){u.on(e,t)}),t.setup=function(e){i=e};try{n(new(d("./modules/confiant.js"))({propertyId:"cmoHx-7NMqx3kvsCb7fFcqWf2C8",refreshBlock:!0,v2:!0},u)),n(new(d("./modules/gamkvp.js"))({},u)),n(new(d("./modules/criteoid.js"))({},u)),n(new(d("./modules/pubcid.js"))({},u)),n(new(d("./modules/merkleid.js"))({vendor:"idsv2",sv_cid:"5344_04531",sv_pubid:"11314"},u)),n(new(d("./modules/sharedid.js"))({use_pubcid:!0},u)),n(new(d("./modules/nextrollid.js"))({partner_id:"1013"},u)),n(new(d("./modules/britepoolid.js"))({params:{api_key:"f0bc17cb-cf56-4ef4-9b26-34ea474310f8"}},u)),n(new(d("./modules/liverampid.js"))({use_ats:!0,load_ats:!0,defer:function(t){function e(){var e;n||(n=!0,e=i.libSettings().pub.cc,"US,AU,CA".match(e)?t():c.log("LiveRamp disabled in cc",e))}var n=!1;i.libSettings&&i.libSettings().pub?e():AdBridg.cmd.push({events:{"pub.config":e}})},abtest:1,pid:1974,params:{detectionType:"scrapeAndUrl",detectDynamicNodes:!0,urlParameter:"rvid",cssSelectors:["input[type=email]"]},hasId:function(){return!!c.qs("rvid")}},u)),n(new(d("./modules/verizonid.js"))({pixelId:58452,email:function(e){e(c.qs("rvid"))}},u)),n(new(d("./modules/icu.js"))({sample:.01,watch_gpt:!0,modify_gpt_path:function(e){return e.replace("/4788/psy/pagenumber","p")},modify_dom_id:function(e){return e.replace("__slot","")}},u)),n(new(d("./modules/lzest.js"))({},u)),n(new(d("./modules/gprog.js"))({bidders:{rubicon:{deal:"hb_deal_rubicon",adid:"hb_adid_rubicon",active_deals:["791204","791298","790712","790716","790724","790730","791262","792732","793320","789028","789024","786998","784230","784670","784688","784692","784702","784716","784720","783994","783616","780296","780298","780300","779668","768314","713428","765900","766348","766800","228138","289688","537706","537708","551228","555592","557266","557626","563118","563120","571722","577410","585212","587438","587740","593120","598926","601724","611022","617878","617898","617902","617904","636652","639656","640960","644612","646450","646454","646456","646458","646460","646462","646464","650190","650682","650688","652304","652318","652674","652676","652814","653364","653372","653374","653376","653618","653620","653624","653626","653628","653630","654156","654158","655884","656474","658412","658414","661672","661676","662338","662342","681840","681842","682346","683114","683116","683118","683120","683122","683124","683126","683128","683130","684220","684234","684702","685438","685440","686614","687354","692252","693512","693516","694194","695512","695514","695516","695518","695520","695522","695524","695526","704066","704728","705044","705046","705048","705292","706672","706694","706696","707888","707890","708380","711304","711632","711636","711642","713426","713430","713432","713434","713436","713438","713440","713442","713444","713446","713448","715108","715112","715114","715118","715120","715122","715128","715132","715138","715140","715290","716044","716046","717744","717746","717750","718298","718614","722042","723006","723006","725608","725684","725686","725698","726156","728286","728284","728282","728278","728276","728272","728270","728264","728302","730414","732206","732208","733104","733102","732788","732786","737548","737572","737586","737730","738836","738600","739226","741632","741908","743502","729174","717748","713428","680158","680156","664438","657076","630498","630492","630480","630478","509974","509972","426974","426972","224468","224464","178132","178128","176758","746904","746570","747488","747490","747492","747494","751574","752390","753712","754578","754586","757524","757456","757442","757420","758260","758272","758266","758278","758282","758284","758638","760408","760390","760130","761902","761904","761906","761908","761910","761912","762460","762462","762514","762596","763500","763502","764840","765144","767240","767586","773066","773676","773930","773950","774926","774908","775672","775666","786544","786572"]},ix:{deal:"hb_deal_ix",adid:"hb_adid_indexExchang",active_deals:["IXCPDDTMFLOOR","OMGIXCPDAU","IXCPDMSKCTTDDIS","IXCPDMSKCDVDIS","IXCPDRTBUKDISPLAY","IXCPDSAGEDISUK","IXCPDAUSPARKDISPLAY","XVODADISGLOBAL","IXCPDIPGAUDISPLAY","IXCPDOMDHOMDEP001","IXNZSPARKDISPLAY","IXMARKETPLACESTDMOBILE","IX1586788200","OMGIXMARKETPLACEDISPLAY2020","IXMARKETPLACESTDDISPLAY","IX591644687639373433","IX525702270424034978","IX525702221546178117","IX550264724736831538","IX550264684461350460","IXCPDBAYERDIS001","IXMARKETPLACEDISPLAY","IXCPDSTFRMDSPLY001","IX1595262354","IX560362592774763062","IX614294523060831623","IXCPDGROUPMUK","IXCPDCBADISPLAY","IXCPDSCMBB002","IXCPDADOBEDIS001","IXCPDBTUK","IX584035552077843270"]},appnexus:{deal:"hb_deal_appnexus",adid:"hb_adid_appnexus",active_deals:["1170511","1169127","1163755","1163757","1163759","1163763","605026","605026","946028","717372","717369","717368","1094152","1094153"]}}},u)),n(new(d("./modules/emit.js"))({"pub.set_targeting":function(e,t){var n,i,r;window.useAdBridgGamConfig&&(n=AdBridg.global("pc_kvps")||{},i=AdBridg.global("pc_kvps_m")||[],n[r=t["page-view"]]=c.deepAssign(n[r]||{},t),1<r&&c.each(t,function(e,t){-1===i.indexOf(t)&&i.push(t)}),AdBridg.global("pc_kvps",n),AdBridg.global("pc_kvps_m",i))},"pub.config":function(e,t){AdBridg.global("pub.config",!0),window.useAdBridgGamConfig&&1<t.page&&(c.log("breakadplumber running GAMCONFIG rescanner.."),c.gamconfig_scanner&&c.gamconfig_scanner())},"adb.gamconfig_slot_configure":function(e,t,n,i){var r={},o=parseInt((n.match(/^t(\d+)_/)||["0"]).pop())+1;t.gpt_path?(t.gpt_path.match(/[DM]MR1$/)&&(c.isarr(t.size[0])||(t.size=[t.size]),t.size.push(["fluid"]),c.log("Added fluid size to",n,t)),c.log("dom_id - 0",n),1!=o||n.match(/ina|out-of-page|sticky([6789]|1\d)|DCMR/)||(c.log("dom_id - 1",n),n.match(/[md]lb1/i)?(c.log("dom_id - 2",n),r.under30="true"):c.where(n).c.t/document.body.scrollHeight<.4&&(c.log("dom_id - 3",n),c.log("BreakAdPlumber - under30 set on kvp",n),r.under30="true")),r.under30||(r.under30="false"),t.gpt_path.match(/out-of-page/i)||(r.pos=t.gpt_path.replace(/^.*\/([^\/]+)$/,"$1")),t.targeting=c.assign(t.targeting||{},r),c.log("BreakAdPlumber: GamConfig registerSlot equivalent",{slot_config:t,dom_id:n})):c.log("BreakAdPlumber - bad gpt path!",t,n)},"gpt.before_request":function(e,s){var t=c.wrapAsync(function(){var i,r,o,a,t,n,e=c.qs("adb_reckvps")?.001:AdBridg.global("ad1353");"number"!=typeof e&&(e=Math.random(),AdBridg.global("ad1353",e)),.01<=e||(e=(AdBridg.global("ad1353r")||0)+1,AdBridg.global("ad1353r",e),i=/^(amzn|hb_|adb_|hlcc)/,r=/^(userSegments)/,o={amp:"1",articleId:"2",blab:"3",gam_pageview_id:"4",k1:"5",k2:"6",k3:"7",msiteID:"8",msiteactive:"9","page-view":"a",pageTemplate:"b",rpv:"c",subcategory:"d",type:"e",under30:"f",url:"g",userSegments:"h",pos:"i"},a={r:e,p:{},s:[]},googletag.pubads().getTargetingKeys().forEach(function(e){var t;e.match(i)||(t=googletag.pubads().getTargeting(e),t=e.match(r)?t.length:t.join(","),a.p[e=o[e]||e]=t)}),s.forEach(function(e){var n={d:e.getSlotElementId().replace("__slot",""),g:e.getAdUnitPath().replace("/4788/hl/pagenumber","p")};c.each(e.getTargetingMap(),function(e,t){t.match(i)||(e=t.match(r)?e.length:e.join(","),n.t||(n.t={}),n.t[t=o[t]||t]=e)}),a.s.push(n)}),t=function(e){return encodeURIComponent(String(e).replace(/;:/g,""))},n=[e,Object.keys(a.p).map(t).join(";"),Object.values(a.p).map(t).join(";")],c.each(a.s,function(e){n.push(t(e.d)),n.push(t(e.g)),n.push(e.t?Object.keys(e.t).map(t).join(";"):""),n.push(e.t?Object.values(e.t).map(t).join(";"):"")}),n=n.join(":"),c.thread(function(){d("./analytics.js").sqz(5e3,!1,!1,"ad1353",n),c.log("page report targeting for request",n.length,encodeURIComponent(JSON.stringify(a)).length,n)})())});if(!window.useAdBridgGamConfig)return t(),!1;var i=AdBridg.global("pc_kvps")||{},r=AdBridg.global("pc_kvps_m")||[],o={};c.each(r,function(e){o[e]={}});var a={};c.each(s,function(e){var t=e.getSlotElementId(),n=parseInt((t.match(/^t(\d+)_/)||["0"]).pop())+1;a[n]||(a[n]=[]),a[n].push(e),c.each(r,function(e){var t=(i[n]||{})[e];o[e][n]=t})}),c.log("page number targeting before set check",JSON.parse(JSON.stringify(Object.keys(a).map(function(e){return e+"="+a[e].map(function(e){return e.getSlotElementId()})}))),o),c.each(o,function(e,n){var t=Object.keys(e);1<t.length?c.each(e,function(t,e){e=a[e];c.each(e,function(e){e.setTargeting(n,t)})}):AdBridg.gpt.pubads().setTargeting(n,e[t[0]])}),t()},"gamkvp.get_test_codes":function(e,t){var n=""+window.useAdBridg;(n=!n.match(/^[abc]$/)?"c":n)&&t.push("t1"+n)},"gpt.viewed":function(e,t,n){var i;window.useAdBridgGamConfig&&(n.hlReload||80===n.id&&(i=!1,n.hlReload=function(){i||(i=!0,t.setTargeting("under30","false"),AdBridg.refresh([t]))},setTimeout(n.hlReload,3e4)))}},u)),n(new(d("./modules/amazon.js"))({allowed_sizes:["300x250","300x600","300x50","320x50","728x90","970x250","970x90"],load_apstag:!0,init:function(e){return{pubID:3083,adServer:"googletag"}},pub_audiences:{record:function(){return!!c.qs("rvid")&&{value:c.qs("rvid"),type:"email"}}}},u)),n(new(d("./modules/gamconfig.js"))({active:{js:"window.useAdBridgGamConfig"},autostart:0,slots:[{dom_ad_class:"dlb1",gpt_path_builder:"{{lib.adb.pc_prefix}}DLB1",size_map:[{sizes:[],viewport:[0,0]},{sizes:[728,90],viewport:[768,0]},{sizes:[[728,90],[970,90],[970,250]],viewport:[990,0]}]},{dom_ad_class:"mlb1",gpt_path_builder:"{{lib.adb.pc_prefix}}MLB1",size_map:[{sizes:[[320,50],[300,50]],viewport:[0,0]},{sizes:[],viewport:[768,0]}]},{dom_ad_class:"inline1",gpt_path_builder:"{{lib.adb.pc_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}1",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:[],viewport:[990,0]}]},{dom_ad_class:"inline2",gpt_path_builder:"{{lib.adb.pc_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}2",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:[],viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline3",gpt_path_builder:"{{lib.adb.pc_prefix}}{{lib.adb.device_code}}{{lib.adb.inline_code}}3",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:[],viewport:[990,0]},{sizes:[728,90],viewport:[1190,0]}]},{dom_ad_class:"inline4",gpt_path_builder:"{{lib.adb.pc_prefix}}{{lib.adb.device_code}}MR4",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:[],viewport:[990,0]}]},{dom_ad_class:"inline5",gpt_path_builder:"{{lib.adb.pc_prefix}}{{lib.adb.device_code}}MR5",size_map:[{sizes:[300,250],viewport:[0,0]},{sizes:[],viewport:[990,0]}]},{dom_ad_class:"sticky1",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR1",size_map:[{sizes:[],viewport:[0,0]},{sizes:[[300,250],[300,600]],viewport:[990,0]}]},{dom_ad_class:"sticky2",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR2",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky3",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR3",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky4",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR4",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky5",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR5",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky6",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR6",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky7",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR7",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky8",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR8",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky9",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR9",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky10",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR10",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky11",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR11",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky12",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR12",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky13",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR13",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky14",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR14",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"sticky15",gpt_path_builder:"{{lib.adb.pc_prefix}}DMR15",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR1",gpt_path_builder:"{{lib.adb.pc_prefix}}DCMR1",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR2",gpt_path_builder:"{{lib.adb.pc_prefix}}DCMR2",oop:0,size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR3",gpt_path_builder:"{{lib.adb.pc_prefix}}DCMR3",oop:0,size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR4",gpt_path_builder:"{{lib.adb.pc_prefix}}DCMR4",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"DCMR5",gpt_path_builder:"{{lib.adb.pc_prefix}}DCMR5",size_map:[{sizes:[],viewport:[0,0]},{sizes:[300,250],viewport:[990,0]}]},{dom_ad_class:"ina",gpt_path_builder:"{{lib.adb.pc_prefix}}ina",oop:0,size:["fluid"]},{dom_id:"div-gpt-ad-out-of-page",gpt_path_builder:"{{lib.adb.pc_prefix}}out-of-page",inject:0,oop:1,size:[[1,1]]}]},u))}catch(e){c.err("Module failed",e)}},{"./analytics.js":11,"./modules/amazon.js":18,"./modules/britepoolid.js":19,"./modules/confiant.js":20,"./modules/criteoid.js":21,"./modules/emit.js":22,"./modules/gamconfig.js":23,"./modules/gamkvp.js":24,"./modules/gprog.js":25,"./modules/icu.js":26,"./modules/liverampid.js":27,"./modules/lzest.js":28,"./modules/merkleid.js":29,"./modules/nextrollid.js":30,"./modules/pubcid.js":31,"./modules/sharedid.js":32,"./modules/verizonid.js":33,"./utils.js":38}],18:[function(f,e,t){var m=f("../utils.js"),i=f("../config.js"),r=(e.exports=function(a,s){function o(e){var n=[],i=a.allowed_sizes;return m.each(e,function(e,t){if(i&&-1==i.indexOf(e))return m.log("Amazon unsupported size: ",e);e=e.split("x");e[0]=parseInt(e[0],10),e[1]=parseInt(e[1],10),n.push(e)}),n}var d={},c={},u={},p=!1,l=!m.qs("adb_enable_amzn")&&a.test;"function"==typeof l&&(l=l());var e=a.load_apstag;"function"==typeof e&&(e=e());var t=!1,n=!1;if("function"==typeof i.libSettings().nogpt&&i.libSettings().nogpt()||m.qs("adb_nogpt"))return m.log("nogpt Disabling Amazon"),void(l=n=!(e=!1));function g(){if(t)return l;var r=a.init;return(r="function"==typeof r?r(i.libSettings()):r)?(t=!0,l?(m.log("Amazon disabled. Use ?adb_enable_amzn=1 to activate."),l):window.apstag?void(r.skip_init||i.afterConsent(function(e,t){var n=t&&t.uspString,i=n&&"1---"===t.uspString;if(n&&(!i||!a.skip_ccpa_default)&&(r.params=r.params||{},r.params.us_privacy=t.uspString,"Y"===t.uspString.substr(2,1)&&(p=!0,a.no_ca)))return l=!0,void m.log("Amazon disabled for CA",t.uspString);apstag.init(r),m.log("Amazon initialized:",r)})):(e||n||(m.err("Amazon library not found."),n=!0),l=!0)):(m.log("Amazon init bypassed."),!1)}l||!e||r()||(l=t=!0),(t=a.pub_audiences)&&s.on("pub.spa_pv_initialize",function(e,t){function n(e){i=e,m.thread(function(){f("../analytics.js").meta("iA",i)})()}var i,r,o=a.pub_audiences;if(s.on("gamkvp.getids",function(e,t){r&&(t.push("iA"+r),m.log("Amazon Pub Audience gamkvp.getids",r))}),o.active&&!o.active())return m.log("Amazon PA: inactive"),r="n",void n("N");m.log("Amazon PA: active");o=o.record();if(!o)return m.log("Amazon PA: no email record"),r="n",void n("Z");o={hashedRecords:[{type:o.type,record:o.value}],optOut:p};apstag.rpa(o,m.wrapAsync(function(){n(p?"X":"Y"),r="y",m.log("Amazon PA: completed")}))}),s.on("unit.config",function(e,t){if(!g()){var n=t.get("dom_id"),i=t.get("gpt_slot");if(!n||!i)return m.log("Amazon skip",n,i);var r=i.getAdUnitPath()+"",i=a.get_slot_name?a.get_slot_name(r,n,i,t):(r.match(/([^\/]+)$/)||[""])[0];if(!i)return m.err("Amazon noname: ",i,n,r);i={slotID:n,slotName:i,sizes:c[n]||o(t.all_sizes)};a.use_pubcid&&window.PublisherCommonId&&window.PublisherCommonId.getId&&(t=window.PublisherCommonId.getId(),i.slotParams={"pubcid.org":[t]}),d[n]=i,m.log("Amazon slot configured",i,!!c[n])}}),s.on("unit.restrict_sizes",function(e,t,n){g()||(t=t.get("dom_id"),n=o(n),c[t]=n,(t=d[t])&&(m.log("Amazon slot resize",t,n),t.sizes=n))}),s.on("gpt.destroy",function(e,t,n){g()||(m.log("Amazon slot remove",n),delete d[n],delete c[n])}),s.on("unit.pre_attach",function(e,t){if(!g()){var n=t.get("dom_id"),i=d[n];if(!i)return m.log("Amazon preload mismatch",n);var r=t.auction,o="amazon."+t.id;r.lock(o),apstag.fetchBids({slots:[i],timeout:r.max_ms},m.wrapAsync(function(){m.log("Amazon preload response",r.id,arguments);try{apstag.setDisplayBids()}catch(e){m.err("Amazon setBids",e)}r.unlock(o)}))}}),s.on("auction.start",function(e,t){var n,i,r,o;g()||(n=[],t.eachUnit(function(e){var t=e.get("dom_id"),e=d[t];e?(n.push(e),d[t]=null):m.log("Amazon no config",t)}),n.length&&(i={slots:n,timeout:t.max_ms},m.log("Amazon request",t.id,i),r="amazon."+t.id,u[r]=!0,t.lock(r),o=setTimeout(m.wrapAsync(function(){u[r]&&(u[r]=!1,t.unlock(r),m.err("Amazon incomplete at 50"))}),t.max_ms+50),apstag.fetchBids(i,m.wrapAsync(function(){m.log("Amazon response",t.id,arguments);try{apstag.setDisplayBids()}catch(e){m.err("Amazon setBids",e)}clearTimeout(o),u[r]&&(u[r]=!1,t.unlock(r))}))))})},function(){if(window.apstag)return m.log("Amazon already loaded"),!0;m.log("Loading Amazon dependency");try{n="apstag",i=window,t=document,i[n]||(i[n]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){e("di",arguments)},rpa:function(){e("ri",arguments)},upa:function(){e("ui",arguments)},_Q:[]},(r=t.createElement("script")).async=!0,r.src="https://c.amazon-adsystem.com/aax2/apstag.js",(o=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,o))}catch(e){return m.err("Amazon load failed",e),!1}function e(e,t){i[n]._Q.push([e,t])}var n,i,t,r,o;return!0})},{"../analytics.js":11,"../config.js":13,"../utils.js":38}],19:[function(t,n,e){function c(e){i=e,u.thread(function(){t("../analytics.js").meta("i2",i)})()}var i,u=t("../utils.js"),p=t("../ajax.js"),r=t("../config.js"),l="britepoolid",g="https://px.britepool.com/new?partner_id=t";c("N");var o,f=!1;n.exports=function(a,e){var s,d=!1;if(o||(o=!0,e.on("gamkvp.getids",function(e,t){d?t.push("i2y"):t.push("i2n")})),a.defer&&!f)return f=!0,u.log("Britepool deferring load"),void a.defer(u.wrapAsync(function(){u.log("Britepool resuming load"),n.exports(a,e)}));!a.active||a.active()?(u.log("Britepool enabled"),(d=u.cr(l))&&(u.log("Britepool read: ",d),c("C")),e.on("unit.config",function(e,t){d&&(u.log("Set britepool ID on unit",d,t),t.set("userId.britepoolid",d),t.set("userIdAsEids.britepool",{source:"britepool.com",uids:[{id:d,atype:3}]}))}),d||(s=function(e){var t=null;if("object"==typeof e)t=e;else if("string"==typeof e)try{t=JSON.parse(e)}catch(e){u.err(e)}return t},r.afterConsent(function(e){var t,n=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,i=[],r={},o="undefined"!=typeof britepool_pubparams?britepool_pubparams:{},e=Object.assign({},a.params,o);e.getter?"function"!=typeof e.getter?i.push("Britepool requires getter to be a function"):t=e.getter:e.api_key&&(r["x-api-key"]=e.api_key);o=e.url;e.url||(o="https://api.britepool.com/v1/britepool/id"+(n?"?gdprString="+encodeURIComponent(n):"")),delete e.api_key,delete e.url,delete e.getter;n=null;if("function"==typeof t&&(u.log("Britepool exec getter",e),"function"!=typeof(n=t(e))))return u.log("Britepool got id from getter",n),d=s(n),c("GV"),void u.cw(l,d,30);if(e.hash||e.ppid||(u.log("Britepool pixel",g),u.pixel(g)),i.length)u.log("Britepool errors",i);else if(n){u.log("Britepool getting id from getterResponse exec");try{n(function(e){u.log("Britepool set id from getterResponse",e),d=s(e),c("GF"),u.cw(l,d,30)})}catch(e){u.log("Britepool error in getterResponse exec",e),c("GE")}}else{u.log("Britepool fetching from url",o);e={url:o,withCredentials:!0,parseResponseJson:!0,headers:r,method:"POST",contentType:"application/json",data:JSON.stringify(e)};p(e,function(e,t){var n;e?"timeout"===e.type?c("ET"):e.type?(n=e.type.match(/status=(\d+)/))&&c("E"+n[1]):c("E"):(n=s(t))?(u.log("Britepool set id xhr",n.primaryBPID),d=n.primaryBPID,c("A"),u.cw(l,d,30)):u.log("Britepool no id",t)})}}))):u.log("Britepool disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":38}],20:[function(e,t,n){var u=e("../utils");t.exports=function(d,e){var c,s,n;function o(o,a,e,s,d){function c(e){return(i(e)||"")[r]("/","_")[r]("+","-")}var t=a.bidder,n=a.size,u=o.parentWindow||o.defaultView,p=u.JSON,i=u.btoa,l=u.encodeURIComponent;if(!p||!i)return!1;var g="script",f="src",r="replace",m="error",h="stringify",b="write",v="https://"+e+"/?wrapper="+l(s)+"&tpid=",y={k:{hb_bidder:[t],hb_size:[n]}};return function(){var e,t,n=c(s+"/"+y.k.hb_bidder[0]+":"+y.k.hb_size[0]),i={wh:n,wd:p.parse(p[h](y)),wr:0};r=n,e=c(p[h](i)),t=function(){o[b](a.ad)},r=v+l(r)+"&d="+e,e="err__"+ +new Date,u[e]=t,o[b]("<"+g+" on"+m+'="void('+e+'())" '+f+'="'+r+'" type="text/java'+g+'" ></'+g+">");var r={prebid:{adId:a.adId,cpm:a.cpm}},r={d:i,t:a.ad,cb:d,id:r};u[s]={},u[s][n]=r}(),o.close(),!0}d.loadCondition&&!d.loadCondition()||(window.confiant=window.confiant||{},d.enableIntegrations&&(window.confiant.enable_integrations=d.enableIntegrations),window.confiant[d.propertyId]||(window.confiant[d.propertyId]={}),window.confiant[d.propertyId].clientSettings||(window.confiant[d.propertyId].clientSettings={}),c=window.confiant_refresh_slots=[],s=u.wrapAsync(function(e,t,n,i,r,o,a){"use strict";var s;a=a||"op",u.err("ConfiantBlock",JSON.stringify([e,t,n,i,r,o,a||"op"])),!d.refreshBlock||(s=void 0!==o&&void 0!==o.dfp?o.dfp.s:null)&&n&&-1===c.indexOf(s)&&u.each(googletag.pubads().getSlots(),function(e){e.getSlotElementId()===s&&(e.setTargeting("confiant_refresh","true"),c.push(s),AdBridg.refresh([e],{},!1))})}),d.v2&&(n=function(e,t,n,i,r,a){u.log("Confiant friendly-frame render",a);return o(e,{size:a.width+"x"+a.height,bidder:a.config.bidder_name,ad:a.creative||a.creative_url,cpm:a.cpm,adId:a.config.id},"clarium.global.ssl.fastly.net",d.propertyId,function(e,t,n,i,r,o){(o=o||{}).dfp||(o.dfp={}),o.dfp.s||(o.dfp.s=a.config.unit.get("dom_id")),s(e,t,n,i,r,o,"v2")})},e.on("adb.get_ff_renderer",function(e,t){t.confiantV2=n})),d.v2&&e.on("adb.confiant_pmmutate",function(e,t,n){n.sid=t.config.unit.get("dom_id"),n.a=t.config.id,n.b=t.config.bidder_name,n.c=t.cpm,n.w=t.width,n.h=t.height,n.cfd="clarium.global.ssl.fastly.net",n.cfid=d.propertyId,u.log("Confiant SafeFrame render",t,n)}),d.v2&&e.on("adb.confiant_block_sf",function(e,t){t=JSON.parse(t);t.push("sf"),s.apply(null,t)}),window.confiant[d.propertyId].clientSettings.callback=s,u.load("https://confiant-integrations.global.ssl.fastly.net/"+d.propertyId+"/gpt_and_prebid/config.js"))}},{"../utils":38}],21:[function(t,e,n){function d(e){i=e,c.thread(function(){t("../analytics.js").meta("i3",i)})()}var i,r,c=t("../utils.js"),u=t("../ajax.js"),o=t("../config.js"),p="criteoId",l="cto_bidid",g="cto_bundle";d("N"),e.exports=function(e,t){var a;function n(e){var t=c.cr(e);return t?d("C"):(t=c.lr(e))&&d("L"),t}function s(e,t){e&&t&&(c.cw(e,t,390),c.lw(e,t))}function i(e,t){var n=c.cookies,i=(c.url().referrer||"").replace(/^(https?\:\/\/[^\/]+).*$/,"$1/"),r=c.url().domain,o="undefined"!=typeof criteo_pubtag,o=(i=i,r=r,e=e.bundle,n=n,o=o,t=t,"https://gum.criteo.com/sid/json?origin=prebid"+(i?"&topUrl="+encodeURIComponent(i):"")+(r?"&domain="+encodeURIComponent(r):"")+(e?"&bundle="+encodeURIComponent(e):"")+(t?"&gdprString="+encodeURIComponent(t):"")+(n?"&cw=1":"")+(o?"&pbt=1":""));u({url:o,withCredentials:!0,parseResponseJson:!0},function(e,t){var n,i;return e?("timeout"===e.type?d("ET"):e.type?(n=e.type.match(/status=(\d+)/))&&d("E"+n[1]):d("E"),void c.log("CriteoID err",e)):(t.bidId?(s(l,t.bidId),a=t.bidId,d("A")):(i=l,c.cw(i,"",-1),c.lw(i,"")),void(t.acwsUrl?(i="string"==typeof t.acwsUrl?[t.acwsUrl]:t.acwsUrl,c.each(i,function(e){c.log("CriteoID acwsUrl",e),c.pixel(e)})):t.bundle&&s(g,t.bundle)))})}r||(r=!0,t.on("gamkvp.getids",function(e,t){a?t.push("i3y"):t.push("i3n")})),!e.active||e.active()?(c.log("CriteoID enabled"),o.afterConsent(function(e){var t;e&&e.gdprApplies&&!e.consentString||(t=e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies?e.consentString:void 0,(e={bundle:n(g),bidId:n(l)}).bidId&&(a=e.bidId),i(e,t))}),t.on("unit.config",function(e,t){a&&(c.log("Set CriteoID on unit",a,t),t.set("userId."+p,a),t.set("userIdAsEids."+p,{source:"criteo.com",uids:[{id:a,atype:1}]}))})):c.log("CriteoID disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":38}],22:[function(e,t,n){var i=e("../utils.js");t.exports=function(t,e){e.on("*",i.wrapAsync(function(e){t[e]&&t[e].apply(null,arguments)}))}},{"../utils.js":38}],23:[function(e,t,n){function D(e){var t=e.js.split(".");if("window"==t[0]){t=t[1];return window.hasOwnProperty(t)?window[t]:void 0}M.log("GamConfig JS read fail",e)}var M=e("../utils.js"),U=e("../config.js"),q=(e("../unit.js"),{});t.exports=function(n,e){var C="adbridg-ad-class",j="data-adbridg-ad-class",k="data-adbridg-ad-class-loaded",z="data-adbridg-ad-class-invalid",R="data-adbridg-ad-class-ctr",B="data-adbridg-phase",E="adbridg_ad_",T="data-adbridg-gam-path",P="data-adbridg-page-kvps",O=0;e.on("pub.spa_pv_initialize",function(){O=1}),e.on("pub.config",function(e,t){t.targeting&&(n.targeting?M.deepAssign(n.targeting,t.targeting):n.targeting=t.targeting)});function t(e,f){var t,n,r,m,h,b,v,y,_,w,o,a,s,i,x,A,S,d,c,u,p,l,g,I=e.active;(I=I&&I.js?D(I):I)&&I.url&&(new RegExp(I.url,"i"),I=M.url().href.match(I.url)),I?(M.log("GamConfig enabled",e),e.pageType&&(t=[],(n=e.pageType)&&n.js&&(n=D(n)),M.each(e.slots,function(e){e.page_type===n&&t.push(e)}),M.log("GamConfig page type slots: ",{total_slots:e.slots.length,page_type_slots:t.length,slots:t}),e.slots=t),e.collapseEmptyDivs&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().collapseEmptyDivs()}),e.centering&&AdBridg.gpt.cmd.push(function(){AdBridg.gpt.pubads().setCentering(!0)}),e.safeFrames&&AdBridg.gpt.cmd.push(function(){M.log("Requiring GPT Sandbox SafeFrames"),AdBridg.gpt.pubads().setSafeFrameConfig({sandbox:!0})}),r={},m=function(e){AdBridg.cmd.push(function(){M.each(e,function(e,t){var n=e;void 0!==(e=(e=e&&e.js?D(e):e)&&e.qs?M.qs(e.qs.match)?e.qs.value:void 0:e)?(M.log("GamConfig setting page targeting: ",t,e),AdBridg.gpt.pubads().setTargeting(t,e),r[t]=e):M.log("GamConfig targeting empty",t,e,n)})})},f.on("pub.config",function(e,t){m(t.targeting)}),e.targeting&&m(e.targeting),h=function(e,t){var n=e.getAttribute(B)||"";n&&(n+=";");t=(n+t+"@"+M.dts()+"ms").substr(0,200);200==t.length&&(t+="..."),e.setAttribute(B,t)},(o=function(){b={},v={},y={},w=!(_={}),M.each(e.slots,function(t){if(!U.libSettings().gamconfig_filter||U.libSettings().gamconfig_filter(t)){if(t.dom_ad_class)return w=!0,void(_[t.dom_ad_class]=t);if(t.inject&&!document.getElementById(t.dom_id)){var e=document.createElement("div");e.id=t.dom_id;try{document.body.appendChild(e)}catch(e){M.err("GamConfig cannot inject",t.dom_id,e)}}e=t.dom_id;b[e]||v[e]?M.err("GamConfig duplicate dom_id",e):b[e]=t}else M.log("GamConfig slot skipped by pub",t)})})(),a=function(e,t){if(b[e.id])return!0;var n,i=e.getAttribute&&(e.getAttribute(j)||e.getAttribute(C));if(_[i])return!0;if(n=(M.qs("adb_gcerr")?e.children:e.children||[]).length,t&&n)for(var r=0;r<n;++r)if(a(e.children[r],!0))return!0;return!1},s=function(){clearTimeout(x),x=setTimeout(function(){S()||u()},10)},i=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("attributes"==n.type)return a(n.target,!1)?s():void 0;for(var i=0;i<n.addedNodes.length;++i){n.addedNodes[i];if(a(n.target,!0))return s()}}},A=e.scan_interval||200,S=function(){clearTimeout(x);var u=!1;if(w)for(var u=!0,e=document.querySelectorAll("["+j+"],["+C+"]"),t=0;t<e.length;++t){var n,i,r,o,a,s=e[t],d=s.getAttribute(j)||s.getAttribute(C);d&&(!(n=U.libSettings("gamconfig_ad_class_mutate",d,s))&&!1!==n||(i=d,d=n),_[d]?(o=d.replace(/[^\w\d]+/gi,""),q[n=o]=(q[n]||0)+1,r=q[n],s.setAttribute(R,r),s.id||(s.id=E+o+"_"+r),s.removeAttribute(j),s.removeAttribute(C),s.setAttribute(k,d),M.log("GamConfig - setting up ad class",s.id,d,{base:_[d],me:{dom_id:s.id,dom_ctr:r}}),o=M.deepAssign({},_[d]),(a=M.deepAssign({dom_id:s.id,dom_ctr:r},o)).targeting&&M.each(a.targeting,function(e,t){var n,i;"object"==typeof e&&e.format&&(a.targeting[t]=(n=e.format,i=r,e=n.match(/\{\{[^\}]+\}\}/g),M.each(e,function(e){"dom_ctr"!==e.replace(/[\{\}]/g,"")?M.err("GamConfig unknown slot targeting format",e):n=n.replace(e,i)}),n))}),b[s.id]=a):(!1!==d&&M.err("GamConfig invalid ad class attribute",d,i?" (original: "+i+")":""),s.removeAttribute(j),s.removeAttribute(C),s.setAttribute(z,d+(i?"("+i+")":""))))}var p=[],l=[],g=[];M.each(b,function(n,i){var r=document.getElementById(i);if(r)if(U.libSettings("gamconfig_skip_element",i,n))u=!0;else{var e=r.getAttribute(T);e&&""!=e&&(M.log("Path Override: ",T),n.gpt_path=e,delete n.gpt_path_builder);var t,o,a,s,d,c,e=r.getAttribute(P);if(e&&""!=e&&(c=e.split(/[,]+/),M.log("parse_all_page_kvp",c),t={},M.each(c,function(e){e=e.split(/[:]+/);2===e.length&&(t[e[0]]=e[1])}),M.log("Targeting map",t),m(t)),r.innerHTML="",h(r,"detected"),n.size_map&&(n.size=AdBridg.getSizes(n.size_map),delete n.size_map,!n.size.length))return g.push(i),void h(r,"vp_no_size");g.push(i),v[i]||(v[i]=!0,p.push(n),n.gpt_path_builder&&(n.gpt_path=(a=i,s=r,d=""+(o=n).gpt_path_builder,c=d.match(/\{\{[^\}]+\}\}/g),M.log("GamConfig extracted curlies: ",c),M.each(c,function(e){var t,n=e.replace(/[\{\}]/g,""),i="";n.match(/^lib\.pub\./)?(t=n.replace("lib.pub.",""),(i=(U.libSettings().pub||{})[t])||(U.libSettings().pub||{}).hasOwnProperty(t)||M.err("GamConfig PathBuilder setting not present:",e),d=d.replace(e,i)):n.match(/^lib\.adb\./)?(t=n.replace("lib.adb.",""),(i=U.libSettings("gamconfig_curly",t,o,a,s)||AdBridg.global(t)||"")||M.err("Warning: GamConfig PathBuilder AdBridg global empty/not present:",t),d=d.replace(e,i)):M.err("GamConfig unsupported gpt_path_builder part:",e)}),M.log("GamConfig gpt_path_builder",o.gpt_path_builder,d),d)),n.dom_ad_class&&f.on("unit.init_config",function(e,t){t.get("dom_id")==i&&t.set("dom_ad_class",n.dom_ad_class)}),n.events={"gpt.defined":function(e){h(r,"gpt_define")},"gpt.rendered":function(e,t){h(r,"gpt_render:"+t.sourceAgnosticCreativeId)},"gpt.viewed":function(e,t){h(r,"gpt_view")}},f.trigger("adb.gamconfig_slot_configure",n,i,r)),y[i]=!0,l.push(i)}else u=!0}),M.each(g,function(e){delete b[e]});var c=U.libSettings().gamconfig_fulfillment;return p.length&&(M.log("GamConfig configuring slots",p),c?c(p):AdBridg.cmd.push(p)),l.length&&AdBridg.cmd.push(function(){M.each(l,function(e){AdBridg.display(e)})}),u&&!MutationObserver&&(x=setTimeout(S,A)),u},M.gamconfig_scanner=S,c=function(){MutationObserver?(S(),d&&u(),(d=new MutationObserver(i)).observe(document.body,{attributes:!0,attributeFilter:["id",j,C],childList:!0,subtree:!0}),M.log("GamConfig MutationObserver added")):(M.log("GamConfig polling started"),S())},p=!(u=function(){clearTimeout(x),d?(d.disconnect(),d=!1,M.log("GamConfig MutationObserver disconnected")):M.log("GamConfig polling stopped")}),f.on("pub.spa_pv_shutdown",function(){p=!0,M.log("GamConfig stopping for SPA"),o(),u(),M.each(r,function(e,t){M.log("GamConfig erasing KVP",t),AdBridg.gpt.pubads().setTargeting(t,[])});var n=[],i=[];M.each(AdBridg.gpt.pubads().getSlots(),function(e){var t=document.getElementById(e.getSlotElementId());t&&t.getAttribute(B)&&(n.push(e),i.push(t),h(t,"destroyed"),(e=t.getAttribute(j)||t.getAttribute(C)||t.getAttribute(k)||t.getAttribute(z))&&(t.removeAttribute(k),t.removeAttribute(z),t.setAttribute(j,e),(t.id||"").match(E)&&t.removeAttribute("id")))}),n.length&&AdBridg.destroySlots(n),p=!(q={})}),g=function(){clearTimeout(l),p?l=setTimeout(g,100):(M.log("GamConfig restarting SPA"),o(),c())},f.on("pub.spa_pv_initialize",g),0!=e.autostart||O?c():M.log("GamConfig waiting for publisher to initialize with action=spa_pv_initialize.")):M.log("GamConfig not enabled")}function i(){document&&document.body?(M.log("Body loaded. Initialising Gamconfig module"),t(n,e)):setTimeout(i,100)}var r=U.libSettings().gamconfig_defer;if("function"==typeof r)return M.log("GamConfig waiting to initialize"),void AdBridg.cmd.push(function(){r(i)});AdBridg.cmd.push(i)}},{"../config.js":13,"../unit.js":37,"../utils.js":38}],24:[function(e,t,n){var s=e("../utils.js");t.exports=function(e,a){var t={"gamkvp.getids":{validate:/^i[\w\d]{2}$/,update:/^i/},"gamkvp.get_test_codes":{validate:/^t[\w\d]{2}$/,update:/^t/},"gamkvp.get_user_segments":{validate:/^u[\w\d]{2}$/,update:/^u/}};googletag.cmd.push(function(){a.on("auction.before_bids",function(){s.each(t,function(t,n){var i,e,r,o=[];a.trigger(n,o),o=o.filter(function(e){return!!e.match(t.validate)||(s.err("GamKVP.badValue",n,e),!1)}),s.log("GamKVP setting values in adb_pvd:",n,o),i=t.update,e=o,o=googletag.pubads().getTargeting("adb_pvd")||[],r=[],o.forEach(function(e){String(e).match(i)||r.push(e)}),e&&e.length&&(r=r.concat(e)),googletag.pubads().setTargeting("adb_pvd",r),s.log("GamKVP set adb_pvd values: ",r)})})})}},{"../utils.js":38}],25:[function(n,e,t){var h=n("../utils"),r=n("../config");function b(e,t){n("../analytics.js").sqz(1e3,"yi",e,"y",t)}e.exports=function(n,e){var i,m;n.bidders&&((i=r.libSettings()).gpt_clear_kvps||(i.gpt_clear_kvps=[]),h.each(n.bidders,function(e,t){e.custom_keys?h.each(e.custom_keys,function(e){i.gpt_clear_kvps.push(e)}):(i.gpt_clear_kvps.push(e.deal),i.gpt_clear_kvps.push(e.adid))}),m={},e.on("auction.bidding_done",function(e,f){f.eachBidRequest(function(i,r){var o=r.bidder_name,e=n.bidders[o];if(e){var a=e.set_kvps,s=e.deal,d=e.adid,t=i.get("gpt_slot"),c=i.get("dom_id");if(!(t&&c&&(s&&d||a)))return h.log("Gprog skipped",t,c,s,d,typeof a);var u=!1,p={},l=e.active_deals,g=e.is_active_deal;h.each(r.responses,function(e){var t=!1;g&&(t=g(i,e));var n=e.extras&&e.extras.dealid;if(n){n=String(n),(t=l&&l.length&&0<=l.indexOf(n)?!0:t)&&(e.blocked="pmp",h.log("Gprog: active deal removed from open market auction",e));t=r.id+":"+e.id;if(m[t]=e,u=!0,b([f.instancectr,i.id,i.unique_id,r.bidder_id,n],"s"),a)return a(p,e),void h.log("gprog ("+o+" custom): ",i.alias,"/",c,p);p[s]=p[s]||[],p[s].push(n),p[d]=p[d]||[],p[d].push(e.id),h.log("gprog ("+o+"): ",i.alias,"/",c,s,"=",n,";",d,"=",e.id)}}),u&&(i.settings.gprog=i.settings.gprog||{},h.each(p,function(e,t){h.isarr(e)||(e=[e]),i.settings.gprog[t]||(i.settings.gprog[t]=[]),i.settings.gprog[t]=i.settings.gprog[t].concat(e)}))}})}),e.on("gpt.set_targeting",function(e,t,n){t.settings.gprog&&h.each(t.settings.gprog,function(e,t){e=n.getTargeting(t).concat(e);n.setTargeting(t,e)})}),e.on("bid.render",function(e,t){var n=t.config,i=t.config.id+":"+t.id;m[i]&&b([(i=n.unit).auction.instancectr,i.id,i.unique_id,n.bidder_id,t.extras.dealid],["r",t.width+"x"+t.height,t.extras.crid])}))}},{"../analytics.js":11,"../config":13,"../utils":38}],26:[function(Z,e,t){var ee=Z("../utils.js"),n=Z("../modulewrapper.js");e.exports=n({name:"icu",track_as:"z"},function(s,d){var t=s.tick_ms||100,n=15e3,i=5e3,w={},r={unknown:0,above_viewport:1,below_viewport:2,partially_above_viewport:3,in_viewport:4,partially_below_viewport:5},o={"160x600":1,"300x250":2,"300x600":3,"320x50":4,"320x100":5,"468x60":6,"728x90":7,"970x90":8,"970x250":9},c=0,u=0,p=0,l=ee.dts(),a=0,g=!1,f=!1,m={init:0,focus:1,mousemove:2,mousedown:3,click:4,touchstart:5,touchend:6,keydown:7,keyup:8,scroll:9},x=ee.qs("adb_icu_box"),h=!0;ee.qs("adb_icu")||(0===s.sample?h=!1:s.sample&&s.sample<1&&(h=Math.random()<=s.sample));var b=s.watch_gpt||h||x;function v(e){return(Math.floor(e)||0).toString(36)}function y(e){return v(100*e)}function _(e){e=Math.round(e.c.w)+"x"+Math.round(e.c.h);return o[e]||e}function A(e){return"number"!=typeof e&&(e=ee.dts()),Math.floor(e/10).toString(36)}function S(e){return Math.floor(20*(e.o&&e.o.v||0))}function I(e){return S(e).toString(36)}function C(e){return r[e.p]}function j(e){return.05<=e.v}function k(e){return e.o&&.95<=e.o.o}function z(e){return 0<C(e)?j(e)?I(e):v(e.d):"0"}function R(e){return{t:A(),p:(t=e,String(C(t))+(Math.floor(t.c.vp.y+t.c.t)||0).toString(36)+"."+(Math.floor(t.c.vp.y)||0).toString(36)),d:z(e),i:(g?"1":"0")+a+A(ee.dts()-l)};var t}function B(e){return[e.dt,e.a,e.uid,e.uuid]}function E(e){e=e||ee.dts(),p=e+n}function T(e,t){h&&Z("../analytics.js").sqz(i,"zi",e,"z",t),E()}function P(e,t,n){n=n||L;var i=w[e];if(i.dt&&i.m.length){var n=R(t),t=B(i),n=[i.dctr,i.mctr,i.r.t,i.r.p,i.r.d,i.r.i,i.v.t,i.v.p,i.v.d,i.v.i,n.t,n.p,n.d,n.i].join(","),r=[];ee.each(i.s,function(e){0<e[0]?r.push(e[0].toString(36)+"."+e[1]):r.push(e[1])});for(var r=r.join(","),o=[],a=20;0<=a;--a){for(var s,d,c,u,p,l=0,g=0,f=0,m=0,h=0,b=0,v=0;v<i.m.length;++v){var y,_=i.m[v];_.vn>=a?(y=_.d*_.vn,l+=_.d,g+=y,h+=_.d,b+=y,f=Math.max(h,f),m=Math.max(b,m)):b=h=0}0<g&&(l!==s||f!==c||g!==d||m!==u)&&(s=l,d=g,c=f,u=m,p=a.toString(36)+"."+l.toString(36)+"."+g.toString(36),l===f&&g===m||(p+="."+f.toString(36)+"."+m.toString(36)),o.push(p))}o=o.join(","),n=[n,r,o].join("_");!i.v5r&&1e3<i.v5&&(n+="_1",i.v5r=!0,x&&(i.av=L),ee.logl("icu",L,N," // ",e,"counted iab view")),ee.logl("icu",L,N," // ",e,"finalized"),T(t,n),i.mctr+=1}else ee.logl("icu",L,N," // ",e,"stopped empty");i.lts=0,i.v=!1,i.ve=!1,i.m=[]}ee.isdebug()&&(AdBridg.icu={watch:b,sampled:h,sampling:s.sample||1,measurements:w,stat:function(){var e=ee.dts(),n="unknown";return ee.each(m,function(e,t){a===e&&(n=t)}),{last_measure:c,measure_ms:e-c,last_evt:n,idle_ms:e-l,idle:g}}});var O=!1,D=!1,M=!1,U=!1,q=!1,N=0,L=0,F=ee.wrapAsync(function(e){q=!0,(t<e-L||U)&&(N+=1,L=e,function(){var e=!1;c=ee.dts(),u=c+500,g=g||3e4<c-l,(!f&&g||!g&&f)&&(f=g);p&&p<L&&(U=!(p=!1));var t,n=[];for(t in w){var i,r,o,a,s;w.hasOwnProperty(t)&&(i=w[t],r=ee.where(t,!0,i.ok),x&&(i.dbw=r),r.v?(i.lv||d.trigger("icu.onscreen",i,r),!i.loo&&r.o&&r.o.o?(i.loo=!0,d.trigger("icu.obstructed",i,r)):!i.loo||r.o&&r.o.o||(i.loo=!1,d.trigger("icu.unobstructed",i,r)),i.lv=!0):i.lv&&(i.lv&&d.trigger("icu.offscreen",i,r),i.lv=!1),i.mx||(g||!j(r)||k(r)?(i.v&&(ee.logl("icu",L,N," // ",t,"stopped",g,!j(r),k(r)),P(t,r),U=!0),j(r)||function(e){V[e]||(V[e]=!0,ee.dom(e,.01,0,W))}(t)):(e=!0,o=Math.max(1,Math.floor((L-i.lts)/10)),(a=_(r))!=i.s[i.s.length-1][1]&&(s=Math.max(1,Math.floor((L-i.rts)/10)),i.s.push([s,a]),ee.logl("icu",L,N," // ",t,"size changed",s,i.s[i.s.length-1][1],a),d.trigger("icu.resized",i,r)),i.v?(s=L-i.lts,i.vt+=s,i.va+=s*(r.o&&r.o.v||0),r.o&&.5<=r.o.v&&(i.v5+=L-i.lts),i.lts=L,a=I(r),s=i.m.length-1,(s=0<=s&&i.m[s])&&s.v==a?(s.d+=o,s.te=L):i.m.push({d:o,t:L,v:a,vn:S(r)}),n.push({t:i,d:t,w:r}),6e4<=i.vt&&(ee.logl("icu",L,N," // ",t,"tracker vt max",i.vt),i.mx=!0,U=!0)):(ee.logl("icu",L,N," // ",t,"started"),K(i,r,L)))))}U&&ee.each(n,function(e){P(e.d,e.w),i.mx||(ee.logl("icu",L,N," // ",e.d,"restarted"),K(e.t,e.w,L))});e||(ee.logl("icu",L,N," // nothing to measure; ending ticks"),p=D=!1);x&&ee.each(w,$);U=!1}()),M=M&&!(D=!0),D&&(O=window.requestAnimationFrame(F)),q=!1});function G(){M=!0,q||(O&&window.cancelAnimationFrame(O),O=window.requestAnimationFrame(F))}var V={};function W(e){V[e]=!1,G()}function K(e,t,n){e.v=R(t),e.lts=n,e.vt=e.vt||0,e.va=e.va||0,e.v5=e.v5||0,p||E(n)}function X(e){return e.id?e.tagName+"#"+e.id:e.tagName+"."+String(e.className).replace(/^([^\s]+).*$/,"$1").replace(/[^a-z0-9_-]/i,"")}function J(e){var t=document.createElement("div");return t.style="display:inline-block;background:rgba(0,0,0,.6);padding:2px 4px;margin:1px 3px;color:white;",t.innerHTML=e,t}function H(e){return((Math.floor(e/100)||0)/10).toString().replace(/^(\d+\.\d).+$/,"$1").replace(/^([^\.]+)$/,"$1.0")+"s"}function $(e,t){var n,i,r,o,a=e.dbw,s=document.getElementById(t);s&&(r=t+"__adb_dom_debug",(o=document.getElementById(r))?n=o.children[0]:((o=document.createElement("div")).id=r,debug_el_container=document.createElement("div"),debug_el_container.style="position:relative;width:0px;height:0px;margin:0;padding:0;",debug_el_container.appendChild(o),s.children.length?s.insertBefore(debug_el_container,s.children[0]):s.appendChild(debug_el_container),(n=document.createElement("div")).style="background:rgba(255,255,255,.7)",o.appendChild(n),o.appendChild(J(t+" #"+e.dctr+" render @ "+H(e.rts))),e.dbgt={}),!e.dbgt.gv&&e.gv&&(e.dbgt.gv=!0,o.appendChild(J("GPT view @ "+H(e.gv)))),!e.dbgt.v5&&1e3<e.v5&&(e.dbgt.v5=!0,o.appendChild(J("AdBridg IAB view flag @ "+H(L)))),!e.dbgt.v5r&&e.av&&(e.dbgt.v5r=!0,o.appendChild(J("AdBridg IAB view sent @ "+H(e.av)))),r=(a.o||a).v,s=Math.floor(100*r)+"% in view",g&&(s+=" (ux_idle)"),s+="; "+Math.floor(e.va/e.vt*100)+"% over "+H(e.vt),n.innerText!==s&&(t=r<1||g?r<.5||g?"180,30,30,.9":"180,180,30,.9":"30,180,30,.9",e=a.c.w-10+"px",o.style="position:absolute;background:rgba("+t+");left:5px;top:5px;width:"+e+";height:"+(a.c.h-10)+"px",a.o&&a.o.o&&(i=[],ee.each(a.o.e,function(e,t){i.push("["+t+"="+Math.floor(100*e.o)+"%] "+X(e.el))}),s+="; intersect "+i.join(", ")),n.innerText=s,r=ee.where(n,!0),t=String(r.o&&r.o.v||r.v),n.getAttribute("data-adb-vmw")!==t&&(n.setAttribute("data-adb-vmw",t),s=a=!1,1==(t=C(r))||3==t?a=!0:2==t||4==t?s=!0:r.o&&r.o.e.tl?a=!0:r.o&&r.o.e.br&&(s=!0),(s||a)&&(r=(t=ee.where(o,!0)).o&&t.o.v||t.v,o=C(t),!a||!r||2===o||4===o||t.o&&t.o.e.br?!s||!r||1===o||3===o||t.o&&t.o.e.tl||(n.style.position="initial",n.style.bottom="initial"):(n.style.position="absolute",n.style.bottom="0px",n.style.width=e)))))}function Y(e,t,n,i,r){var o=!!i&&e;o&&s.modify_dom_id&&(o=s.modify_dom_id(o));var a=ee.where(e,!0);return w[e]&&P(e,a,ee.dts()),i=_(a),w[e]={a:n,d:e,dt:o,ok:r,dctr:t,mctr:1,uid:0,uuid:0,lts:0,rts:ee.dts(),r:R(a),s:[[0,i]],m:[],lv:a.v,loo:a.o&&a.o.o||0},G(),w[e]}var Q;d.on("gpt.render,gpt.render_pt",function(e,t,n,i){var r;b&&(r=n.slot.getAdUnitPath(),s.modify_gpt_path&&(r=s.modify_gpt_path(r)),n=n.slot.getSlotElementId(),r=Y(n,i,r,!0),t&&(r.uid=t.id,r.uuid=t.unique_id),T(B(r),[".",r.dctr,r.s[0][1],r.r.t,r.r.p,r.r.d,r.r.i].join(",")))}),d.on("gpt.viewed_raw",function(e,t){var n,i;b&&(n=t.slot.getSlotElementId(),!(t=w[n])||t.v&&t.m.length||t.v5r||(n=ee.where(n,!0)).o&&!n.o.v&&(i=[(n=n).i||"",String(r[n.p]),z(n),y(n.v),n.in,v(n.c.t),v(n.c.l),v(n.c.w),v(n.c.h)],n.o&&(i.push(y(n.o.o)),i.push(y(n.o.v)),n.o.e&&ee.each(n.o.e,function(e,t){i.push(t+";"+e.o+";"+X(e.el))})),n=i.join(","),ee.logl("icu","empty at GPT view",t.dt),T(B(t),["*",t.dctr,t.mctr,n].join(","))),x&&t&&(t.gv=ee.dts()),U=!0,G())}),window.addEventListener&&(Q=function(e){g=!1,l=ee.dts(),a=m[e.type]||"u",u<l&&G()},ee.each(Object.keys(m),function(e){"init"!==e&&window.addEventListener(e,Q,!0)}),window.addEventListener("blur",function(){g=!0})),d.on("icu.watch",function(e,t,n,i){Y(t,1,!1,n,i)}),d.on("icu.ignore",function(e,t){w[t]&&delete w[t]})})},{"../analytics.js":11,"../modulewrapper.js":34,"../utils.js":38}],27:[function(n,f,t){function m(e){R=e;var t=b();return 0<=r.indexOf(e)&&A.cw("adb_lrs",t,j),t}function h(e){return i=e,b()}function b(){var t=(t=i+R).replace(/B/g,"");return A.thread(function(){var e=t;"b"===_&&(e+="B"),n("../analytics.js").meta(z,e)})(),t}function v(e){_=e,w=w||String(Math.floor(10*Math.random())),y=_+w,A.cw(E,y,j),T()}var y,_,w,x,A=n("../utils.js"),S=n("../ajax.js"),I=n("../config.js"),C="idl_env",j=30,k="https://ats.rlcdn.com/ats.js",z="i0",i="",R="n",r=["A","X","aX"],B=A.qs("adb_lr_grp"),E="adblrt",T=function(){A.thread(function(){n("../analytics.js").meta(z+"ab",y)})()},P=!1,O=!1;f.exports=function(o,t){if(b(),x||(x=!0,t.on("gamkvp.getids",function(e,t){O?"A"===R?(t.push(z+"a"),A.log("liveramp gamkvp.getids","a")):(t.push(z+"x"),A.log("liveramp gamkvp.getids","x")):(t.push(z+"n"),A.log("liveramp gamkvp.getids","n"))})),o.defer&&!P)return P=!0,A.log("LiveRamp deferring load"),void o.defer(A.wrapAsync(function(){A.log("LiveRamp resuming load"),f.exports(o,t)}));if(!o.active||o.active()){A.log("LiveRamp enabled"),o.abtest&&function(){if((y=A.cr(E))&&!B)return _=y[0],w=y.substr(1),T();B||!A.cr(C)?v("n"):v("c")}(),O=A.cr(C);var n=A.cr("adb_lrs");if(O||"b"===_&&n){var i=(n=n||"X").replace("p","").replace("P",""),r=n.replace(i,"");if(h(r),m(i),A.log("LiveRamp read: ",n,r,i,O),"b"===_)return O=!1,void A.log("LiveRamp A/B B group")}t.on("unit.config",function(e,t){O&&(A.log("Set lre ID on unit",O,t),t.set("userId.idl_env",O),t.set("userIdAsEids.liveramp",{source:"liveramp.com",uids:[{id:O,atype:3}]}))});function a(){return window.ats?(A.log("LiveRamp intialising ats",u),d=!1,window.ats.start(u),void g(s)):c?(A.log("LiveRamp ats not found; fallback to IDL"),void g(s,!(d=!1))):(d=a,void(o.load_ats||(A.log("LiveRamp ats not loaded yet, check #",p),10<(p+=1)?(A.log("LiveRamp ats took too long to load"),c=!(d=!1),a()):setTimeout(a,500))))}var s,d=!1,c=!1,u=!1,p=0;o.load_ats&&(i=A.wrapAsync(function(){window.ats||(A.log("LiveRamp ats script load fail"),c=!0),d&&d()}),A.log("LiveRamp ATS loading: ",k),A.load(k,i).onerror=i);var l=function(e,t){if(o.abtest&&"n"===_&&(B?v(B):o.abtest<1&&Math.random()>o.abtest?v("c"):.5<Math.random()?v("a"):v("b")),m(t),o.abtest&&"b"===_){try{localStorage.removeItem("IXWRAPPERLiveRampIp"),window.ats=!1}catch(e){}A.log("LiveRamp AB - B group exit")}else A.log("LiveRamp set: ",e),O=e,A.cw(C,O,j)},g=function(t,r){if(O)A.log("LiveRamp fetch skipped, envelope exists");else{if(o.use_ats&&window.ats&&!r)return A.log("LiveRamp fetch ats"),void window.ats.retrieveEnvelope(A.wrapAsync(function(e){e?(A.log("LiveRamp found envelope (ats)"),l(JSON.parse(e).envelope,"A")):(A.log("LiveRamp no ats user; fetching standard"),m("a"),g(t,!0))}));S({url:t,withCredentials:!0,parseResponseJson:!0},function(t,n){if(t){var i=String(t.type).match(/^status=(\d+)$/i);return i?A.err("LRIDERR_"+i[1]):t.type?A.err("LRIDERR_"+t.type):A.err("LRIDERR",e),void m(r?"ae":"e")}n&&n.envelope?(A.log("LiveRamp found envelope (standard)"),l(n.envelope,r?"aX":"X")):(A.log("LiveRamp unknown user: envelope empty, refetch next pv"),m(r?"ax":"x"))})}};I.afterConsent(function(e){var t,n,i;e&&e.gdprApplies&&!e.consentString||(o.pid?(i=(t=e&&e.gdprApplies?1:0)&&e.vendorData&&2===e.vendorData.tcfPolicyVersion,n="https://api.rlcdn.com/api/identity/envelope?pid="+o.pid+(t?(i?"&ct=4&cv=":"&ct=1&cv=")+e.consentString:""),o.use_ats?(s=n,u={placementID:o.pid},o.params&&(i="function"==typeof o.params?o.params():o.params,i=(u=Object.assign(u,i)).email||u.phoneNumber||o.hasId&&o.hasId()||!1,O||h(i?"P":"p")),t&&(u.consentString=e.consentString),a()):g(n)):A.log("LiveRamp disabled: no pid."))})}else A.log("LiveRamp disabled")}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":38}],28:[function(e,t,n){var o=e("../utils");t.exports=function(e,t){var i={},n={},r=e.offset_distance||400;t.on("auction.start",function(e,t){t.eachUnit(function(e){var t=e.get("dom_id");if(!t)return o.err("LzEstNoDom",e.alias);i[t]="lzno",n[t]&&(o.logl("lz","LazyEst removing previous",t),o.undom(t,n[t])),n[t]=function(){o.logl("lz","LazyEst triggered",t),i[t]="lzyes"},o.logl("lz","LazyEst measurement",t,o.where(t)),o.dom(t,r,0,n[t])})}),t.on("gpt.set_targeting",function(e,t,n){t.setImpData("lz",i[t.get("dom_id")]||"lzna")})}},{"../utils":38}],29:[function(t,e,n){function a(e){i=e,s.thread(function(){t("../analytics.js").meta("i9",i)})()}var i,s=t("../utils"),d=t("../ajax"),c=t("../config"),u="merkleId";a("N");function p(e){return e&&e.pam_id&&"string"==typeof e.pam_id.id?e.pam_id:void 0}e.exports=function(r,e){var t=JSON.parse(s.cr(u)||s.lr(u)||"{}"),o=p(t);o&&a("C"),e.on("gamkvp.getids",function(e,t){o?t.push("i9y"):t.push("i9n")}),e.on("unit.config",function(e,t){o&&(t.set("userId.merkleId",o.id),t.set("userIdAsEids.merkleId",{source:"merkleinc.com",uids:[{id:o.id,atype:3}],ext:o.keyID?{keyID:o.keyID}:void 0}))}),o?s.log("MerkleId Skipped: Fetch request"):c.afterConsent(function(e,t){var n,i;((n=r)&&"string"==typeof n.vendor?"string"!=typeof n.sv_cid?(s.err("User ID - merkleId submodule requires a valid sv_cid string to be defined"),1):"string"!=typeof n.sv_pubid&&(s.err("User ID - merkleId submodule requires a valid sv_pubid string to be defined"),1):(s.err("User ID - merkleId submodule requires a valid vendor to be defined"),1))||(i=["vendor="+r.vendor,"sv_cid="+r.sv_cid,"sv_pubid="+r.sv_pubid,"sv_domain="+s.url().domain],(n="string"!=typeof(n=r).sv_session?n.sv_session:s.cr("_svsid")||s.lr("_svsid"))&&i.push("sv_session="+n),i={url:n="https://id2.sv.rkdms.com/identity/?"+i.join("&"),method:"GET",withCredentials:!0},s.log("Fetching merkleid from url: ",n),d(i,function(e,t){if(e)a("E");else{var n;if(t)try{n=JSON.parse(t)}catch(e){return s.err("MKE"),void a("E")}n?(s.log("MerkleId Responded",n),o=p(n),a(o?"A":"B")):s.log("MerkleId Skipped: No response"),s.lw(u,t,30)}}))})}},{"../ajax":10,"../analytics.js":11,"../config":13,"../utils":38}],30:[function(t,e,n){function a(e){i=e,s.thread(function(){t("../analytics.js").meta("i4",i)})()}var i,s=t("../utils.js"),d=(t("../ajax.js"),t("../config.js"),"_adb_nextroll_id");a("N"),e.exports=function(e,t){var n=!1;if(t.on("gamkvp.getids",function(e,t){n?t.push("i4y"):t.push("i4n")}),"string"==typeof e.partner_id){if(!function(){var e=navigator.userAgent.toLowerCase();if(0<=e.indexOf("(linux; android ")){var t=e.substr(e.indexOf("linux; android ")+15).split(/\W/),n=parseInt(t[0]),i=parseInt(t[1]),t=parseInt(t[2]);if(isNaN(n)||n<4||4===n&&isNaN(i)||4===n&&0===i&&(isNaN(t)||t<3))return}else if(!e.match(/\b(ipad|iphone|ipod)\b/)||parseInt(e.substr(e.indexOf(") version/")+10),10)<9)return;return 1}())return s.log("Nextroll ID skipped: invalid UA"),void a("U");if(n=s.lr(d,!0),t.on("unit.config",function(e,t){n&&(s.log("Set Nextroll ID on unit",n,t),t.set("userId.nextroll",n))}),n)return s.log("Nextroll ID read",n),void a("L");var i=!1;t.on("gpt.render_raw",function(){i||(i=!0,s.log("Nextroll ID setup"),r(),window.RetrieveAdID(o,o,{PID:e.partner_id,app:"nextroll_id_module"}))})}else s.err("Nextroll missing partner_id");function r(){var t,n=["ReadAdID","YES","RetrieveNearestAdID","&ssn=","slice","join","ignoreOptout","&eid=","/push?uid=","/ping?uid=","dca0","loadSSN","exports","call","defineProperty","toStringTag","__esModule","object","create","string","default","hasOwnProperty","undefined","Module","bind","prototype","floor","random","toString","xid0","XIDOPTOUT","https://sn.dca0.com/key","https://sn36.dca0.com","GET","onreadystatechange","readyState","DONE","responseText","status","send","https://l",".dca0.com/srv-id/?uid=","k4838af91965497293f0d0f92c691c29","length","charAt","substring","indexOf","getTime","expires=","toUTCString","cookie",";path=/;samesite=none;secure;","PID","app","createElement","script","src","body","appendChild"];t=n,function(e){for(;--e;)t.push(t.shift())}(249);var i,r,C=function(e,t){return n[e=+e]};function o(e){if(r[e])return r[e][C("0x0")];var t=r[e]={i:e,l:!1,exports:{}};return i[e][C("0x1")](t[C("0x0")],t,t.exports,o),t.l=!0,t[C("0x0")]}i=[function(e,t){function r(e){if(i[e])return i[e][C("0x0")];var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,i;n=[,,function(e,t,n){e[C("0x0")]=n(3)},function(e,t){!function(){"use strict";var e,t,h=i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i(),n=C("0x11"),b=C("0x12"),v=C("0x13"),y=C("0x14");function i(){return Math[C("0xe")](65536*(1+Math[C("0xf")]()))[C("0x10")](16).substring(1)}function _(e,t){var n=new XMLHttpRequest;n.open(C("0x15"),e,!0),n[C("0x16")]=function(){n[C("0x17")]===XMLHttpRequest[C("0x18")]&&t&&t(n[C("0x19")],n[C("0x1a")])},n[C("0x1b")]()}function w(t){var i=new Array(19),r=0,o=!1;function e(e,t,n){200===n?(t=JSON.parse(t),i[e]=t.id,r++):o=!0}for(var n=0;n<19;n++)_(C("0x1c")+n+C("0x1d")+h,e[C("0xc")](void 0,n));!function e(){o?t(null):19!==r?setTimeout(e,100):t&&t(i)}()}function x(n){!function e(){var t=window[C("0x1e")];t?n&&n(t):setTimeout(e,100)}()}function A(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=n[C("0x1f")],r=0;r<i;r++){for(var o=n[r];" "===o[C("0x20")](0);)o=o[C("0x21")](1);if(0===o[C("0x22")](t))return o[C("0x21")](t.length,o[C("0x1f")])}return""}function S(e,t,n){var i=new Date;i.setTime(i[C("0x23")]()+24*n*60*60*1e3);i=C("0x24")+i[C("0x25")]();document[C("0x26")]=e+"="+t+";"+i+C("0x27")}function I(e,t){return t&&(t.PID&&(e+="&PID="+t[C("0x28")]),t[C("0x29")]&&(e+="&app="+t[C("0x29")])),e}(e=document[C("0x2a")](C("0x2b")))[C("0x2c")]=v,t=e,function e(){document[C("0x2d")]?document.body[C("0x2e")](t):setTimeout(e,1)}(),window[C("0x2f")]=function(){return C("0x30")===A(b)?null:A(n)},window[C("0x31")]=function(n,i){x(function(t){w(function(e){e?_(I(v+"/"+t+"/ping/nearest?uid="+h+C("0x32")+e[C("0x33")](0,19)[C("0x34")](""),i),n):n&&n(null)})})},window.RetrieveAdID=function(e,i,r){var o=!!r&&r[C("0x35")];if(C("0x30")===A(b)&&!o)return e&&e(null),void(i&&i(null));var a=r&&r[C("0x28")]?n+"_"+r[C("0x28")]:n,s=A(a)||null;e&&e(s);var d=!1,c=2,u="",p="";function l(t){!function e(){d?s&&t(s):setTimeout(e,1e3)}()}function g(e,t,n){_(I(v+"/"+e+"/push?uid="+h+C("0x36")+encodeURIComponent(n)+C("0x32")+t.slice(0,19)[C("0x34")]("")))}function f(e,t){_(I(y+C("0x37")+h+C("0x36")+encodeURIComponent(t)+C("0x32")+e.slice(0,10).join(""),r))}function m(){var e,t,n;0==--c&&(s=u||p||s||null,d=!0,o?i&&i(s):s?(e=s,t=r,n=function(e){return e?(S(b,C("0x30"),1825),void(i&&i(null))):(S(a,s,365),void(i&&i(s)))},_(I("https://optout.dca0.com/app/v1/sync?uid="+h+C("0x36")+encodeURIComponent(e),t),function(e){n("1"===e)})):i&&i(null))}w(function(n){var e;n?(x(function(t){var e;e=n,_(I(v+"/"+t+C("0x38")+h+"&ssn="+e[C("0x33")](0,19)[C("0x34")]("")),function(e){u=e,m(),u||l(g[C("0xc")](null,t,n))})}),e=n,_(I(y+"/ping?uid="+h+C("0x32")+e[C("0x33")](0,10)[C("0x34")](""),r),function(e,t){p=e,m(),p||200!==t||l(f["bind"](null,n))})):i&&i(null)})},window.dca0=window[C("0x39")]||{},window[C("0x39")].loadSNID=x,window[C("0x39")][C("0x3a")]=w}()}],i={},r.m=n,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object[C("0x2")](e,t,{enumerable:!0,get:n})},r.r=function(e){C("0xa")!=typeof Symbol&&Symbol[C("0x3")]&&Object[C("0x2")](e,Symbol[C("0x3")],{value:C("0xb")}),Object[C("0x2")](e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&C("0x5")==typeof t&&t&&t[C("0x4")])return t;var n=Object[C("0x6")](null);if(r.r(n),Object.defineProperty(n,C("0x8"),{enumerable:!0,value:t}),2&e&&C("0x7")!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}[C("0xc")](null,i));return n},r.n=function(e){var t=e&&e[C("0x4")]?function(){return e[C("0x8")]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object[C("0xd")].hasOwnProperty[C("0x1")](e,t)},r.p="/",r(r.s=2)}],r={},o.m=i,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object[C("0x2")](e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol[C("0x3")],{value:"Module"}),Object[C("0x2")](e,C("0x4"),{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&C("0x5")==typeof t&&t&&t[C("0x4")])return t;var n=Object[C("0x6")](null);if(o.r(n),Object[C("0x2")](n,"default",{enumerable:!0,value:t}),2&e&&C("0x7")!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e[C("0x4")]?function(){return e[C("0x8")]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype[C("0x9")][C("0x1")](e,t)},o.p="/",o(o.s=0)}function o(e){s.log("Nextroll ID fetched",e||"(empty)"),function(e){if(null!=e&&""!==e)return 1;a("E")}(e)&&(n=e,a("A"),s.lw(d,e))}}},{"../ajax.js":10,"../analytics.js":11,"../config.js":13,"../utils.js":38}],31:[function(n,e,t){var i,r=n("../utils"),o="_pubcid",a="PublisherCommonId",s=r.cr("_pubcid_optout"),d="N";try{s||("object"==typeof window[a]?(i=window[a].getId(),d="A",r.log("Read pubcid from API:"+i)):(i=r.cr(o),d=i?"C":(i=r.lr(o))?"L":(i=r.genUUID(),"G"),r.cw(o,i,1825),r.lw(o,i),window[a]={getId:function(){return i}},r.log("Read pubcid from cache"+i)))}catch(e){r.err("pubcid init fail",e),d="E"}e.exports=function(e,t){i&&t.on("unit.config",function(e,t){t.set("userId.pubcid",i),t.set("userIdAsEids.pubcid",{source:"pubcid.org",uids:[{id:i,atype:1}]})}),t.on("gamkvp.getids",function(e,t){i?t.push("i1y"):t.push("i1n")}),r.thread(function(){n("../analytics.js").meta("i1",d)})()}},{"../analytics.js":11,"../utils":38}],32:[function(t,e,n){function i(e){r=e,o.thread(function(){t("../analytics.js").meta("i6",r)})()}var r,o=t("../utils"),a=t("../ajax"),s=t("../config"),d="sharedid";i("N"),e.exports=function(e,t){e.use_pubcid&&(d="pubcid_sharedid");var n=o.cr(d);n&&i("C"),t.on("gamkvp.getids",function(e,t){n?t.push("i6y"):t.push("i6n")}),t.on("unit.config",function(e,t){n&&(t.set("userId.sharedid",n),t.set("userIdAsEids.sharedid",{source:"sharedid.org",uids:[{id:n,atype:1,ext:{third:""}}]}))}),n||s.afterConsent(function(e){var t="";e&&e.gdprApplies&&(t="?gdpr=1&gdpr_consent="+e.consentString),a({url:"https://id.sharedid.org/id"+t,method:"GET",parseResponseJson:!0,withCredentials:!0},function(e,t){if(e)i("E");else if(t.sharedId){if("00000000000000000000000000"===t.sharedId)return i("O"),void o.cw(d,"",-1);n=t.sharedId,o.cw(d,n,1825),i("A")}})})}},{"../ajax":10,"../analytics.js":11,"../config":13,"../utils":38}],33:[function(t,e,n){var i,o=t("../utils"),a=t("../ajax"),s=t("../config");function d(e){return e&&e.gdprApplies}function c(e){i=e,o.thread(function(){t("../analytics.js").meta("i7",i)})()}c("N"),e.exports=function(e,t){var i=e.pixelId,n=o.lr("connectid"),r=(n?JSON.parse(n):{}).connectid;"forbar"==r&&(n=r=!1),r&&c("C"),t.on("gamkvp.getids",function(e,t){r?t.push("i7y"):t.push("i7n")}),t.on("unit.config",function(e,t){r&&(t.set("userId.connectid",r),t.set("userIdAsEids.connectid",{source:"verizonmedia.com",uids:[{id:r,atype:3}]}))}),n?o.log("VerizonId Skipped: Fetch request"):"function"==typeof e.email&&(o.log("Triggered user id fetch in verizonid",e),e.email(function(n){n?s.afterConsent(function(e,t){o.log("VerizonId: Email found: ",n);e=["1p=0","he="+n,"gdpr="+(d(e)?"1":"0"),"gdpr_consent="+(d(e)?e.consentString:""),"us_privacy="+(t&&t.uspString?t.uspString:""),"pixelId="+i],t="https://ups.analytics.yahoo.com/ups/"+i+"/fed?"+e.join("&"),e={url:t,method:"GET",withCredentials:!0};o.log("Fetching verizonid from url: ",t),a(e,function(e,t){if(e)c("E");else{var n;if(t)try{n=JSON.parse(t)}catch(e){return o.err("VRE"),void c("E")}n&&n.connectid?(o.log("VerizonId Responded",n),r=n.connectid,c("A")):o.log("VerizonId Skipped: No response"),o.lw("connectid",t,1)}})}):o.log("VerizonId Skipped: No email found")}))}},{"../ajax":10,"../analytics.js":11,"../config":13,"../utils":38}],34:[function(d,e,t){var c=d("./utils.js"),u=d("./config.js");e.exports=function(r,o){function a(e,t){if(e.pub_active){var n=u.libSettings("pub");if(!n){c.log(s,"pub check deferred");var i=!1;return void t.on("pub.config",c.wrapAsync(function(){i||(i=!0,a(e,t))}))}if(!e.pub_active(n))return void c.log(s,"inactive due to pub check")}if(e.active&&!e.active())return c.log(s,"inactive");r.track_as&&c.thread(function(){d("./analytics.js").mod(r.track_as)})(),c.log(s,"instantiating"),o(e,t)}var s=r.name||"summodhuh";return a}},{"./analytics.js":11,"./config.js":13,"./utils.js":38}],35:[function(e,t,n){var a=e("./utils.js");function i(e){var t=this,n=e.url,i=e.config,r=e.id,o=e.callback,e=e.loaded;this.url=n,this.config=i,this.handlers={},this.id=r,this.loaded=e,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):a.err("Commands given to Renderer.push must be wrapped in a function")},this.callback=o||function(){t.loaded=!0,t.process()},a.load(n,this.callback,!0)}i.install=function(e){return new i({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded})},i.prototype.getConfig=function(){return this.config},i.prototype.setRender=function(e){this.render=e},i.prototype.setEventHandlers=function(e){this.handlers=e},i.prototype.handleVideoEvent=function(e){var t=e.id,e=e.eventName;"function"==typeof this.handlers[e]&&this.handlers[e](),a.log("Prebid Renderer event for id "+t+" type "+e)},i.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){a.err("Error processing Renderer command: ",e)}},t.exports=i},{"./utils.js":38}],36:[function(e,t,n){function f(t){var e="GET"===t.method&&("object"==typeof t.data?h.toqs(t.data,!0):t.data),e={method:t.method,url:"GET"===t.method&&e?[t.url,"?",e].join(""):t.url,withCredentials:!1!==(t.options&&t.options.withCredentials),parseResponseJson:void 0===t.parseResponseJson||t.parseResponseJson,data:"POST"===t.method&&("object"==typeof t.data?JSON.stringify(t.data):t.data),contentType:(t.options||{}).contentType};return s.libSettings().ajaxraw&&(e.rawProcessor=function(e){s.libSettings().ajaxraw(t,e)}),e}function i(e,t){var n=t.config.size.split("x"),t=n[0],e=(2*(n=n[1])<t?["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;}",".native-flex{display:flex;flex-direction:column;height:",n,"px;}",".native-flex-container{display:flex;flex-direction:row;flex:1}",".native-flex-content{display:flex;flex-direction:column;flex:7}",".native-image{background-image:url(",e.image.url,");flex:1;margin-right:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-flex">','<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-flex-container">','<div class="native-image"></div>','<div class="native-flex-content">','<div class="native-title">',e.title,"</div>",'<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</div>","</div>","</div>","</a>"]:["<style>",".native-wrap{text-decoration:none;color:#000;font-family:sans-serif;display:flex;flex-direction:column;height:",n,"px;}",".native-image{background-image:url(",e.image.url,");flex:2;margin-bottom:1em;background-size:cover;background-repeat:no-repeat;background-position: center;}",".native-sponsor{font-size:x-small;text-align:center;text-transform:uppercase;margin-bottom:0.5em;}",".native-title{font-size:larger;font-weight:bold;margin-bottom:0.5em;}",".native-body{margin-bottom:0.5em;}",".native-body2{margin-bottom:0.5em;}",".native-icon{width:1.5em;vertical-align:middle;}",'</style><a class="native-wrap" href="',e.clickUrl,'">',(e.impressionTrackers||[]).map(function(e){return['<img src="',e,'" style="display:none">'].join("")}).join(""),'<div class="native-sponsor">sponsored advertisement from ',e.icon?['<img class="native-icon" alt="',e.sponsoredBy,'" src="',e.icon.url,'"> '].join(""):"",e.sponsoredBy,"</div>",'<div class="native-title">',e.title,"</div>",'<div class="native-image"></div>','<div class="native-body">',e.body,"</div>",'<div class="native-body2">',e.body2,"</div>","</a>"]).join("");return e+=["<script>",'var container=Array.from(document.getElementsByTagName("script")).pop().parentElement,','body=container.querySelector(".native-body"),','body2=container.querySelector(".native-body2");',"if(container.clientHeight-container.scrollHeight)",'body.innerText="";','body2.innerText="";',"<\/script>"].join("")}function r(e){return e?e.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),t=n[0],n=n[1];return/\[\]$/.test(t)?(e[t=t.replace("[]","")]=e[t]||[],e[t].push(n)):e[t]=n||"",e},{}):{}}var o,a,m=e("./ajax.js"),h=e("./utils.js"),s=e("./config.js"),d=e("./renderer.js"),b={auction:void 0,gdpr_consent_object:void 0},v=function(e,t){return(t.unit.settings&&t.unit.settings.nativeTemplate||i)(e,t)},e=function(e,t){var n=document.createElement("a");t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);t=t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},y={createEidsArray:function(){var e=b.auction.findUnit(function(){return 1}),e=e&&e.toPrebidUIDs();return e&&e.userIdAsEids},JSEncrypt:0,sha256:0,formatQS:function(e){return Object.keys(e).map(function(t){return Array.isArray(e[t])?e[t].map(function(e){return t+"[]="+e}).join("&"):t+"="+e[t]}).join("&")},findIndex:function(e,t){return e.indexOf(t)},getRefererInfo:function(){return{referer:h.url().href,stack:[h.url().href],reachedTop:window.top===window,numIframes:0|!(window.top===window)}},utils:{mergeDeep:function(e,t){if(!e||!t||"object"!=typeof e||"object"!=typeof t)return e;for(var n in t){var i=typeof t[n];switch(i="object"===i&&Array.isArray(t[n])?"array":i){case"array":e[n]=(e[n]||[]).concat(t[n]);break;case"object":e[n]=y.utils.mergeDeep(e[n]||{},t[n]);break;default:e[n]=t[n]}}return e},isPlainObject:function(e){return h.isobj(e)},getGptSlotInfoForAdUnitCode:function(t){var e;return(e=window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots?find(window.googletag.pubads().getSlots(),function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}):e)?{gptSlot:e.getAdUnitPath(),divId:e.getSlotElementId()}:{}},parseUrl:function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);t=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:t?n.search:r(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},getValue:function(e,t){return e[t]},buildUrl:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":"+e.port:""))+(e.pathname||"")+(e.search?"?"+y.formatQS(e.search||""):"")+(e.hash?"#"+e.hash:"")},isBoolean:function(e){},getParameterByName:function(e){return h.qs(e)||""},getAdUnitSizes:!1,parseQueryStringParameters:function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n},getKeys:function(e){return Object.keys(e)},insertElement:function(e,t,n,i){n=(t=t||document).getElementsByTagName(n||"head"),n=(n=!n.length?t.getElementsByTagName("body"):n)[0];if(n)return n.insertBefore(e,i?null:n.firstChild)},getDataFromLocalStorage:function(e){if(window.localStorage)return window.localStorage.getItem(e)},inIframe:function(){return!h.url().is_top},_map:function(n,i){if(!n)return[];if("function"==typeof n.map)return n.map(i);var r=[];return h.each(n,function(e,t){r.push(i(e,t,n))}),r},deepAccess:h.deepAccess,deepSetValue:function(e,t,r){return t.split(".").reduce(function(e,t,n,i){return n===i.length-1?e[t]=r:e[t]=e[t]||{}},e)},getTopWindowUrl:function(){return h.url().href},getWindowSelf:function(){return window.self},getWindowTop:function(){return window.top},isArray:function(e){return Array.isArray(e)},parseSizesInput:function(e){return e.map(function(e){return e.join("x")})},parseGPTSingleSizeArray:function(e){if(Array.isArray(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1]))return e.join("x")},_each:h.each,cookiesAreEnabled:function(){return navigator.cookieEnabled},logError:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Error |"),h.log.apply(null,e)},logWarn:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Warning |"),h.log.apply(null,e)},logMessage:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Message |"),h.log.apply(null,e)},logInfo:function(){var e=Array.prototype.slice.apply(arguments);e.unshift("Adapter Info |"),h.log.apply(null,e)},getBidIdParameter:function(e,t){return t&&t[e]||""},getUniqueIdentifierStr:(a=0,function(){return++a}),convertCamelToUnderscore:function(e){return e.replace(/(?:^|\.?)([A-Z])/g,function(e,t){return"_"+t.toLowerCase()}).replace(/^_/,"")},convertTypes:function(i,r){return h.each(i,function(e){var t=i[e],n=i[e];r[e]="function"==typeof t?n(n):"string"===t?n&&n.toString():"number"===t?Number(n):n,isNaN(r[e])&&delete r[e]}),r},createTrackPixelHtml:h.pixelh,isEmpty:function(e){if(!e)return!0;if(Array.isArray(e)||"string"==typeof e)return!e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},transformBidderParamKeywords:function(e){var n=[];return h.each(e,function(e,t){t={key:t};Array.isArray(e)&&(t.value=e.map(function(e){return e+""})),null!=e&&(t.value=[e+""]),t.hasOwnProperty("value")&&n.push(t)}),n},tryAppendQueryString:function(e,t,n){return n?e+(t+"="+encodeURIComponent(n))+"&":e},isFn:function(e){return"function"==typeof e},isStr:function(e){return"string"==typeof e},isEmptyStr:function(e){return""===e},assign:h.assign,isInteger:Number.isInteger||function(e){return Math.floor(e)===e&&isFinite(e)},isNumber:function(e){return"number"==typeof e},groupBy:function(e,n){return e.reduce(function(e,t){return(e[t[n]]=e[t[n]]||[]).push(t),e},{})},deepClone:function i(r){return Object.keys(r).reduce(function(e,t){var n={}.toString.call(r[t]).slice(8,-1);return e[t]="Array"===n||"Object"===n?i(r[t]):"Date"===n?new Date(r[t].getTime()):"RegExp"===n?new RegExp(r[t]):r[t],e},Array.isArray(r)?[]:{})},flatten:function(e,t){return e.concat(t)},chunk:function(e,i){return e.reduce(function(e,t,n){return n%i?e[e.length-1].push(t):e.push([t]),e},[])},fill:function(e,t){for(var n=[];n.length<t;n.push("object"==typeof e?y.utils.deepClone(e):e));return n},getMaxValueFromArray:Function.apply.bind(Math.max,0),getMinValueFromArray:Function.apply.bind(Math.min,0),isArrayOfNums:function(e,t){return e.length===(t||e.length)&&e.reduce(function(e,t){return e&&"number"==typeof t},!0)},generateUUID:h.genUUID,getBidRequest:function(e,t){for(var n=0;n<t.length;++n)for(var i=t[n],r=0;r<i.bids.length;++r){var o=i.bids[r];if(o.bidId===e||o.adId===e||o.bid_id===e)return o}h.err("shimGetBidRequestFail",e)},triggerPixel:function(e){h.uspi("S2S",e)},uniques:function(e,t,n){return n.indexOf(e)===t},contains:function(e,t){return 0<e.length&&-1!==e.indexOf(t)},getOrigin:function(){return h.url()},getDNT:function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},getCookie:h.cr,isGptPubadsDefined:function(){return window.googletag&&"function"==typeof window.googletag.pubads&&"function"==typeof window.googletag.pubads().getSlots},isSlotMatchingAdUnitCode:function(t){return function(e){return e.getAdUnitPath()===t||e.getSlotElementId()===t}}},verify:null,_each:h.each,urlUtils:{parse:e},getUniqueIdentifierStr:function(){return++o},url:{type:o=0,parse:e,format:function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(y.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")}},BANNER:"banner",VIDEO:"video",NATIVE:"native",ADPOD:"adpod",OUTSTREAM:"outstream",INSTREAM:"instream",config:{DynamicPrefix:!0,getLegacyFpd:function(r){if("object"==typeof r){var t={};return Object.keys(r).forEach(function(i){var e="site"===i?"context":i;t[e]="context"===e||"user"===e?Object.keys(r[i]).filter(function(e){return"data"!==e}).reduce(function(e,t){var n;return"ext"===t?y.utils.mergeDeep(e,r[i][t]):((n={})[t]=r[i][t],y.utils.mergeDeep(e,n)),e},{}):r[i]}),t}},config:{},getConfig:function(e){switch(e){case"pageUrl":return h.url().href;case"bidderTimeout":return b.auction.max_ms;case"consentManagement.cmpApi":return b.gdpr_consent_object.cmpApi;case"rubicon.singleRequest":return!0;case"ortb2":return{site:{},user:{}};case"priceGranularity":return"custom";case"customPriceBucket":return{buckets:(s.libSettings().bid_strategy||"").split(",").map(function(e){var t=e.split(":"),e=t[1].split("-").map(Number);return{precision:2,increment:t[0],min:e[0],max:e[1]}})};default:return h.deepAccess(y.config.config,e)}},bidders:null,js:null,setDefaults:function(e){if("object"!=typeof e)return h.err("defaults must be an object, received",e);h.assign(y.config.config,e)},vastXml:null,vastUrl:null,align:null,closeButton:null,collapse:null,label:null,position:null,rubicon:null},parse:e,registerBidder:function(){},userSync:{registerSync:function(e,t,n){var i="image"===e||"img"===e?h.uspi:"iframe"===e?h.uspf:void 0;i?i(t,n):h.err(["Unknown sync type: ",e," from ",t].join(""))}},includes:function(e,t){return-1!==e.indexOf(t)},find:function(e,t){return e.filter(t)[0]},Renderer:d,loadExternalScript:function(e,t){h.log("module "+t+"is loading external JavaScript"),h.load(e,null,!0)},ajax:function(e,i,t,n){h.ajax(h.assign({},n,{data:t,url:e}),function(e,t,n){e&&i.error?i.error(e.err,e):i.success?i.success(t,n):i(t)})},getIabSubCategory:function(){return null},auctionManager:{getAdUnits:function(){return b.PBJSObjects.bidRequests}},getStorageManager:function(){var i=h.wrapAsync(function(e,t,n){n=n();return"function"==typeof t?t(n):n});return{findSimilarCookies:function(r,e){return i("findSimilarCookies",e,function(){for(var e=[],t=document.cookie.split(";");t.length;){var n=t.pop(),i=(i=n.indexOf("="))<0?n.length:i;0<=decodeURIComponent(n.slice(0,i).replace(/^\s+/,"")).indexOf(r)&&e.push(decodeURIComponent(n.slice(i+1)))}return e})},getCookie:function(e,t){return i("getCookie",t,function(){return h.cr(e)})},setCookie:function(r,o,a,s,d,e){return i("setCookie",e,function(){var e=d&&""!==d?" ;domain="+encodeURIComponent(d):"",t=a&&""!==a?" ;expires="+a:"",n=null!=s&&"none"==s.toLowerCase()?"; Secure":"",i=s?"; SameSite="+s:"";document.cookie=r+"="+encodeURIComponent(o)+t+"; path=/"+e+i+n})},cookiesAreEnabled:function(e){return i("cookiesAreEnabled",e,function(){return h.cookies})},hasLocalStorage:function(e){return i("hasLocalStorage",e,function(){try{return!!window.localStorage}catch(e){}})},localStorageIsEnabled:function(e){return i("localStorageIsEnabled",e,function(){try{if(localStorage.setItem("adb.cookieTest","1"),"1"===localStorage.getItem("adb.cookieTest"))return!0}catch(e){}return!1})},setDataInLocalStorage:function(e,t,n){return i("setDataInLocalStorage",n,function(){try{window.localStorage.setItem(e,t)}catch(e){}})},getDataFromLocalStorage:function(e,t){return i("getDataFromLocalStorage",t,function(){try{return window.localStorage.getItem(e)}catch(e){}return null})},removeDataFromLocalStorage:function(e,t){return i("removeDataFromLocalStorage",t,function(){try{window.localStorage.removeItem(e)}catch(e){}})}}},getGlobal:function(){return AdBridg.globals}};y.isArray=y.utils.isArray,y.isInteger=y.utils.isInteger,y.deepAccess=y.utils.deepAccess,y.generateUUID=y.utils.generateUUID,y.triggerPixel=y.utils.triggerPixel,y.convertTypes=y.utils.convertTypes,y.parseUrl=y.utils.parseUrl,y.inIframe=y.utils.inIframe,y.isBoolean=y.utils.isBoolean,y.isNumber=y.utils.isNumber,y.isStr=y.utils.isStr,y.isFn=y.utils.isFn,y.logError=y.utils.logError,y.logWarn=y.utils.logWarn,t.exports={wrap:function(l){var g={};return function(d,c,e,u,p){this.gdprSupport=l.gdprSupport,this.uspSupport=l.uspSupport,this.settings=e,this.buildPrebidParams=function(e){return t=l.unitIDKey,n=l.floorKey,i=l.floorStr,r=e,delete(e=h.deepAssign({},r.params)).adjust,e[t]=r.bidder_unit_id,"string"==typeof e[t]&&-1===["undertone","yieldmo","pubmatic","conversant"].indexOf(r.bidder_name)&&e[t].match(/^\d+$/)&&(e[t]=parseInt(e[t])),r.bidder_name.match(/^(index|ix)/)&&(e.bidFloorCur="USD"),"string"==typeof e.size&&(e.size=h.sizeStrToArr(e.size)),n&&(e[n]=r.min_cpm,i&&(e[n]=e[n].toFixed(2))),!e.video&&r.mediaTypes.video&&(e.video=h.copy(r.mediaTypes.video)),e;var t,n,i,r},this.getPrebidReqCtr=function(e){return(g[e]||0)+1},p&&p.on("pub.spa_pv_shutdown",function(){g={}}),this.onBidWon=h.wrapAsync(function(e){var t=l.spec;"function"==typeof t.onBidWon&&(h.log("Adapter onBidWon",d,e),t.onBidWon(e))}),this.onSetTarget=h.wrapAsync(function(e){var t=l.spec;"function"==typeof t.onSetTargeting&&(h.log("Adapter onSetTarget",d,e),t.onSetTargeting(e))}),this.execute=function(i){var t={};i.eachBidRequest(d,function(e){e=e.toPrebidAdUnitCode();t[e]||(t[e]=!0,g[e]=(g[e]||0)+1)}),b.auction=i,b.gdpr_consent_object=u,b.alias=d;var r=i.toPrebidBidderReq(d);p.trigger("bidder.requested",r,i),l.floorKey&&l.floorStr&&r.bids.forEach(function(e){e.params[l.floorKey]=String(e.params[l.floorKey])}),r.bidderCode.match("Sovrn")&&h.each(r.bids,function(e){e.params&&e.params.size&&(e.mediaTypes.banner.sizes=[e.params.size])}),r.start=(new Date).getTime();var e={bidderRequest:r,bidRequests:r.bids};b.PBJSObjects=e,h.each(e.bidRequests,function(e){try{l.spec.isBidRequestValid(e)}catch(e){h.log("Adapter BR invalid",e)}});var o=h.wrapAsync(l.spec.buildRequests,void 0,l.spec)(e.bidRequests,e.bidderRequest);Array.isArray(o)||(o=[o]);var n,a=[],s=(n={},i.eachBidRequest(d,function(e,t){n[t.id]={config:t,unit:e}}),n);"function"==typeof l.spec.onTimeout&&i.onHalt(function(){var t=[];h.each(r.bids,function(e){i.getBidRequest(e.bidId).responses.length||(e={bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId,params:[e.params],timeout:i.max_ms},h.log("AdBridg bid object for timeout calculation",d,e),t.push(e))}),t.length&&(h.log("Adapter onTimeout",d,t),l.spec.onTimeout(t))}),o.map(f).forEach(function(e,n){e.max_ms=i.ajax_ms,m(e,h.wrapAsync(function(e,t){a.push(t),!e&&t&&(t=h.wrapAsync(l.spec.interpretResponse,void 0,l.spec)({body:t},o[n]),(t=!Array.isArray(t)?[t].filter(Boolean):t).forEach(function(e){var t,n,i=s[e.requestId];if(!i)return h.err(["unrequested response from",d,":",JSON.stringify(e)].join(" "));e.requestTimestamp=r.start,e.responseTimestamp=(new Date).getTime(),e.timeToRespond=e.responseTimestamp-e.requestTimestamp,t=e,n=i.config,t.ad||t.native||t.renderer||(t.vastUrl||t.vastXml)&&n.renderer?(n=i,e={creative:(e=e).ad||(e.native?v(e.native,n):void 0),vastUrl:e.vastUrl,vastXml:e.vastXml,cpm:e.cpm,width:e.native?0|n.config.size.split("x")[0]:e.width,height:e.native?0|n.config.size.split("x")[1]:e.height,extras:{dealid:e.dealId||e.dealid,crid:e.creativeId||e.creativeid,ttl:e.ttl,cur:e.currency,nr:e.netRevenue,mediaType:e.mediaType},render:e.renderer&&e.renderer.render&&e.renderer.render.bind(e.renderer,e),rawbid:e},i.unit.addBid(i.config,e)):i.unit.addEmptyBid(i.config),i.found=!0})),a.length===o.length&&function(){Object.keys(s).map(function(e){return s[e]}).filter(function(e){return!e.found}).forEach(function(e){e.unit.addEmptyBid(e.config)}),p.trigger("bidder.done",r,d,i);[].concat(l.spec.getUserSyncs&&h.wrapAsync(l.spec.getUserSyncs,void 0,l.spec)({syncEnabled:!0,pixelEnabled:!0,iframeEnabled:!0},a.map(function(e){return{body:e||{}}}))||[]).forEach(function(e){y.userSync.registerSync(e.type,c,e.url)})}()}))})}}},polyfills:y}},{"./ajax.js":10,"./config.js":13,"./renderer.js":35,"./utils.js":38}],37:[function(e,t,n){var k=e("./utils"),z=e("./analytics"),R=e("./modules"),B=e("./config");t.exports=function(e){this.id=0,this.alias="",this.size="",this.other_sizes=[],this.min_cpm=0,this.max_ms=0,this.dom_ad_class="",this.settings={},this.unique_id=k.genID("U"),this.uuid=k.genUUID(),this.auction=!1,this.all_sizes=[],this.original_sizes=[];var y=this,u={},_={},p=0,r={},w=[],l={},i=!1,x=!1,t=!1,A=!1,g=!1,o=[];this.init=function(){e&&(y.set(e),R.trigger("unit.init_config",y))},this.restrictSizesTo=function(e){y.all_sizes=y.original_sizes,k.logl("sz","Unit",y.alias,"restrict sizes to",JSON.stringify(e)," old _allowed_sizes",JSON.stringify(g)),g=e,o.length&&y.allowSizes(o);for(var t,n,i=[],r=y.all_sizes.length-1;0<r;--r)-1===g.indexOf(y.all_sizes[r])&&(t=y.all_sizes[r],y.all_sizes.splice(r,1),0<=(n=y.other_sizes.indexOf(t))&&y.other_sizes.splice(n,1),i.push(t));a(),k.logl("sz","Unit",y.alias,"removed sizes",JSON.stringify(i),"allowed sizes",JSON.stringify(g)),R.trigger("unit.restrict_sizes",y,g,i)},this.allowSizes=function(e){o=[],k.each(e,function(e){k.logl("sz","Unit size added",y.alias,e),g&&-1==g.indexOf(e)&&g.push(e),-1==o.indexOf(e)&&o.push(e),-1==y.other_sizes.indexOf(e)&&y.other_sizes.push(e),-1==y.all_sizes.indexOf(e)&&y.all_sizes.push(e),a()}),k.logl("sz","Unit",y.alias,"allowed sizes",o),R.trigger("unit.allow_sizes",y,o)},this.configure=function(e){var t,n=k.qs("adb_maxms");for(t in n&&(e.max_ms=n),e)"unique_id"!=t&&"auction"!=t&&("settings"!=t?y.hasOwnProperty(t)&&"function"!=typeof y[t]&&(y[t]=JSON.parse(JSON.stringify(e[t]))):k.each(e[t],function(e,t){y.settings[t]=e}));y.all_sizes=[y.size].concat(y.other_sizes),y.original_sizes=[].concat(y.all_sizes),k.logl("sz","Unit definition original_sizes=",JSON.stringify(y.original_sizes),"size=",JSON.stringify(y.size),"other_sizes=",JSON.stringify(y.other_sizes)),k.qs("adb_force_bidder")&&(y.min_cpm=0),a(),R.trigger("unit.config",y)},this.addBidder=function(e,t){l[e]=t},this.eachBidder=function(e){for(var t in l)l.hasOwnProperty(t)&&u[t]&&e(t,l[t])},this.hasBidReqConf=function(){return 0<p},this.addBidReqConf=function(a,e,t){var s,d={id:k.genID("BR"),uuid:k.genUUID(),unit:y,adjust:1,bidder_name:a,bidder_id:e.bidder_id,bidder_unit_id:e.bidder_unit_id,min_cpm:y.min_cpm,size:y.size,other_sizes:y.other_sizes,all_sizes:[],responses:[],late_responses:[],test:e.test,toPrebid:function(){var e=y.auction.getBdrReqId(a),t=y.toPrebidUIDs(),n=k.copy(y.settings.mediaTypes),i=f(n,y.all_sizes),r=y.toPrebidAdUnitCode();s=s||l[a].getPrebidReqCtr(r);var o=y.get("imp_ctr")||1,i=k.assign({src:"client",adUnitCode:r,adbconfig:y.alias,auctionId:y.auction.uuid,bidId:d.id,bidder:a,bidderRequestId:e,bidderRequestsCount:s,bidderWinsCount:0,bidRequestsCount:o,mediaTypes:n,params:d.params,sizes:i,transactionId:y.uuid,renderer:y.settings.renderer},t),t=d.mediaTypes.native||d.nativeParams;return t&&(i.nativeParams=t),i}};if(l[a]){k.deepAssign(d,y.settings,l[a].settings,e.settings),d.params=k.deepAssign({},l[a].settings,e.settings),1!=d.adjust&&(d.min_cpm=Number((d.min_cpm/d.adjust).toFixed(2)));var n=[],i=!1;if("function"==typeof e.mutate&&n.push({n:"BidReq",f:e.mutate}),"function"==typeof l[a].mutate&&n.push({n:"Bidder",f:l[a].mutate}),k.each(n,function(e){e.f(d,t)||(i=!0,k.log(e.n+" mutate rejected BR: ",d))}),!i)if(!d.test||k.qsab(a,d.bidder_id,!0)){if(e.settings.size?d.other_sizes=[]:"string"==typeof d.other_sizes&&(d.other_sizes=d.other_sizes?d.other_sizes.split(","):[]),g){var r=[];0<=g.indexOf(d.size)&&r.push(d.size);for(var o=0;o<d.other_sizes.length;++o){var c=d.other_sizes[o];0<=g.indexOf(c)&&r.push(c)}if(!r.length)return void(g.length&&k.log("Unit ",y.alias," skipped configuration for ",d.bidder_name," because it does not support any of these sizes: ",g));d.size=r[0],d.other_sizes=r.slice(1)}d.all_sizes=[d.size].concat(d.other_sizes),k.logl("sz","Bid request sizes:",d.all_sizes),u[a]||(u[a]=[]),u[a].push(d),_[d.id]=d,++p,d.params=l[a].buildPrebidParams(d),R.trigger("unit.config_brc",y,d)}else k.log("Test configuration skipped: ",d)}else k.err("BR missing bidder",a)},this.eachBidReqConf=function(e,t){"function"==typeof e&&(t=e,e=!1),e?k.each(u[e],t):k.each(_,t)},this.getBidReqConf=function(e){return _[e]||!1},this.getBid=function(e){for(var t=0;t<w.length;++t)if(w[t].id===e)return w[t];return!1},this.set=function(e,t){if("object"!=typeof e)r[e]=t;else for(var n in e)e.hasOwnProperty(n)&&y.set(n,e[n])},this.setImpData=function(e,t,n){var i=y.get("adb_imp_data")||{};i[e]=n&&i[e]||t,y.set("adb_imp_data",i)},this.get=function(e){return r[e]},this.halt=function(){x=!0},this.onReady=function(e){t=e,S()};var S=function(){A&&t&&setTimeout(function(){t(y)},0)};this.markEmpty=function(e){y.eachBidReqConf(e,function(e){e.responses.length||y.addEmptyBid(e)})},this.addEmptyBid=function(e){if("number"==typeof e||"string"==typeof e){var t=e;if(!(e=_[t]))return void k.err("Could not find bid req: ",t)}e.responses.length||x&&e.late_responses.length||y.addBid(e,{})};var I=function(e,t){return e._bid_cpm==t._bid_cpm&&e.width==t.width&&e.height==t.height&&e.creative==t.creative};this.bidRendered=function(e,t){var n,i=e.config.bidder_name;l[i]?((n=e.pbjsBid).status="rendered",l[i].onBidWon&&l[i].onBidWon(n),R.trigger("bid.render",e,t)):k.err("uBidRender.notFound",i,y.id)},this.gptTargetSet=function(e){var t=e.config.bidder_name;l[t]?((e=e.pbjsBid).status="targetingSet",l[t].onSetTarget&&l[t].onSetTarget(e)):k.err("gptTargetSet.notFound",t,y.id)};var n=!(this.addBid=function(e,t){if(!e||!y.getBidReqConf(e.id))return k.err("Bid request from ",e.bidder_name,"not found on unit",y.id),!1;var n=t.config&&t.config.unit&&t.config.unit.unique_id,i=Number(parseFloat(t.cpm).toFixed(2))||0,r=Number(t.width)||0,o=Number(t.height)||0,a=t.creative||"",s=t.creative_url||"",d=t.extras||{},c=t.force||!1,u=t.render,p=t.vastUrl,l=t.vastXml,g=t.rawbid;i||(t.empty=!0);var f=Number((i*e.adjust).toFixed(2)),m=e.min_cpm;!n&&0<m&&f<m&&(f=0);var h=B.libSettings().pubchkcreativefn;a&&"function"==typeof h&&!h(e,t,B.libSettings())&&(k.log("Creative blocked: ",e.bidder_id,r,o,f,d),f=0);var b=n?t.ts:k.dts(),v=n?t.ms:Math.round(b-y.auction.ts),h=y.id+"."+k.genID("B"),p={id:h=g&&g.adId?g.adId:h,ms:v,ts:b,config:e,viable:!x,cpm:f,_min_cpm:m,_bid_cpm:i,force:c,width:r,height:o,creative:a,creative_url:s,extras:d,render:u,vastUrl:p,vastXml:l,rawbid:g};if(n&&((p._origin=t)._pool||(t._pool=[]),t._pool.push(p)),C(p),function(e,t){for(var n=0;n<e.responses.length;++n)if(I(t,e.responses[n]))return!0;for(n=0;n<e.late_responses.length;++n)if(I(t,e.late_responses[n]))return!0;return!1}(e,p))return k.log("Unit ",y.alias,"ignored duplicate bid from ",e.bidder_name," on BR ",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),!1;l=p.viable?"":"late ";return!p.cpm&&0<p._bid_cpm?(g=1!=e.adjust?" * "+e.adjust+" = "+Number((p._bid_cpm*e.adjust).toFixed(2)):"",l+="below-floor ("+p._bid_cpm+g+" < "+p._min_cpm+") "):t.empty&&(l+="empty "),k.log("Unit",y.alias,"got",l+"bid"+(n?" (pooled from "+n+")":""),"from",e.bidder_name,"on BR",e.id,": ",p.ms,p.width+"x"+p.height,p.cpm.toFixed(2)),R.trigger("bid.ready",p),p.pbjsBid&&j(p),p.viable?(e.responses.push(p),w.push(p),R.trigger("bid.response",p),function(){if(!x){for(var e in _){e=_[e];if(e.responses&&!e.responses.length)return}A=!0,S()}}()):(e.late_responses.push(p),z.lateBid(p)),p});this.getWinner=function(){return n||(n=!0,"function"==typeof B.libSettings().filter_bid&&k.wrapAsync(B.libSettings().filter_bid),k.each(w,function(e){R.trigger("bid.auction_close_filter",y,e),e.blocked&&(e.cpm=0,k.log("Bid filtered out",y.alias,e.config.bidder_name,"reason:",e.blocked));var t=e.width+"x"+e.height;if(e.cpm&&g&&-1==g.indexOf(t)&&(!B.libSettings().bypass_size_check||-1==B.libSettings().bypass_size_check.bidder.indexOf(e.config.bidder_name))){var n=e._origin?"(pooled bid from "+e._origin.config.unit.unique_id+")":"";return k.log("Unit ",y.alias,"rejected",n,e.config.bidder_name,"invalid size",t),void(e._origin||k.err("U",y.id," B",e.config.bidder_id+"."+e.config.bidder_unit_id,t,g))}t=e.cpm&&(!i||e.cpm>i.cpm||e.cpm==i.cpm&&.5<Math.random());i&&i.force&&(t=!1),(e.force||t)&&(i=e)}),i&&(k.log("Unit ",y.alias,"set winner to ",i.config.bidder_name,i._origin&&"(pooled bid from "+i._origin.config.unit.unique_id+")"||"",i.width+"x"+i.height,i.cpm.toFixed(2)),R.trigger("bid.auction_winner",i))),i},this.toPrebidUIDs=function(){var i=!1;return k.each(r,function(e,t){var n=t.match(/^userId\.(.+)$/),t=t.match(/^userIdAsEids\.(.+)$/);!n&&!t||i||(i={userId:{},userIdAsEids:[]}),n&&(i.userId[n[1]]=e),t&&i.userIdAsEids.push(e)}),i&&i.userIdAsEids.sort(function(e,t){return e.name<t.name?1:-1}),i&&i.userId.pubcid&&(i.crumbs={pubcid:i.userId.pubcid}),i||{}};var a=function(){y.settings.mediaTypes||(y.settings.mediaTypes={}),y.settings.mediaTypes.banner={sizes:y.all_sizes.filter(Boolean).map(k.sizeStrToArr)}},f=function(e,t){var n=e.banner?k.copy(e.banner.sizes):[];if(e.video){var i=e.video.playerSize;k.isarr(i[0])||(i=[i]);for(var r=0;r<i.length;++r){var o=i[r].join("x");-1===t.indexOf(o)&&n.push(i[r])}}return n},s=function(e,t){return k.toRange(e,t).kv.split("-").shift()},d=function(e){var t=!e&&"0.00";return{pbLg:t||s(e,".5:0-5"),pbMg:t||s(e,".1:0-20"),pbHg:t||s(e,".01:0-20"),pbDg:t||s(e,".01:0-2.99;.05:3-7.5;.5:8-20"),pbAg:t||s(e,".05:0-4.95;.1:5-9.5;.5:10-20"),pbCg:t||s(e,B.libSettings().bid_strategy)}},C=function(e){var t,n=e.config.toPrebid();e.rawbid&&e.viable?(t=k.deepAssign({},e.rawbid,{source:"client",statusMessage:"Bid available",currency:"USD",originalCurrency:"USD",cpm:e.cpm,originalCpm:e._bid_cpm,bidderCode:n.bidder,bidder:n.bidder,requestId:n.bidId,adUnitCode:n.adUnitCode,adbconfig:n.adbconfig,auctionId:n.auctionId,adId:e.id,mediaType:e.rawbid.mediaType,creativeId:e.rawbid.creativeId,netRevenue:e.rawbid.netRevenue,width:e.width,height:e.height}),e.pbjsBidO=k.deepAssign({},t),e.pbjsBid=t):e.pbjsNoBid=n},j=function(e){var t=e.width+"x"+e.height,n=d(e.pbjsBid.cpm),i=e.rawbid&&e.rawbid.adserverTargeting||{};k.assign(e.pbjsBid,n,{size:t,adserverTargeting:k.assign({hb_bidder:e.pbjsBid.bidderCode,hb_adid:e.pbjsBid.adId,hb_pb:n.pbMg,hb_size:t,hb_source:"client",hb_format:e.rawbid.mediaType||"banner"},i)})};this.toPrebidAdUnitCode=function(){return y.get("dom_id")||y.unique_id},this.toPrebidAdUnit=function(){var e=k.copy(this.settings.mediaTypes),t=f(e,this.all_sizes),n=this.toPrebidUIDs(),i=[];return this.eachBidReqConf(function(e){i.push(k.assign({bidder:e.bidder_name,params:e.params},n))}),{code:this.toPrebidAdUnitCode(),adbconfig:this.alias,sizes:t,mediaTypes:e,bids:i,transactionId:this.uuid}},this.toPrebidResults=function(){var t={noBids:[],bidsReceived:[],winningBids:[],prebidWinningBids:[]};return k.each(w,function(e){e.pbjsBid&&(t.bidsReceived.push(e.pbjsBid),"rendered"===e.pbjsBid.status?t.winningBids.push(e.pbjsBid):"targetingSet"===e.pbjsBid.status&&t.prebidWinningBids.push(e.pbjsBid)),e.pbjsNoBid&&t.noBids.push(e.pbjsNoBid)}),t},this.init()}},{"./analytics":11,"./config":13,"./modules":17,"./utils":38}],38:[function(e,t,x){var n;x.wrapAsync=function(e,t,n){return function(){try{return e.apply(n||this,arguments)}catch(e){t?t(e):x.err("Caught AsyncErr: ",e)}}},x.thread=function(t){return t=x.wrapAsync(t),function(){var e=arguments;setTimeout(function(){t.apply(this,e)},0)}},x.attempt=function(e,t){try{return e()}catch(e){}return t};function i(e){return{loading:1,interactive:2,complete:3}[e=e||document.readyState]||0}var r=1,o=(new Date).getTime(),a=function(){try{o-=Math.round(performance.now()),a=function(){return i()+"T"+Math.round(performance.now()).toString(36)},n=[r,o.toString(36),a()]}catch(e){a=function(){return i()+"T"+Math.max(0,(new Date).getTime()-o).toString(36)},n=[r=0,o.toString(36),i()+"T0"]}};a();function g(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),n}function s(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}x.on=g,x.off=s,g(document,"readystatechange",function(){3==i()&&s(document,"readystatechange",arguments.callee),n.push(a())}),x.perfts=function(){return a()},x.pgts=function(){return n},x.dts=function(){return r?Number(performance.now().toFixed(2)):Number(Math.max(0,(new Date).getTime()-o).toFixed(2))};var d=0;x.genID=function(e){return(e||"")+ ++d+Math.random().toString(16).substr(2)},x.vp=function(){var e,t,n,i=document;try{e=window.innerWidth,t=window.innerHeight,n=window.pageYOffset,window_x=window.pageXOffset}catch(e){}return{w:e||i.documentElement&&i.documentElement.clientWidth||i.body&&i.body.clientWidth||0,h:t||i.documentElement&&i.documentElement.clientHeight||i.body&&i.body.clientHeight||0,y:n||i.body&&i.body.scrollTop||0,x:window_x||i.body&&i.body.scrollLeft||0}},x.cr=function(e){e=String(document.cookie).match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return e=e?decodeURIComponent(e[2]):""},x.cw=function(e,t,n){exp_string=0<(n=n||1)?"max-age="+86400*n:"max-age=-99999";t=e+"="+encodeURIComponent(t)+";"+exp_string+";path=/;domain="+window.location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1");document.cookie=t},x.lr=function(t){var e,n="",i="";try{(i=localStorage.getItem(t))&&(i=JSON.parse(i),e=(new Date).getTime(),i.e&&parseInt(i.e,36)<e?x.logl("ls","LS expired",t,i,e):(x.logl("ls","LS read",t,i),n=i.v))}catch(e){x.logl("ls","LS read fail",t,i,e)}return n},x.lw=function(t,n,i){try{var e,r={v:n};i&&(e=(new Date).getTime(),r.s=e.toString(36),r.e=(e+864e5*i).toString(36)),r=JSON.stringify(r),localStorage.setItem(t,r),x.logl("ls","LS written",t,n,i,r)}catch(e){x.logl("ls","LS write fail",t,n,i,e)}},x.sr=function(t){try{return sessionStorage.getItem(t)}catch(e){x.logl("ss","SS read fail",t,e)}return""},x.sw=function(t,n){try{sessionStorage.setItem(t,n),x.logl("ss","SS written",t,n)}catch(e){x.logl("ss","SS write fail",t,n,e)}};try{x.cw("adbct",1),x.cookies=!!x.cr("adbct"),x.cw("adbct","",-1)}catch(e){}try{x.safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}catch(e){}x.https=!("https:"!=location.protocol),x.genUUID=function(e){try{return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,x.genUUID)}catch(e){return 0}},x.qs=function(e){e=new RegExp(e+"=([^&]+)");return(String(window.location.search).match(e)||[]).pop()};var c=x.qs("adb_force_bidder"),u=x.qs("adb_allow_bidder"),p=[];c&&"*"!=c&&(p=p.concat(c.split(","))),u&&"*"!=u&&(p=p.concat(u.split(","))),x.qsab=function(e,t,n){return t=String(t),"*"==u||"*"==c||(!n&&!c||0<=p.indexOf(t)||0<=p.indexOf(e))},x.qsappend=function(e,t,n,i){return i&&!t?"":"&"+e+"="+(t=n?encodeURIComponent(t):t)},x.toqs=function(e,n){var i="";return x.each(e,function(e,t){x.isarr(e)?x.each(e,function(e){i+=x.qsappend(t+"[]",e,n)}):i+=x.qsappend(t,e,n)}),i.replace(/^\&/,"")},x.each=function(e,t){if(e&&0!==e.length)if(e.length)for(var n=0;n<e.length;++n)t(e[n],n);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},x.sizeStrToArr=function(e){return x.isarr(e)?e:"string"==typeof e?e.split("x").map(Number):(x.err("BadSizeConvert",e),e)},x.resize_element=function(e,t,n){e.style.width&&String(e.style.width).replace("px","")==t||(e.style.width=t+"px"),e.style.height&&String(e.style.height).replace("px","")==n||(e.style.height=n+"px"),e.getAttribute("width")&&e.getAttribute("width")!=t&&e.setAttribute("width",t),e.getAttribute("height")&&e.getAttribute("height")!=n&&e.setAttribute("height",n)},x.resize_iframe=function(e,t,n,i){try{for(var r=e.document.getElementsByTagName("iframe")||[],o=0;o<r.length;++o)try{if(r[o].contentDocument===t)return x.resize_element(r[o],n,i),void(e!==top&&x.resize_iframe(e.parent,e.document,n,i))}catch(e){}}catch(e){x.err("Error resizing window to "+n+"x"+i,e)}x.err("Failed to resize window to "+n+"x"+i)},x.url=function(){var t,n,i,r,o,e=top,a=window,s=document,d=!1;try{d=window.parent===window}catch(e){}try{t=e.location.host,n=e.location.pathname+e.location.search+e.location.hash,href=e.location.href,i=e.document.referrer,r=e.document.title,o=e.location.protocol}catch(e){try{t=(String(s.referrer).match(/^[^\/]+\/\/([^\/]+)/)||[]).pop(),n=(String(s.referrer).match(/^[^\/]+\/\/[^\/]+(\/.+)$/)||[]).pop(),o=(String(s.referrer).match(/^https?\:/)||[]).pop(),href=s.referrer,r=i=""}catch(e){}}return t&&n||(t=a.location.host,n=a.location.pathname+a.location.search+a.location.hash,o=a.location.protocol,href=a.location.href,i=s.referrer),{domain:t,page:n,href:href,referrer:i,title:r,is_top:d,protocol:o}},x.pixel=function(e,t){t=t?(new Date).getTime():Math.random();document.createElement("img").src=e+"&rnd="+t},x.pixelh=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+encodeURI(e)+'"></div>':""},x.pixelf=function(e,t,n){return e?(t&&(e=encodeURI(e)),"<iframe "+(n=n?'sandbox="'+n+'"':"")+' id="'+x.genID("IPF")+'" src="'+e+'" frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" scrolling="no"></iframe>'):""};var l,f=[],m={};x.uspf=x.wrapAsync(function(e,t){x.logl("px","UserSync qF",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||f.push({a:e,t:"f",u:t})}),x.uspi=x.wrapAsync(function(e,t){x.logl("px","UserSync qI",e,m[e],5,t),m[e]=(m[e]||0)+1,5<m[e]||f.push({a:e,t:"i",u:t})});var h=!0,b=!0,v=500,y=!(x.cfusp=function(e,t,n){e||(h=!1),t||(b=!1),n&&(v=n),x.log("UserSync set: ",{image:h,iframe:b,delay:v})});x.cfuspfn=function(e){y=e};var _=x.wrapAsync(function(){if(clearTimeout(l),f.length){var e=Math.floor(Math.random()*f.length),t=f[e];if(f.splice(e,1),y&&!y(t))return x.logl("px","UserSync not sent (pub): ",t),_();if(b&&"f"==t.t){e=document.createElement("div");e.innerHTML=x.pixelf(t.u,!1,"allow-scripts allow-same-origin"),document.body.appendChild(e.firstChild),x.logl("px","UserSync (F): ",t.a,t.u)}else{if(!h||"i"!=t.t)return x.logl("px","UserSync not sent (!): ",t),_();document.createElement("img").src=t.u,x.logl("px","UserSync (I): ",t.a,t.u)}l=setTimeout(_,50)}});x.qdusp=function(){if(x.logl("px","UserSync Q",f,v,h,b,x.safari,x.cookies),x.safari||!x.cookies)return x.logl("px","UserSync skipped",x.safari,x.cookies);clearTimeout(l),l=setTimeout(_,v)};var w={};x.load=function(e,t,n,i){if(t=t?x.wrapAsync(t):function(){},!n||!w[e]){n&&(w[e]||(w[e]={ready:!1,cbs:[t]}),t=function(){w[e].ready=!0,x.each(w[e].cbs,function(e){e()})});var r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.readyState?r.onreadystatechange=function(){"loaded"!=r.readyState&&"complete"!=r.readyState||(r.onreadystatechange=null,t())}:r.onload=t,r.src=e,(i||document.body||document.head).appendChild(r),r}w[e].ready?t():w[e].cbs.push(t)},x.loadCached=function(e,t){x.load(e,t,!0)},x.iiframe=function(e){var t=document.createElement("iframe");return t.id=x.genID("IIF"),t.height=0,t.width=0,t.border="0px",t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.border="0",t.scrolling="no",t.frameBorder="0",t.src=void 0===e?"about:blank":e,t.style.display="none",t},x.prepend=function(e,t){return"string"==typeof t&&(t=document.createElement(t)),e.prepend?e.prepend(t):e.children.length?e.insertBefore(t,e.children[0]):e.appendChild(t),t},x.isarr=function(e){return"[object Array]"===Object.prototype.toString.call(e)};var A=!(x.isobj=function(e){return"[object Object]"===Object.prototype.toString.call(e)});x.isdebug=function(){return A},x.setdebug=function(e){e&&(A=e,document.cookie="adb_debug="+A+";path=/;domain=."+location.hostname.replace(/.*?([^.]+\.[^.]+)$/,"$1"))},x.setdebug(x.qs("adb_debug")||x.cr("adb_debug")),x.log=function(){if(A){var e=Array.prototype.slice.apply(arguments);e.unshift("AdBridg | "+x.dts().toFixed(2));try{console.log.apply(console,e)}catch(e){}}},x.logl=function(e){A==e&&x.log.apply(x,["log::",e].concat(Array.prototype.slice.apply(arguments,[1])))};var S,I=[];x.err=function(){var t=Array.prototype.slice.apply(arguments);if(A){var e=[].concat(t);e.unshift("AdBridg | "+x.dts().toFixed(2)+" | ERROR: ");try{console.log.apply(console,e)}catch(e){}}S&&!(t=S(t))||I.length&&x.each(I,function(e){e.apply(null,t)})},x.onerr=function(e){I.push(e)};var C=!(x.wraperr=function(e){S=e}),j=[];x.onrec=function(e){for(C=e;j.length;)C(j.shift())},x.rec=function(e){C?C(e):j.push(e)};var k={};x.toRange=function(e,t){e=Math.round(100*e);for(var n=function(e){if(!k[e=e||".05:.05-10"]){k[e]=[];for(var t=e.split(","),n=0;n<t.length;++n){var i=t[n].split(":"),r=i[1].split("-"),r={increment:Math.round(100*parseFloat(i[0])),upper:Math.round(100*parseFloat(r[1])),final:!1};n==t.length-1&&(r.final=r.upper-r.increment),k[e].push(r)}}return k[e]}(t),i=0;i<n.length;++i){var r=n[i];if(r.final&&e>=r.upper-r.increment)return{r:parseFloat(((r.final+r.increment)/100).toFixed(2)),kv:(r.final/100).toFixed(2)+"-"};if(!(e>=r.upper)){var o=Math.floor(e/r.increment)*r.increment/100,a=parseFloat((o+r.increment/100).toFixed(2)),r=a-.01;return{r:a,kv:Math.max(.01,o).toFixed(2)+"-"+r.toFixed(2)}}}};function z(e){return 61<e?z(e/62|0)+z(e%62):35<e?String.fromCharCode(e+29):9<e?String.fromCharCode(e+87):-1<e?e+"":e<0?"-"+z(-e):"NaN"}x.b62=z,x.fb62=function(e){for(var t=0,n=e.length-1,i=n;0<=i;i--){var r=e.charCodeAt(i),o=i===n?1:Math.pow(62,n-i);if(96<r&&r<123)t+=o*(r-87);else if(64<r&&r<91)t+=o*(r-29);else{if(!(47<r&&r<58))return NaN;t+=o*(r-48)}}return t},x.dom=x.wrapAsync(function(e,t,n,i,r,o){R.add(e,t,n,i,r,o)}),x.undom=x.wrapAsync(function(e,t){R.remove(e,t)}),x.lzrescan=x.wrapAsync(function(){R.rescan()});var R=new function(){var t,s={},d=0,c=[],n=!1,i=!1,u=!1;this.add=function(e,t,n,i,r,o){var a;e instanceof Node&&((a=e).id||(a.id=x.genID("adb_auto_")),e=a.id),s[e]=s[e]||[],s[e].push({c:i,d:t,t:n,i:e,f:r,x:o}),d+=1,l()},this.remove=function(e,t){var n,i=s[e]||[];if(t)for(n=i.length-1;0<=n;--n)i[n].c===t&&s[e].splice(n,1);for(t&&i.length||delete s[e],n=c.length-1;0<=n;--n)t&&c[n].c!==t||c.splice(n,1)},this.rescan=function(){x.logl("lz","Lazy explicit rescan"),t=setTimeout(l,0)},g(window,"scroll",function(){u=!0,!t&&d&&(x.logl("lz","Lazy scroll wait",100),t=setTimeout(l,100))});function p(e,t){if(e.f&&!e.f(e,t,u))return x.logl("lz","Lazy blocked",e,u),!1;if(t.in){if(!e.x)return x.logl("lz","Lazy cannot measure el",e,t),!1;var n=document.getElementById(e.i);if(!n)return x.logl("lz","Lazy collapse check - cannot read el",e,t),!1;var i=(n||{}).parentNode;if(!i)return x.logl("lz","Lazy collapse check - cannot read parent",e,t),!1;var r=x.where(i);if(!r.in)return x.logl("lz","Lazy collapse check - parent invis",e,t,r),!1;r=document.createElement("span");r.style="position:absolute;display:block;width:1px;height:1px;",i.insertBefore(r,n);n=x.where(r);i.removeChild(r),x.logl("lz","Lazy collapse check - using replacement coords",JSON.stringify({coords:t,replacement:n})),t=n}return 0<e.d&&e.d<1?0===t.d&&(0===t.c.h||0===t.c.w)||t.v>e.d:t.d<=e.d}var l=x.thread(function(){var a,e=x.dts();clearTimeout(t),t=!1,n||e-i<50?t=setTimeout(l,50):(n=!0,i=e,x.logl("lz","Lazy measure",e),a=[],x.each(s,function(e,t){var n=x.where(t);if(!n)return x.logl("lz","Lazy no dom",t);for(var i=e.length-1;0<=i;--i){var r=e[i],o=p(r,n);x.logl("lz","Lazy check",JSON.stringify({el:t,coords:n,reqdist:r.d,criteria:o,seenscr:u})),o&&(--d,e.splice(i,1),c.push(r),x.logl("lz","Lazy to duration",t))}e.length||a.push(t)}),x.each(a,function(e){delete s[e]}),e=function(e){for(var t=!1,n=c.length-1;0<=n;--n){var i=c[n],r=i.i;if(x.logl("lz","Lazy check time",i,r," has scroll event: ",u),i.tx){if(!p(i,x.where(r))){x.logl("lz","Lazy back to distance",r),i.tx=0,c.splice(n,1),s[r]=s[r]||[],s[r].push(i),d+=1;continue}}else i.tx=e+i.t;var o=i.tx-e;o<=0?(x.logl("lz","Lazy execute",r),c.splice(n,1),x.thread(i.c)(r)):t=t?Math.min(1+o,t):1+o}return t}(e)||100,c.length&&(x.logl("lz","Lazy duration wait",e),t=setTimeout(l,e)),n=!1)})};x.obox=function(e,t){t={top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left),right:Math.min(e.right,t.right)};return t.width=Math.round(t.right-t.left),t.height=Math.round(t.bottom-t.top),t.area=Math.round(t.width*t.height),t},x.opct=function(e,t,n,i,r){var o=x.obox(t,{top:0,bottom:n.h,left:0,right:n.w}),a=o.area,s=a/(Math.round(t.width)*Math.round(t.height)),d={o:0,p:0,v:s,e:{}};if(!a)return d;var n=o.left+o.width/2,t=o.top+o.height/2,c={mm:[n,t],tl:[o.left+5,o.top+5],br:[o.right-5,o.bottom-5]};7<=r&&(c.tm=[n,o.top+5],c.tr=[o.right-5,o.top+5],c.bl=[o.left+5,o.bottom-5],c.bm=[n,o.bottom-5]),9<=r&&(c.mr=[o.right,t],c.ml=[o.left,t]);var u,p=[];for(u in c)if(c.hasOwnProperty(u)){var l=c[u],g=document.elementFromPoint(l[0],l[1]);if(i&&g&&(((l=document.getElementById(i))===g||g.contains(l)||l.contains(g))&&(g=!1)),g&&g!==e&&!e.contains(g)&&!g.contains(e)){var f=x.obox(o,g.getBoundingClientRect()),m=0,h=0,b=g,v=b.parentNode;if(!v.contains(e)){for(m+=1;v.parentNode&&!v.parentNode.contains(e);)m+=1,v=v.parentNode;for(;v!==b;){var y=x.obox(o,v.getBoundingClientRect()),_=y.area==f.area;(y.area>f.area||_&&h<m)&&(f=y,g=v,h=m);for(var y=v,w=0;w<v.children.length;++w)if(v.children[w]===b||v.children[w].contains(b)){--m,v=v.children[w];break}if(v===y)break}}if(-1===p.indexOf(g)&&(p.push(g),d.e[u]={el:g,p:f.area,o:f.area/a},d.p+=f.area,d.o=Math.min(1,d.p/a),d.v=d.o?(1-d.o)*s:s,1===d.o))break}}return d},x.where=function(e,t,n){if(!(e="string"==typeof e?document.getElementById(e):e))return!1;var i=e.getBoundingClientRect(),r=x.vp(),o=i.top,a=i.height,s=i.top+a,d="in_viewport",c=0,u=1,p=0<i.width&&0<a,l=0,g=B(e);g&&(l=1,d="unknown"),o<0?(c=s<0?Math.abs(s):0,d=((u=0<s&&p?s/a:0)?"partially_":"")+"above_viewport"):s>r.h?(c=o>r.h?o-r.h:0,d=((u=o<r.h&&p?(r.h-o)/a:0)?"partially_":"")+"below_viewport"):p||(u=0);p=null;return{i:g,p:d,d:c,v:u,in:l,o:p=t&&u&&!l?x.opct(e,i,r,n):p,c:{vp:r,t:o,l:i.left,h:a,w:i.width,b:s}}},x.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},x.copy=function(e){if(x.isarr(e)){for(var t=[],n=0;n<e.length;++n)t.push(x.copy(e[n]));return t}return"object"==typeof e?x.deepAssign({},e):e},x.deepAssign=function(e){if(!e)return e;for(var n=Object(e),t=1;t<arguments.length;t++)x.each(arguments[t],function(e,t){n[t]=x.copy(e)});return n},x.deepAccess=function(e,t,n){e=t.split(".").reduce(function(e,t){return(e||{})[t]},e);return!e&&n?n:e},x.deepEq=function(i,r,o,a){if(a=a||"",(o=o||[]).some(function(e){return e===a}))return!0;if("function"==typeof r&&r(i))return!0;if("object"!=typeof i||"object"!=typeof r||null==i||null==r)return i===r||{p:a,o1:i,o2:r};var e=Object.keys(Object.assign({},i,r)).reduce(function(e,t){var n=a?a+"."+t:t,n=x.deepEq(i[t],r[t],o,n);return n&&n.hasOwnProperty("p")&&n.hasOwnProperty("o1")&&n.hasOwnProperty("o2")?e.push(n):!0!==n&&(e=e.concat(n)),e},[]);return 0===e.length||e};var B=function(e){try{if(!e)return"no_dom_el";var t=window.getComputedStyle&&window.getComputedStyle(e)||{};if("none"==t.display)return"display_none";if("hidden"==t.visibility)return"vis_hidden"}catch(e){x.err("get_invis_fail")}return!1};x.dom_invisible=x.wrapAsync(function(e){var t=document.getElementById(e),n=B(t);if(n)return"el_"+n;for(var i=0;t.parentNode&&(t=t.parentNode)!==document.body;)if(i+=1,n=B(t))return"anc_"+i+"_"+n;return!1})},{}]},{},[15]);