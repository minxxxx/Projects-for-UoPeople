self.studioLoader.context.evalInContext("window.STUDIO_SDK_START=+new Date();var Xj=function(a,b){this.b=bb(a);this.f=!b;this.a=[]},Yj=function(a,b){a.a=[];for(var c=0;c<a.b.length;++c){var d=a.b[c];a.a[c]=!1;if(d.b(b)&&(d=d.a(b),null!==d&&(b=d,a.a[c]=!0,!a.f)))break}return b};var Zj=function(a){G.call(this);this.l=a};x(Zj,G);Zj.prototype.b=function(){Ea()};Zj.prototype.g=function(){Ea()};Zj.prototype.h=function(a){\"string\"===typeof a&&(a=JSON.parse(a));u(a)&&\"functionName\"in a&&this.l(a.functionName,a.args)};var ak=function(a){Ff.call(this,a)};k(ak,Ff);r(\"studio.sdk.configurable.ConfigurableEvent\",ak,void 0);ak.REGISTER=\"register\";var bk=function(){},ck=function(a,b,c,d){if(0!=b.length)if(1==b.length){var e=b[0];rb(c,e,d)}else{e=b[0];var f=parseInt(b[1],10);isNaN(f)?(rb(c,e,{}),ck(a,b.slice(1),c[e],d)):(rb(c,e,[]),2<b.length?(void 0===c[e][f]&&(c[e][f]={}),ck(a,b.slice(2),c[e][f],d)):void 0===c[e][f]&&(c[e][f]=d))}};var dk=function(a){this.f=a};dk.prototype.b=function(a){return a&&u(a)?!!mb(a,\"DbmDynamicFeed\",0):!1};dk.prototype.a=function(a){return ek(this,a.DbmDynamicFeed[0])};var ek=function(a,b){var c={};z(b,v(function(d,e){var f=e.split(\"_\").filter(function(h){return!Kb(Ec(h))});if(2>f.length)rb(c,e,d);else try{ck(this.f,f,c,d)}catch(h){rb(c,e,d)}},a));return c};Fa(dk);var fk={17:\"mp4v.20.9\",18:\"avc1.42E033\",22:\"avc1.640033\",37:\"avc1.640033\",36:\"mp4v.20.240\",43:\"vp8\",44:\"vp8\",45:\"vp8\",46:\"vp8\",59:\"avc1.4D4033\",133:\"avc1.4D4015\",134:\"avc1.4D401E\",135:\"avc1.4D401F\",136:\"avc1.4D401F\",137:\"avc1.640033\",160:\"avc1.4D400C\",212:\"avc1.4D401F\",309:\"avc1.640033\",342:\"avc1.42E01E\",343:\"avc1.42E01F\",344:\"avc1.42E033\",345:\"avc1.42E033\",346:\"avc1.42E033\",347:\"avc1.4D401F\"};var ik=function(){var a=gk,b=hk;this.l=window.Enabler;this.g=a;this.j=b;this.h=new ee(p.innerWidth,p.innerHeight)},jk=function(a,b){var c=[],d;for(d in b)u(b[d])&&(\"transcodedVideo\"==b[d][\"@type\"]&&b[d].transcodes&&c.push(b[d]),cb(c,jk(a,b[d])));return c};ik.prototype.f=function(a){var b;if(b=a.url)b=a.url,b=!!b&&b.startsWith(\"http\");return!!(b&&a.mimeType&&0<a.width&&0<a.height)};var kk=function(a,b){hb(a,function(d,e){return d.height-e.height});var c=Ya(a,function(d){return 0>=b-d.height});return-1==c?a[a.length-1]:b==a[c].height?a[c]:0<c?a[c-1]:a[0]};ik.prototype.s=function(a){var b=Ta(a.transcodes,function(h){var l=h.mimeType;h=h.formatID;h=h+\"\"in fk?fk[h+\"\"]:\"\";Kb(Ec(h))||(l+='; codecs=\"'+h+'\"');return this.l.pc(l)},this);b=Ta(b,this.f,this);if(0==b.length)return a.url=a.transcodes[0].url,a;for(var c=b,d=this.g?ab(this.g,lk):lk,e=0;e<d.length;++e){var f=Ta(b,function(h){return d[e]==h.mimeType});if(f.length){c=f;break}}b=kk(c,this.j||this.h.height);a.url=b.url;return a};ik.prototype.b=function(a){a=jk(this,a);return!!a.length&&Va(a,function(b){b=b.transcodes;return!!(b&&b.length&&Va(b,this.f,this))},this)};ik.prototype.a=function(a){y(jk(this,a),this.s,this);return a};var lk=[\"video/webm\",\"video/mp4\"];var mk=function(a){this.f=a};mk.prototype.a=function(a){return nk(this,a,a.google_template_data.adData[0])};var nk=function(a,b,c){var d=jb(b,function(e,f){return!u(e)&&!nb(c,f)});z(c,v(function(e,f){if(\"Google_Merchant_Center\"!=f){var h=f.split(\"_\");if(3>h.length)rb(d,f,e);else try{var l=h[h.length-1],m;if(m=l){var n=l.length-3;m=0<=n&&l.indexOf(\"Url\",n)==n}ck(this.f,h,d,m&&u(e)&&\"Url\"in e?e.Url:e)}catch(q){rb(d,f,e)}}},a));\"Google_Merchant_Center\"in b&&(d.Product=ok(b.Google_Merchant_Center));\"Retail\"in b&&(d.Product=pk(b.Retail));return d},ok=function(a){return Ua(a,function(b){return{imageUrl:mb(b,\"offer_image_derived\",\"image200\",\"url\"),url:mb(b,\"offer_landing_page_derived\",\"Url\"),price:mb(b,\"offer_regular_price\",\"formattedPrice\"),name:mb(b,\"offer_title\"),description:mb(b,\"offer_description\")}})},pk=function(a){return Ua(a,function(b){return{imageUrl:mb(b,\"imageUrl\",\"Url\"),url:mb(b,\"url\",\"Url\"),price:mb(b,\"price\"),name:mb(b,\"name\"),description:mb(b,\"description\")}})};var qk=function(a){this.f=a};x(qk,mk);qk.prototype.b=function(a){if(!a||!u(a))return!1;a=mb(a,\"google_template_data\",\"adData\");return!!a&&1==a.length};var rk=function(){this.a=null};rk.prototype.ma=function(a){if(null!=this.a)a(this.a);else{var b=null,c=[],d=new bk;window.Enabler&&null!=window.Enabler.getParameter(\"AdData\")?(b=window.Enabler.getParameter(\"AdData\"),c.push(new qk(d))):window.Enabler&&null!=window.Enabler.Ya()?(b=window.Enabler.Ya(),c.push(new dk(d))):window.Enabler&&null!=window.Enabler.ma()?b=window.Enabler.ma():window.GdnLayout&&null!=window.GdnLayout.getConfig()&&(b=JSON.parse(GdnLayout.getConfig()));null!=b&&(this.a=Yj(new Xj(c,!0),b));a(this.a)}};rk.prototype.reset=function(){this.a=null};Fa(rk);var sk=function(a){Zj.call(this,a);this.b()};x(sk,Zj);sk.prototype.b=function(){window.Enabler.ob(\"livePreviewChannel\",v(this.h,this))};sk.prototype.g=function(a,b){Hi(window.Enabler,\"livePreviewMessage\",[{functionName:a,args:b}])};/*Copyright The Closure Library Authors.SPDX-License-Identifier: Apache-2.0*/var tk=function(a,b){th.call(this,b);this.a=a;this.v=new K(this);Df(this,this.v);this.j=new pg(100,uh(this));Df(this,this.j);this.g=new F;this.h=new F;this.b=new F;this.o=sh();this.l=null;this.f={};this.C=this.a.name;this.a.za(this.a.name+\"_\"+this.a.ca());this.B=!1;uf(this.b,this.g);uf(this.b,this.h);tf(this.b,this.Hd,this);this.b.H(!0);L(this.v,this.j,\"tick\",this.mc,void 0)};x(tk,th);var uk={},yk=function(a){var b=new vk(a.channelName,a.service,a.payload);a=b.a;var c=b.f;b=b.b;var d=wk[a];if(d)return d.ga(c,b),!0;d=xk(b)[0];for(var e in wk){var f=wk[e];if(1==f.ca()&&!f.isConnected()&&\"tp\"==c&&\"SETUP\"==d)return f.za(a),f.ga(c,b),!0}return!1};g=tk.prototype;g.Qa=function(a){a=xk(a);var b=a[1];switch(a[0]){case \"SETUP_ACK\":this.g.a||this.g.H(!0);break;case \"SETUP\":this.N(\"tp\",\"SETUP_ACK\"),this.h.a||this.h.H(!0),null!=this.l&&this.l!=b&&this.N(\"tp\",\"SETUP,\"+this.o),this.l=b}};g.connect=function(){var a=uh(this);if(a){var b=Ka(a);0==(uk[b]||0)&&null==Da(\"crosswindowmessaging.channel\",a)&&r(\"crosswindowmessaging.channel\",yk,a);uk[b]++;this.B=!0;this.mc()}};g.mc=function(){this.a.isConnected()?qg(this.j):(this.j.start(),this.N(\"tp\",\"SETUP,\"+this.o))};g.N=function(a,b){this.a.da&&(a=new vk(this.C+\"_\"+(0==this.a.ca()?1:0),a,b),this.a.a.directSyncMode?this.lc(a):this.f[Ka(a)]=rg(v(this.lc,this,a),0))};g.lc=function(a){var b=Ka(a);this.f[b]&&delete this.f[b];try{var c=Da(\"crosswindowmessaging.channel\",this.a.da)}catch(d){return}if(null!==c)try{c({channelName:a.a,service:a.f,payload:a.b})}catch(d){}};g.Hd=function(){zk(this.a,0)};g.A=function(){if(this.B){var a=uh(this),b=Ka(a);1==--uk[b]&&r(\"crosswindowmessaging.channel\",null,a)}this.f&&(z(this.f,function(c){p.clearTimeout(c)}),this.f=null);this.g&&(this.g.cancel(),delete this.g);this.h&&(this.h.cancel(),delete this.h);this.b&&(this.b.cancel(),delete this.b);tk.G.A.call(this)};var xk=function(a){a=a.split(\",\");a[1]=a[1]||null;return a},vk=function(a,b,c){this.a=a;this.f=b;this.b=c};var Ak=function(a,b,c,d,e){th.call(this,c);this.h=a;this.j=e||2;this.K=b||\"*\";this.B=new K(this);this.l=new pg(100,uh(this));this.C=!!d;this.f=new F;this.g=new F;this.b=new F;this.D=sh();this.v=null;this.C?1==this.h.ca()?uf(this.b,this.f):uf(this.b,this.g):(uf(this.b,this.f),2==this.j&&uf(this.b,this.g));tf(this.b,this.Id,this);this.b.H(!0);L(this.B,this.l,\"tick\",this.nc,void 0)};x(Ak,th);Ak.prototype.a=null;Ak.prototype.I=!1;var Bk={};Ak.prototype.o=0;var Dk=function(a){var b=a.X.data;if(\"string\"!==typeof b)return!1;var c=b.indexOf(\"|\"),d=b.indexOf(\":\");if(-1==c||-1==d)return!1;var e=b.substring(0,c);c=b.substring(c+1,d);b=b.substring(d+1);if(d=wk[e])return d.ga(c,b,a.X.origin),!0;d=Ck(b)[0];for(var f in wk){var h=wk[f];if(1==h.ca()&&!h.isConnected()&&\"tp\"==c&&(\"SETUP\"==d||\"SETUP_NTPV2\"==d)&&h.Na(a.X.origin))return h.za(e),h.ga(c,b),!0}return!1};Ak.prototype.Qa=function(a){var b=Ck(a);a=b[1];switch(b[0]){case \"SETUP_ACK\":Ek(this,1);this.f.a||this.f.H(!0);break;case \"SETUP_ACK_NTPV2\":2==this.j&&(Ek(this,2),this.f.a||this.f.H(!0));break;case \"SETUP\":Ek(this,1);Fk(this,1);break;case \"SETUP_NTPV2\":2==this.j&&(b=this.a,Ek(this,2),Fk(this,2),1!=b&&null==this.v||this.v==a||Gk(this),this.v=a)}};var Gk=function(a){2!=a.j||null!=a.a&&2!=a.a||a.N(\"tp\",\"SETUP_NTPV2,\"+a.D);null!=a.a&&1!=a.a||a.N(\"tp\",\"SETUP\")},Fk=function(a,b){if(2!=a.j||null!=a.a&&2!=a.a||2!=b){if(null!=a.a&&1!=a.a||1!=b)return;a.N(\"tp\",\"SETUP_ACK\")}else a.N(\"tp\",\"SETUP_ACK_NTPV2\");a.g.a||a.g.H(!0)},Ek=function(a,b){b>a.a&&(a.a=b);1==a.a&&(a.g.a||a.C||a.g.H(!0),a.v=null)};g=Ak.prototype;g.connect=function(){var a=uh(this),b=Ka(a),c=Bk[b];\"number\"!==typeof c&&(c=0);0==c&&ag(a.postMessage?a:a.document,\"message\",Dk,!1,Ak);Bk[b]=c+1;this.I=!0;this.nc()};g.nc=function(){var a=0==this.h.ca();this.C&&a||this.h.isConnected()||this.s?qg(this.l):(this.l.start(),Gk(this))};g.N=function(a,b){var c=this.h.da;c&&(this.N=function(d,e){var f=this,h=this.h.name;this.o=rg(function(){f.o=0;try{var l=c.postMessage?c:c.document;l.postMessage&&l.postMessage(h+\"|\"+d+\":\"+e,f.K)}catch(m){}},0)},this.N(a,b))};g.Id=function(){zk(this.h,1==this.j||1==this.a?200:void 0)};g.A=function(){if(this.I){var a=uh(this),b=Ka(a),c=Bk[b];Bk[b]=c-1;1==c&&hg(a.postMessage?a:a.document,\"message\",Dk,!1,Ak)}this.o&&(p.clearTimeout(this.o),this.o=0);H(this.B);delete this.B;H(this.l);delete this.l;this.f.cancel();delete this.f;this.g.cancel();delete this.g;this.b.cancel();delete this.b;delete this.N;Ak.G.A.call(this)};var Ck=function(a){a=a.split(\",\");a[1]=a[1]||null;return a};var Ik=function(a,b){Qh.call(this);for(var c=0,d;d=qh[c];c++)if(d in a&&!/^https?:\\/\\//.test(a[d]))throw Error(\"URI \"+a[d]+\" is invalid for field \"+d);this.a=a;this.name=this.a.cn||sh();this.f=b||he();this.g=[];this.j=new K(this);a.lpu=a.lpu||Sc(le(this.f.a).location.href)+\"/robots.txt\";a.ppu=a.ppu||Sc(a.pu||\"\")+\"/robots.txt\";wk[this.name]=this;jg(window,\"unload\",Hk)||$f(window,\"unload\",Hk)};x(Ik,Qh);var Jk=/^%*tp$/,Kk=/^%+tp$/;g=Ik.prototype;g.sa=null;g.wa=null;g.ha=null;g.Ea=1;g.isConnected=function(){return 2==this.Ea};g.da=null;g.$a=null;g.connect=function(a){this.b=a||t;3==this.Ea&&(this.Ea=1);this.wa?tf(this.wa,this.kc):this.kc()};g.kc=function(){this.wa=null;this.a.ifrid&&(this.$a=this.f.getElement(this.a.ifrid));if(this.$a){var a=this.$a.contentWindow;a||(a=window.frames[this.a.ifrid]);this.da=a}if(!this.da){if(window==window.top)throw Error(\"CrossPageChannel: Can't connect, peer window-object not set.\");this.da=window.parent}if(!this.ha){this.a.tp||(this.a.tp=\"function\"===typeof document.postMessage||\"function\"===typeof window.postMessage||Pd&&window.postMessage?1:0);if(\"function\"===typeof this.a.tp)this.ha=new this.a.tp(this,this.f);else switch(this.a.tp){case 1:this.ha=new Ak(this,this.a.ph,this.f,!!this.a.osh,this.a.nativeProtocolVersion||2);break;case 2:if(a=this.da)try{a=window.document.domain==this.da.document.domain}catch(b){a=!1}a&&(this.ha=new tk(this,this.f))}if(!this.ha)throw Error(\"CrossPageChannel: No suitable transport found! You may try injecting a Transport constructor directly via the channel config object.\");}for(this.ha.connect();0<this.g.length;)this.g.shift()()};g.close=function(){this.wa&&(this.wa.cancel(),this.wa=null);this.g.length=0;Ig(this.j);this.Ea=3;H(this.ha);this.b=this.ha=null;H(this.sa);this.sa=null};var zk=function(a,b){a.isConnected()||a.sa&&0!=a.sa.a||(a.Ea=2,H(a.sa),void 0!==b?(a.sa=new Jh(a.b,b),a.sa.start()):(a.sa=null,a.b()))};Ik.prototype.Ma=function(a,b){if(this.isConnected()){try{var c=!!this.da&&!this.da.closed}catch(d){c=!1}c?(u(b)&&(b=Mh(b)),this.ha.N(Lk(a),b)):this.close()}};Ik.prototype.ga=function(a,b,c){this.wa?this.g.push(v(this.ga,this,a,b,c)):this.Na(c)&&!this.s&&3!=this.Ea&&(a&&\"tp\"!=a?this.isConnected()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Kk.test(a)?a.substring(1):a,Rh(this,a,b)):this.ha.Qa(b))};var Lk=function(a){Jk.test(a)&&(a=\"%\"+a);return a.replace(/[%:|]/g,encodeURIComponent)};Ik.prototype.ca=function(){var a=this.a.role;return\"number\"===typeof a?a:window.parent==this.da?1:0};Ik.prototype.za=function(a){delete wk[this.name];this.name=a;wk[a]=this};Ik.prototype.Na=function(a){var b=this.a.ph;return Kb(Ec(a))||Kb(Ec(b))||a==this.a.ph};Ik.prototype.A=function(){this.close();this.$a=this.da=null;delete wk[this.name];H(this.j);delete this.j;Ik.G.A.call(this)};var Hk=function(){for(var a in wk)H(wk[a])},wk={};var Mk=function(a,b){Zj.call(this,a);this.j=b;this.f=this.a=null;this.b()};x(Mk,Zj);Mk.prototype.b=function(){if(\"FILLER\"==this.j){var a=Nk(),b=a.postMessage?a:a.document;b.postMessage?b.postMessage(\"PreviewHandler.INIT\",\"*\"):window.console.log(\"No postMessage on preview frame\",a);this.a=new Ik({tp:1,role:1,cn:\"livePreviewChannel\",osh:!0});a=Nk();this.a.da=a;this.f=new mi(this.a);Df(this,this.a);Df(this,this.f);oi(this.f,\"livePreviewService\",v(this.h,this));this.a.connect(v(this.o,this))}};var Nk=function(){var a=p.Enabler.R(\"PREVIEW_FRAME_DEPTH\");a=null!=a?a:1;for(var b=window,c=b,d=0;d<a;d++)c=c.parent;for(;c!==window.top;)b=b.parent,c=c.parent;return b};Mk.prototype.o=function(){Ok(this,\"PreviewHandler.INIT\")};var Ok=function(a,b){\"FILLER\"==a.j&&ni(a.f,\"livePreviewService\",b,t)};Mk.prototype.g=function(a,b){Ok(this,[{functionName:a,args:b}])};var Pk=function(){this.f=this.a=this.b=null};Pk.prototype.ma=function(a){if(null!==this.f&&null!==this.b&&null!==this.a)a(this.f,this.b,this.a);else{var b=new Xj([new qk(new bk)]);p.onAdData=v(function(c,d){if(null===this.f||null===this.b||null===this.a){var e=Yj(b,c);this.b=c;this.a=d;this.f=e;a(e,c,d)}},this)}};Pk.prototype.reset=function(){this.f=this.a=this.b=null};Fa(Pk);var U=function(a){throw new Qk(a);},Qk=function(a){Pa.call(this,a)};x(Qk,Pa);Qk.prototype.name=\"ConfigurableException\";var Rk=new C,Sk=new C,Tk=0,Uk=0,Vk=!1,Wk=/(?:(.*)\\.)?([^\\.\\[]+)(?:\\[(\\d+)\\])?/;r(\"studio.sdk.configurable.config.declare\",function(a,b){Rk.S(a)?U(\"Config type \"+(a+\" already exists\")):Rk.set(a,new Xk(a,b))},void 0);var Yk=function(a,b){return Rk.S(a)?Rk.get(a).create(b):(U(Gj(a)),null)};r(\"studio.sdk.configurable.config.instantiate\",Yk,void 0);var $k=function(a){if(!Vk)return a;null==a[\"@type\"]&&(a[\"@type\"]=\"Root\");Zk(a);return Yk(a[\"@type\"],a)},Zk=function(a,b){z(a,function(c){u(c)&&Zk(c)});if(u(a)&&!Array.isArray(a)){(b=a[\"@type\"]||b)||(b=\"\"+Uk++);a[\"@type\"]=b;try{al(b);return}catch(c){}Rk.set(b,new Xk(b,a))}},al=function(a){var b=bl(a);return b||(b=Rk.get(a),b)?b:(U(Gj(a)),null)},el=function(a){return cl(a,!0)?Sk.get(a[\"@id\"]):null},gl=function(a){return u(a)?(a=el(a))?a.a:null:fl(a)},hl=function(a){a=el(a);return a?a.a.a:(U(\"Attempt to get config type for a non-object\"),null)};r(\"studio.sdk.configurable.config.getType\",hl,void 0);r(\"studio.sdk.configurable.config.getPath\",function(a){a=el(a);return a?il(a):(U(\"Attempt to get config type for a non-object\"),null)},void 0);var kl=function(a,b){var c;if(!cl(a))return null;if(c=Wk.exec(b)){b=parseInt(c[3],10);isNaN(b)&&(b=null);var d=c[1]||\"\";c=c[2]||\"\"}else d=\"\",c=b,b=null;a=jl(a,d);return cl(a)?{instance:a,propertyName:c,index:b}:null},ll=function(a,b,c,d){if(null==b)return null;try{var e=al(a)}catch(f){if(!Vk)throw f;}if(!e&&Vk){Zk(b,a);e=al(a);if(!e)return U(Gj(a)),null;c=kl(c,d);d=el(c.instance);a=e;c=d.a.b.get(c.propertyName);c.bb(a)||c.L.add(a)}return e.create(b)},ml=function(a){this.a=a},Xk=function(a,b){this.a=a;this.b=new C;this.f=new nl;ol(this,b)};x(Xk,ml);var ol=function(a,b){b&&z(b,function(c,d){var e=pl(this.f,d,c);u(c)&&(e=e||ql(this.f,c));e||Jb(d,\"@\")||this.b.set(d,new rl(this,d,c))},a)};Xk.prototype.create=function(a){var b=sl(this);y(this.b.P(),function(c){var d=this.b.get(c),e=void 0;a&&(e=a[c]);d=tl(d,e);b[c]=d;ul(b,c,d)},this);return b};var ul=function(a,b,c){a=a?el(a):null;if(Ha(c))for(var d=0;d<c.length;d++){var e=d,f=el(c[d]);f&&vl(f,a,b,e)}else(c=el(c))&&vl(c,a,b,void 0)},wl=function(a,b){this.a=a;this.g=b};x(wl,ml);wl.prototype.create=function(a){return void 0!==a?a:this.g};var xl=new wl(\"string\",\"\"),yl=new wl(\"number\",0),zl=new wl(\"boolean\",!0),Al=new wl(\"url\",null),Bl=new wl(\"color\",\"#000000\"),Cl=new wl(\"image\",null),Dl=new wl(\"video\",null),El=new wl(\"asset\",null),bl=function(a){switch(a.toLowerCase()){case \"string\":case \"str\":return xl;case \"integer\":case \"int\":case \"float\":case \"number\":case \"double\":return yl;case \"boolean\":case \"bool\":return zl;case \"url\":return Al;case \"color\":return Bl;case \"image\":return Cl;case \"video\":return Dl;case \"file\":case \"asset\":return El}},fl=function(a){switch(Ga(a)){case \"number\":return yl;case \"boolean\":return zl;case \"string\":return xl;default:return U(\"Unable to parse a type for value with JavaScript type \"+(Ga(a)+(': \"'+(a+'\"')))),xl}},rl=function(a,b,c){this.s=a;this.f=b;this.L=new fh;this.g=this.b=!1;this.a=void 0;this.j=new nl;switch(Ga(c)){case \"string\":case \"number\":case \"boolean\":this.b=!1;this.g=!0;this.a=c;this.L.add(fl(this.a));break;case \"array\":Fl(this,c);break;case \"object\":Gl(this,c);break;case \"null\":if(Vk)break;default:U(Hj(a.a,b))}},Fl=function(a,b){0!=b.length||Vk?(a.b=!0,a.g=!0,a.a=b,y(b,function(c){var d;Vk&&u(c)?d=Rk.get(c[\"@type\"]):d=fl(c);d&&this.L.add(d)},a)):U(\"Array property \"+(a.f+(\" on type \"+(a.s.a+\" must have at least one element.\"))))},Gl=function(a,b){a.b=!!b[\"@array\"];a.g=!!b[\"@required\"];var c=b[\"@type\"];if(void 0!==c)switch(Ga(c)){case \"string\":a.L.add(al(c));break;case \"array\":y(c,function(d){(d=al(d))&&this.L.add(d)},a);break;default:U(Hj(a.s.a,a.f));return}else a.L.add(xl);a.a=void 0;b.hasOwnProperty(\"@value\")?(c=b[\"@value\"],void 0===c?a.a=void 0:a.a=tl(a,c)):0==a.L.a.f||a.b||(a.a=a.L.M()[0].create(void 0));Hl(a.j,b)};rl.prototype.bb=function(a){return!!a&&this.L.contains(a)};rl.prototype.h=function(a){if(!u(a))return a;var b=null;cl(a,!0)?b=gl(a):a.hasOwnProperty(\"@type\")?(b=Rk.get(a[\"@type\"]),null==b&&Vk&&(Zk(a),b=Rk.get(a[\"@type\"]))):1==this.L.Y()&&(b=this.L.M()[0]);Vk&&!this.bb(b)&&this.L.add(b);return this.bb(b)?b.create(a):(U(Ij(this.s.a,this.f)),null)};var tl=function(a,b){b=void 0!==b?b:a.a;var c=void 0;a.b?void 0!==b?(Array.isArray(b)||(b=[b]),c=Ua(b,v(a.h,a))):c=[]:void 0!==b&&(c=a.h(b));return void 0===c&&a.g?(U(\"No value specified for non-optional property \"+(a.f+(\" on type \"+(a.s.a+\".\")))),null):c},sl=function(a){var b={};b[\"@id\"]=Tk++;a=new Il(a,b);Sk.set(a.s,a);return b},cl=function(a,b){var c=u(a)&&\"@id\"in a;c&&(c=a[\"@id\"],c=Sk.S(c)&&Sk.get(c).J()==a);c||b||U(\"Attempt to get config type for a non-object\");return c},jl=function(a,b){a=el(a);return a?Jl(a,b):(U(\"Attempt to get config type for a non-object\"),null)},Il=function(a,b){this.s=b[\"@id\"];this.a=a;this.h=b;this.g=this.f=this.b=null},Kl=function(a,b){return a.a instanceof Xk?a.a.b.get(b):null};Il.prototype.J=function(){return this.h};var il=function(a){if(!a.b)return\"\";var b=il(a.b);b&&(b+=\".\");b+=a.f;\"number\"===typeof a.g&&(b+=\"[\"+a.g+\"]\");return b},vl=function(a,b,c,d){(a.b=b)?(a.f=c,a.g=\"number\"===typeof d?d:null):(a.f=null,a.g=null)},Jl=function(a,b){if(!b)return a.J();if(b){var c=/^(\\w+)(?:\\[(\\d+)\\])?(?:\\.(.*))?$/.exec(b);if(c)var d={yb:c[1],index:c[2]?parseInt(c[2],10):-1,zb:c[3]?c[3]:null};else U(\"Invalid path \"+b),d=null}else d=null;b=d.yb;c=d.index;d=d.zb;var e=a.a;if(!e.b.get(b))return U(\"Property \"+(b+(\" does not exist on type \"+(e.a+\".\")))),null;a=a.J()[b];if(0<=c){if(!Ha(a))return U(Jj(e.a,b)),null;a=a[c]}if(d){a=el(a);if(!a)return U(\"Attempt to get config type for a non-object\"),null;a=Jl(a,d)}return a},nl=function(){this.a=new fh},Ll=function(a,b,c){Array.isArray(c)?y(c,function(d){this.a.add(b+\"_\"+d)},a):\"string\"===typeof c&&a.a.add(b+\"_\"+c)},Hl=function(a,b){b&&z(b,function(c,d){pl(this,d,c);u(c)&&ql(this,c)},a)},ql=function(a,b){try{var c=!1,d=b[\"@type\"],e=b[\"@value\"],f=d&&zl==al(String(d)),h=void 0!==e&&zl==gl(e);(f||h)&&z(b,function(l,m){c=c||pl(this,m,l)},a);return c}catch(l){return!1}},pl=function(a,b,c){if(!Jb(b,\"@\"))return!1;b=b.replace(\"@\",\"\");switch(b){case \"exit\":return Ll(a,\"exit\",c),!0;case \"counter\":return Ll(a,\"counter\",c),!0;case \"timer\":return Ll(a,\"timer\",c),!0}return!1},Ml=function(a,b){var c=a[b];return Array.isArray(c)?c:(U(Jj(hl(a),b)),null)};var Ol=function(a){this.a=el(a);this.j=new Nl;this.f=new C;this.b=new C;this.h=new C;this.g=new C;this.s=new C},Pl=new C,Ql=function(a){if(!cl(a))return null;var b=a[\"@id\"];Pl.S(b)||Pl.set(b,new Ol(a));return Pl.get(b)},Rl=function(a,b,c){a=kl(a,b);return!a||c&&!Ml(a.instance,a.propertyName)?null:(c=Ql(a.instance))?{controller:c,propertyName:a.propertyName,index:a.index}:null},V=function(a,b){var c=a.get(b);void 0===c&&(c=new Nl,a.set(b,c));return c},Tl=function(a){y(a.f.P(),function(b){var c=this.a.J()[b];V(this.f,b).a(c)},a);y(a.b.P(),function(b){for(var c=this.a.J()[b],d=0;d<c.length;d++){var e=c[d],f=d,h=c;V(this.b,b).a(e,f,h)}},a);y(a.g.P(),function(b){var c=this.a.J()[b];V(this.g,b).a(c)},a);Sl(a)},Sl=function(a){a.j.a(a.a.J());(a=a.a.b)&&Sl(Ql(a.J()))},Nl=function(){this.b=[]};Nl.prototype.add=function(a,b){var c=this.b;a={H:a,scope:b};0<=Sa(c,a)||c.push(a)};var Ul=function(a,b,c){var d=Ya(a.b,function(e){return e.H==b&&e.scope==c});-1!=d&&$a(a.b,d)};Nl.prototype.a=function(a){var b=arguments;y(this.b,function(c){c.H.apply(c.scope,b)})};r(\"studio.sdk.configurable.binding.addValueChangeListener\",function(a,b,c){(a=Ql(a))&&a.j.add(b,c)},void 0);r(\"studio.sdk.configurable.binding.removeValueChangeListener\",function(a,b,c){(a=Ql(a))&&Ul(a.j,b,c)},void 0);var Vl=function(a,b,c,d){(a=Rl(a,b))&&V(a.controller.f,a.propertyName).add(c,d)};r(\"studio.sdk.configurable.binding.addPropertyChangeListener\",Vl,void 0);r(\"studio.sdk.configurable.binding.removePropertyChangeListener\",function(a,b,c,d){(a=Rl(a,b))&&Ul(V(a.controller.f,a.propertyName),c,d)},void 0);var Wl=function(a,b,c,d){(a=Rl(a,b,!0))&&V(a.controller.b,a.propertyName).add(c,d)};r(\"studio.sdk.configurable.binding.addArrayInsertListener\",Wl,void 0);r(\"studio.sdk.configurable.binding.removeArrayInsertListener\",function(a,b,c,d){(a=Rl(a,b,!0))&&Ul(V(a.controller.b,a.propertyName),c,d)},void 0);var Xl=function(a,b,c,d){(a=Rl(a,b,!0))&&V(a.controller.h,a.propertyName).add(c,d)};r(\"studio.sdk.configurable.binding.addArrayRemoveListener\",Xl,void 0);r(\"studio.sdk.configurable.binding.removeArrayRemoveListener\",function(a,b,c,d){(a=Rl(a,b,!0))&&Ul(V(a.controller.h,a.propertyName),c,d)},void 0);r(\"studio.sdk.configurable.binding.addValueAddedListener\",function(a,b,c,d){(a=Rl(a,b))&&V(a.controller.g,a.propertyName).add(c,d)},void 0);r(\"studio.sdk.configurable.binding.removeValueAddedListener\",function(a,b,c,d){(a=Rl(a,b))&&Ul(V(a.controller.g,a.propertyName),c,d)},void 0);r(\"studio.sdk.configurable.binding.addValueRemovedListener\",function(a,b,c,d){(a=Rl(a,b))&&V(a.controller.s,a.propertyName).add(c,d)},void 0);r(\"studio.sdk.configurable.binding.removeValueRemovedListener\",function(a,b,c,d){(a=Rl(a,b))&&Ul(V(a.controller.s,a.propertyName),c,d)},void 0);var Yl=function(a){var b=Ql(a);if(b){Tl(b);for(var c in a)if(b=a[c],Array.isArray(b))for(var d=0;d<b.length;d++)u(b[d])&&Yl(b[d]);else u(b)&&Yl(b)}};r(\"studio.sdk.configurable.binding.fireAllListeners\",Yl,void 0);var Zl=function(a,b,c){var d=Rl(a,b);if(d){a=d.controller;b=d.propertyName;d=d.index;var e=a.a.J(),f=e[b],h=Kl(a.a,b);null==c||gl(c)?(null!=d?(h=f,f=h[d],h[d]=c,c=h):e[b]=c,ul(null,b,f),ul(e,b,c),d=c,V(a.f,b).a(d),Sl(a)):U(Ij(a.a.a.a,h.f))}};r(\"studio.sdk.configurable.binding.update\",Zl,void 0);var dm=function(a,b){if(Vk)a=$k(b);else if(!a||!cl(a))return a;if(!a)return a;var c=el(a);y(c.a instanceof Xk?c.a.b.P():null,function(d){var e=Kl(c,d),f=a[d],h=b[d],l=null!=f?gl(f):e.L.M()[0];if(e.b){if(Array.isArray(f))for(;0<f.length;)$l(a,d,0);Array.isArray(h)?y(h,w(am,a,d)):null!=h&&am(a,d,h,0)}else l instanceof wl?Zl(a,d,h):l instanceof Xk&&(null!=h?bm(a,d,h):null!=f&&cm(a,d),null!=f&&null!=h&&dm(f,h))});return a};r(\"studio.sdk.configurable.binding.updateAll\",dm,void 0);var am=function(a,b,c,d){if(b=Rl(a,b,!0)){a=b.controller;b=b.propertyName;var e=d,f=a.a.J();if(d=Ml(f,b)){c=Kl(a.a,b).h(c);if(0>e||e>d.length)e=d.length;db(d,e,0,c);ul(f,b,d);V(a.b,b).a(c,e,d);Sl(a)}}};r(\"studio.sdk.configurable.binding.arrayInsert\",am,void 0);var $l=function(a,b,c){if(b=Rl(a,b,!0)){a=b.controller;b=b.propertyName;var d=a.a.J(),e=Ml(d,b);if(e)if(0>c||c>=e.length)a=hl(d),U(\"Property \"+(b+(\" on type \"+(a+(\" has length \"+(e.length+(\", but invalid index \"+(c+\" was requested.\"))))))));else{var f=e[c];$a(e,c);ul(null,b,f);ul(d,b,e);V(a.h,b).a(f,c,e);Sl(a)}}};r(\"studio.sdk.configurable.binding.arrayRemove\",$l,void 0);var bm=function(a,b,c){if(b=Rl(a,b)){a=b.controller;b=b.propertyName;var d=a.a.J(),e=d[b],f=Kl(a.a,b);f?(c=f.h(c),d[b]=c,ul(null,b,e),ul(d,b,c),e&&V(a.s,b).a(e),V(a.g,b).a(c),Sl(a)):U(\"The optional property \"+(b+\" must be a reference\"))}};r(\"studio.sdk.configurable.binding.addValue\",bm,void 0);var cm=function(a,b){if(b=Rl(a,b)){a=b.controller;b=b.propertyName;var c=a.a.J();if(c[b]){var d=c[b];delete c[b];ul(null,b,d);ul(c,b,void 0);V(a.s,b).a(d);Sl(a)}}};r(\"studio.sdk.configurable.binding.removeValue\",cm,void 0);var em=function(a,b,c,d){G.call(this);this.a=a;this.g=b;this.f=this.b=null;this.f=c?new sk(v(this.h,this)):new Mk(v(this.h,this),d)};x(em,G);r(\"studio.sdk.configurable.PreviewHandler\",em,void 0);em.CallbackMethods={Yc:\"showNode\",Wc:\"hideNode\",Vc:\"changeValue\",Xc:\"showMessage\"};var fm=function(a,b){return a?a+\".\"+b:b};em.prototype.h=function(a,b){switch(a){case \"updateValue\":if(3>b.length)break;a=b[0];var c=JSON.parse(b[1]);this.Aa(a,c,b[2]);break;case \"addArrayItem\":if(4>b.length)break;a=b[0];var d=b[1],e=JSON.parse(b[2]);c=b[3];a=fm(a,d);c=ll(c,e,this.a,a);am(this.a,a,c,-1);break;case \"removeArrayItem\":if(3>b.length)break;a=b[0];d=b[1];var f=parseInt(b[2],10);$l(this.a,fm(a,d),f);break;case \"updateArrayValue\":if(5>b.length)break;a=b[0];d=b[1];e=JSON.parse(b[2]);c=b[3];f=parseInt(b[4],10);b=e;e=f;a=fm(a,d);$l(this.a,a,e);c=ll(c,b,this.a,a);am(this.a,a,c,e);break;case \"addValue\":if(4>b.length)break;e=b[0];d=JSON.parse(b[1]);a=b[2];c=b[3];a=fm(a,e);c=ll(c,d,this.a,a);bm(this.a,a,c);break;case \"changeInputVariable\":if(2>b.length)break;e=b[0];gm(this,e,b[1]);break;case \"removeValue\":2>b.length||(e=b[0],a=b[1],cm(this.a,fm(a,e)))}};em.prototype.Aa=function(a,b){z(b,function(c,d){Zl(this.a,fm(a,d),c)},this)};em.prototype.updateValue=em.prototype.Aa;var gm=function(a,b,c){switch(b){case \"assets\":a.g&&a.g(c);break;case \"setGdnAction\":b=c,\"string\"===typeof b&&(b=JSON.parse(b)),u(b)&&a.b&&z(a.b(b),function(d,e){\"@\"!=e[0]&&(e=fm(\"\",e),d=ll(d[\"@type\"],d,this.a,e),bm(this.a,e,d))},a)}},im=function(a,b){hm.f.g(a,b)};r(\"studio.sdk.configurable.RUNTIME_MODE\",{FILLER:\"FILLER\",PLAY:\"PLAY\",TRAFFICK:\"TRAFFICK\",DEVELOPMENT:\"DEVELOPMENT\"},void 0);r(\"studio.sdk.configurable.FILLER_CONTEXT\",{CREATIVE:\"CREATIVE\",MANAGEMENT:\"MANAGEMENT\",NONE:\"NONE\"},void 0);var jm=new J,km=new C,hm=null,lm=null,mm=!1,nm=null,om=new F,gk=null,hk=null,pm=!1;r(\"studio.sdk.configurable.reset\",function(){Nc(Rk);Nc(Sk);Uk=Tk=0;Vk=!1;Nc(Pl);Pk.Ca().reset();rk.Ca().reset();lm=null;Nc(km);hm=null;mm=!1;nm=null;pm=!1},void 0);r(\"studio.sdk.configurable.getConfiguration\",function(a){Vk=!0;qm(null,a)},void 0);r(\"studio.sdk.configurable.register\",function(a,b){qm(a,b)},void 0);var qm=function(a,b){D(64)||p.Enabler?rm(w(sm,a,b)):tm(w(um,a,b))};r(\"studio.sdk.configurable.addRegisterListener\",function(a){jm.Da(\"register\",a)},void 0);var rm=function(a){if(p.Enabler){var b=p.Enabler;b.isInitialized()?a():ag(b,\"init\",a)}else tf(om,w(rm,a))};r(\"studio.sdk.configurable.setDefaultVideoPreferences\",function(a,b){gk=a||null;hk=b||null},void 0);var tm=function(a){var b=p.Qf;Pk.Ca().ma(function(c,d,e){pm||(mm=pm=!0,nm=e,a(c),b&&\"function\"===typeof b&&b(d,e))})},sm=function(a,b){if(!pm){pm=!0;var c=new Xj([new ik],!1);rk.Ca().ma(function(d){d=Yj(c,d);um(a,b,d)})}},um=function(a,b,c){c&&(c=dm(a,c),a||(a=c));a&&D(16)?hm=new em(a,vm,!!p.Enabler.getParameter(\"useEnablerMessages\"),wm()):D(1)||(lm=a);b&&b(a);jm.dispatchEvent(new ak(\"register\"))};r(\"studio.sdk.configurable.exit\",function(a,b,c){(a=xm(a,b,\"exit\"))&&p.Enabler?null!=c?p.Enabler.sb(a,c):p.Enabler.exit(a):mm&&(a&&0<a.length?nm.exit(a):nm.exit())},void 0);var xm=function(a,b,c){if((!b||0==b.length)&&mm)return\"\";if(a=kl(a,\"\")){var d=el(a.instance),e=a.propertyName,f=a.index;a=d;e&&(d=d.J()[e],\"number\"===typeof f&&(d=d[f]),(d=el(d))&&(a=d));d=!1;a.f&&(d=Kl(a.b,a.f).j.a.contains(c+\"_\"+b));b=(d=d||a.a.f.a.contains(c+\"_\"+b))||Vk?Fc(il(a),\"::\",b):\"\"}else b=\"\";if(!D(64)&&p.Enabler&&p.Enabler.getParameter(\"AdData\")||mm)b?(b=b.replace(\"[\",\"_\"),b=b.replace(\"]::\",\"_\"),b=b.replace(\".\",\"_\"),Jb(b,\"::\")&&(b=b.substring(2)),b=b.replace(\"::\",\"_\")):b=null;return b};r(\"studio.sdk.configurable.exitQueryString\",function(a,b,c){(a=xm(a,b,\"exit\"))&&p.Enabler&&p.Enabler.tb(a,c)},void 0);r(\"studio.sdk.configurable.counter\",function(a,b,c){(a=xm(a,b,\"counter\"))&&p.Enabler&&p.Enabler.counter(a,c)},void 0);r(\"studio.sdk.configurable.startTimer\",function(a,b){(a=xm(a,b,\"timer\"))&&p.Enabler&&p.Enabler.startTimer(a)},void 0);r(\"studio.sdk.configurable.stopTimer\",function(a,b){(a=xm(a,b,\"timer\"))&&p.Enabler&&p.Enabler.stopTimer(a)},void 0);var vm=function(a){dj(p.Enabler,a)};r(\"studio.sdk.configurable.showFiller\",function(a){hm&&im(\"showNode\",[a])},void 0);r(\"studio.sdk.configurable.hideFiller\",function(a){hm&&im(\"hideNode\",[a])},void 0);r(\"studio.sdk.configurable.changeFillerValue\",function(a,b){hm?(im(\"changeValue\",[a,b]),hm.Aa(a,b,!1)):lm&&z(b,function(c,d){Zl(lm,fm(a,d),c)})},void 0);r(\"studio.sdk.configurable.setTranslationMethod\",function(a){hm&&(hm.b=a)},void 0);r(\"studio.sdk.configurable.showMessage\",function(a){hm&&im(\"showMessage\",[a])},void 0);var wm=function(){if(!p.Enabler)return\"TRAFFICK\";switch(p.Enabler.getParameter(\"layoutsRuntime\")){case \"AUTHORING\":return\"FILLER\";case \"TESTING\":return\"PLAY\";default:return p.Enabler.isInitialized()?D(1)?\"TRAFFICK\":\"DEVELOPMENT\":\"TRAFFICK\"}};r(\"studio.sdk.configurable.getRuntimeMode\",wm,void 0);r(\"studio.sdk.configurable.getFillerContext\",function(){if(!p.Enabler)return\"NONE\";switch(p.Enabler.getParameter(\"fillerContext\")){case \"CREATIVE_FILLER\":return\"CREATIVE\";case \"MANAGEMENT_FILLER_PREVIEW\":return\"MANAGEMENT\";default:return\"NONE\"}},void 0);var ym=function(){Eg(\"enabler\",function(){om.a||om.H()})};sg.configurable=3;if(!D(64)||!p.Enabler){var zm=Ji().f;if(zm){var Am=zm.get(\"e\",null);Ki(Am)}if(D(64))ym();else if(!D(128)){var Bm=xg();/html5/.test(Bm)&&Cf(ze(Bm+\"addata.js\"))}};");
